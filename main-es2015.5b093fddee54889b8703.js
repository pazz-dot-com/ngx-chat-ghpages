(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+qE3":function(t,e,n){"use strict";var s,r="object"==typeof Reflect?Reflect:null,i=r&&"function"==typeof r.apply?r.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};s=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var o=Number.isNaN||function(t){return t!=t};function a(){a.init.call(this)}t.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function l(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function u(t,e,n,s){var r,i,o;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(i=t._events)?(i=t._events=Object.create(null),t._eventsCount=0):(void 0!==i.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),o=i[e]),void 0===o)o=i[e]=n,++t._eventsCount;else if("function"==typeof o?o=i[e]=s?[n,o]:[o,n]:s?o.unshift(n):o.push(n),(r=l(t))>0&&o.length>r&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,console&&console.warn&&console.warn(a)}return t}function h(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,i(this.listener,this.target,t))}function d(t,e,n){var s={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},r=h.bind(s);return r.listener=n,s.wrapFn=r,r}function p(t,e,n){var s=t._events;if(void 0===s)return[];var r=s[e];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(r):m(r,r.length)}function f(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(t,e){for(var n=new Array(e),s=0;s<e;++s)n[s]=t[s];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");c=t}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var s="error"===t,r=this._events;if(void 0!==r)s=s&&void 0===r.error;else if(!s)return!1;if(s){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=r[t];if(void 0===c)return!1;if("function"==typeof c)i(c,this,e);else{var l=c.length,u=m(c,l);for(n=0;n<l;++n)i(u[n],this,e)}return!0},a.prototype.on=a.prototype.addListener=function(t,e){return u(this,t,e,!1)},a.prototype.prependListener=function(t,e){return u(this,t,e,!0)},a.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.on(t,d(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.prependListener(t,d(this,t,e)),this},a.prototype.off=a.prototype.removeListener=function(t,e){var n,s,r,i,o;if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);if(void 0===(s=this._events))return this;if(void 0===(n=s[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete s[t],s.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(r=-1,i=n.length-1;i>=0;i--)if(n[i]===e||n[i].listener===e){o=n[i].listener,r=i;break}if(r<0)return this;0===r?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,r),1===n.length&&(s[t]=n[0]),void 0!==s.removeListener&&this.emit("removeListener",t,o||e)}return this},a.prototype.removeAllListeners=function(t){var e,n,s;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var r,i=Object.keys(n);for(s=0;s<i.length;++s)"removeListener"!==(r=i[s])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(s=e.length-1;s>=0;s--)this.removeListener(t,e[s]);return this},a.prototype.listeners=function(t){return p(this,t,!0)},a.prototype.rawListeners=function(t){return p(this,t,!1)},a.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):f.call(t,e)},a.prototype.listenerCount=f,a.prototype.eventNames=function(){return this._eventsCount>0?s(this._events):[]}},"+vCH":function(t,e){t.exports="function"==typeof Object.create?function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},"/Pg/":function(t,e,n){"use strict";const s=n("5Xc/"),r="urn:ietf:params:xml:ns:xmpp-bind";async function i(t,e,n){const i=(await e.set(function(t){return s("bind",{xmlns:r},t&&s("resource",{},t))}(n))).getChildText("jid");return t._jid(i),i}t.exports=function({streamFeatures:t,iqCaller:e},n){t.use("bind",r,function({iqCaller:t},e){return async function({entity:n},s){"function"==typeof e?await e(e=>i(n,t,e)):await i(n,t,e),s()}}({iqCaller:e},n))}},0:function(t,e,n){t.exports=n("zUnb")},1:function(t,e){},"11hd":function(t,e,n){"use strict";const s=n("SMCS"),r=n("ecQW"),i=n("3rTX");function o(...t){return t[1]||t[2]?new s(...t):i(...t)}(e=t.exports=o.bind()).jid=o,e.JID=s,e.equal=function(t,e){return t.equals(e)},e.detectEscape=r.detect,e.escapeLocal=r.escape,e.unescapeLocal=r.unescape,e.parse=i},"1Zpi":function(t,e,n){"use strict";var s=n("FBhv").escapeXML;t.exports=function(){for(var t=arguments[0],e="",n=1;n<arguments.length;n++)e+=t[n-1],e+=s(arguments[n]);return e+t[t.length-1]}},"1z6q":function(t,e,n){"use strict";t.exports=function(){return async function({stanza:t,entity:e},n){if(!t.is("features","http://etherx.jabber.org/streams"))return n();await n(),e.jid&&e._status("online",e.jid)}}},2:function(t,e){},"2bSl":function(t,e,n){"use strict";const{EventEmitter:s}=n("aZyS");class r extends s{constructor(t){super(),this.delay=1e3,this.entity=t,this._timeout=null}scheduleReconnect(){const{entity:t,delay:e,_timeout:n}=this;clearTimeout(n),this._timeout=setTimeout(async()=>{if("disconnect"===t.status)try{await this.reconnect()}catch(e){}},e)}async reconnect(){const{entity:t}=this;this.emit("reconnecting");const{service:e,domain:n,lang:s}=t.options;await t.connect(e),await t.open({domain:n,lang:s}),this.emit("reconnected")}start(){const{entity:t}=this,e={};e.disconnect=()=>{this.scheduleReconnect()},this.listeners=e,t.on("disconnect",e.disconnect)}stop(){const{entity:t,listeners:e,_timeout:n}=this;t.removeListener("disconnect",e.disconnect),clearTimeout(n)}}t.exports=function({entity:t}){const e=new r(t);return e.start(),e}},3:function(t,e){},"3rTX":function(t,e,n){"use strict";const s=n("SMCS");t.exports=function(t){let e,n;const r=t.indexOf("/");-1!==r&&(n=t.slice(r+1),t=t.slice(0,r));const i=t.indexOf("@");return-1!==i&&(e=t.slice(0,i),t=t.slice(i+1)),new s(e,t,n)}},"5TOP":function(t,e,n){"use strict";const s=n("Ynu2"),r=n("7tQV"),{Deferred:i}=n("aZyS"),o=n("aZyS").timeout,a=n("5Xc/");class c{constructor({entity:t,middleware:e}){this.handlers=new Map,this.entity=t,this.middleware=e}start(){this.middleware.use(this._route.bind(this))}_route({type:t,name:e,id:n,stanza:s},i){if(!function({name:t,type:e}){return"iq"===t&&("error"===e||"result"===e)}({name:e,type:t}))return i();const o=this.handlers.get(n);if(!o)return i();"error"===t?o.reject(r.fromElement(s.getChild("error"))):o.resolve(s),this.handlers.delete(n)}async request(t,e=3e4){t.attrs.id||(t.attrs.id=s());const n=new i;this.handlers.set(t.attrs.id,n);try{await this.entity.send(t),await o(n.promise,e)}catch(r){throw this.handlers.delete(t.attrs.id),r}return n.promise}_childRequest(t,e,n,...s){const{name:r}=e,{xmlns:i}=e.attrs;return this.request(a("iq",{type:t,to:n},e),...s).then(t=>t.getChild(r,i))}async get(...t){return this._childRequest("get",...t)}async set(...t){return this._childRequest("set",...t)}}t.exports=function(...t){const e=new c(...t);return e.start(),e}},"5Xc/":function(t,e,n){"use strict";const s=n("fwOs"),r=n("r7uu"),i=n("F0uP"),{escapeXML:o,unescapeXML:a,escapeXMLText:c,unescapeXMLText:l}=n("FBhv"),u=n("7oIi");e=t.exports=function(...t){return s(...t)},Object.assign(e,{x:s,Element:r,Parser:i,escapeXML:o,unescapeXML:a,escapeXMLText:c,unescapeXMLText:l,XMLError:u})},"6XPB":function(t,e,n){"use strict";const s=n(1),r=global.WebSocket||s,i=n("+qE3"),o="ECONNERROR";t.exports=class extends i{constructor(){super(),this.listeners=Object.create(null)}connect(t){this.url=t,this._attachSocket(new r(t,["xmpp"]))}_attachSocket(t){const e=this.socket=t,{listeners:n}=this;n.open=()=>{this.emit("connect")},n.message=({data:t})=>this.emit("data",t),n.error=t=>{let{error:e}=t;e||(e=new Error(`WebSocket ${o} ${this.url}`),e.errno=o,e.code=o),e.event=t,e.url=this.url,this.emit("error",e)},n.close=t=>{this._detachSocket(),this.emit("close",!t.wasClean,t)},e.addEventListener("open",n.open),e.addEventListener("message",n.message),e.addEventListener("error",n.error),e.addEventListener("close",n.close)}_detachSocket(){delete this.url;const{socket:t,listeners:e}=this;Object.getOwnPropertyNames(e).forEach(n=>{t.removeEventListener(n,e[n]),delete e[n]}),delete this.socket}end(){this.socket.close()}write(t,e){r===s?this.socket.send(t,e):(this.socket.send(t),e())}}},"7oIi":function(t,e,n){"use strict";t.exports=class extends Error{constructor(...t){super(...t),this.name="XMLError"}}},"7tQV":function(t,e,n){"use strict";const s=n("IhKv");t.exports=class extends s{constructor(t,e,n,s){super(t,e,n),this.type=s,this.name="StanzaError"}static fromElement(t){const e=super.fromElement(t);return e.type=t.attrs.type,e}}},9248:function(t,e,n){"use strict";const s=n("wrth");t.exports=function(t,e,n="error",r){return new Promise((i,o)=>{let a;const c=()=>{clearTimeout(a),t.removeListener(e,u),t.removeListener(n,l)};function l(t){o(t),c()}function u(t){i(t),c()}t.once(e,u),n&&t.once(n,l),r&&(a=setTimeout(()=>{c(),o(new s)},r))})}},"B+A2":function(t,e,n){"use strict";function s(t,e){return t.name===e.name}function r(t,e){var n=t.attrs,s=Object.keys(n),r=s.length;if(r!==Object.keys(e.attrs).length)return!1;for(var i=0,o=r;i<o;i++){var a=s[i],c=n[a];if(null==c||null==e.attrs[a]){if(c!==e.attrs[a])return!1}else if(c.toString()!==e.attrs[a].toString())return!1}return!0}function i(t,e){var n=t.children,s=n.length;if(s!==e.children.length)return!1;for(var r=0,i=s;r<i;r++){var o=n[r];if("string"==typeof o){if(o!==e.children[r])return!1}else if(!o.equals(e.children[r]))return!1}return!0}t.exports.name=s,t.exports.attrs=r,t.exports.children=i,t.exports.equal=function(t,e){return!!s(t,e)&&!!r(t,e)&&!!i(t,e)}},BONz:function(t,e,n){"use strict";const s=n("1z6q");t.exports=function({middleware:t}){return t.use(s()),{use:function(e,n,s){return t.use((t,r)=>{const{stanza:i}=t;if(!i.is("features","http://etherx.jabber.org/streams"))return r();const o=i.getChild(e,n);return o?s(t,r,o):r()})}}}},BXOR:function(t,e,n){"use strict";const s=n("wCYT"),{promise:r}=n("aZyS");t.exports=function({entity:t}){const e=t.connect;t.connect=async function(n){if(!n||n.match(/:\/\//))return e.call(this,n);const i=function(t,e){return e.filter(e=>t._findTransport(e))}(t,await async function(t){return[...new Set((await s(t,{srv:[{service:"xmpps-client",protocol:"tcp"},{service:"xmpp-client",protocol:"tcp"}]})).map(t=>t.uri))]}(n));if(0===i.length)throw new Error("No compatible transport found.");try{await async function t(e,n){if(0===n.length)throw new Error("Couldn't connect");const s=n.shift(),i=e._findTransport(s);if(!i)return t(e,n);e._status("connecting",s);const o=i.prototype.socketParameters(s),a=new i.prototype.Socket;try{a.connect(o),await r(a,"connect")}catch(c){return t(e,n)}e._attachSocket(a),a.emit("connect"),e.Transport=i,e.Socket=i.prototype.Socket,e.Parser=i.prototype.Parser}(t,i)}catch(o){throw t._reset(),t._status("disconnect"),o}}}},"D8/E":function(t,e,n){"use strict";const s=n("IhKv");t.exports=class extends s{constructor(...t){super(...t),this.name="StreamError"}}},DCho:function(t,e,n){"use strict";const s=n("6XPB"),r=n("Ka2+"),i=n("5Xc/"),o=n("Iuzl"),a="urn:ietf:params:xml:ns:xmpp-framing";class c extends r{send(t,...e){return!t.attrs.xmlns&&super.isStanza(t)&&(t.attrs.xmlns="jabber:client"),super.send(t,...e)}footerElement(){return new i.Element("close",{xmlns:a})}headerElement(){const t=super.headerElement();return t.name="open",t.attrs.xmlns=a,t}socketParameters(t){return t.match(/^wss?:\/\//)?t:void 0}}c.prototype.Socket=s,c.prototype.NS="jabber:client",c.prototype.Parser=o,t.exports=c},DtO2:function(t,e,n){"use strict";function s(t){return t.startsWith("https")||t.startsWith("wss")}t.exports.compare=function(t,e){let n,r;return n=s(t.uri)&&!s(e.uri)?-1:!s(t.uri)&&s(e.uri)?1:0,0!==n?n:(r=t.method===e.method?0:"websocket"===t.method?-1:"websocket"===e.method?1:"xbosh"===t.method?-1:"xbosh"===e.method?1:"httppoll"===t.method?-1:"httppoll"===e.method?1:0,0!==r?r:0)}},EvjY:function(t,e,n){"use strict";const s=n("F0uP");t.exports=function(t){const e=new s;let n=null,r=null;if(e.on("start",t=>{n=t}),e.on("element",t=>{n.append(t)}),e.on("error",t=>{r=t}),e.write(t),e.end(),r)throw r;return n}},F0uP:function(t,e,n){"use strict";const s=n("iNIZ"),r=n("r7uu"),i=n("+qE3"),o=n("7oIi");class a extends i{constructor(){super();const t=new s;this.root=null,this.cursor=null,t.on("startElement",this.onStartElement.bind(this)),t.on("endElement",this.onEndElement.bind(this)),t.on("text",this.onText.bind(this)),this.parser=t}onStartElement(t,e){const n=new r(t,e),{root:s,cursor:i}=this;s?i!==s&&i.append(n):(this.root=n,this.emit("start",n)),this.cursor=n}onEndElement(t){const{root:e,cursor:n}=this;if(t===n.name){if(n!==e)return n.parent?void(this.cursor=n.parent):(n.parent=e,this.emit("element",n),void(this.cursor=e));this.emit("end",e)}else this.emit("error",new o(n.name+" must be closed."))}onText(t){const{cursor:e}=this;e?e.t(t):this.emit("error",new o(t+" must be a child."))}write(t){this.parser.write(t)}end(t){t&&this.parser.write(t)}}a.XMLError=o,t.exports=a},FBhv:function(t,e,n){"use strict";var s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"};function r(t){return s[t]}var i={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'"};function o(t){if("#"===t[1]){var e;if(9===(e="x"===t[2]?parseInt(t.slice(3),16):parseInt(t.slice(2),10))||10===e||13===e||e>=32&&e<=55295||e>=57344&&e<=65533||e>=65536&&e<=1114111)return String.fromCodePoint(e);throw new Error("Illegal XML character 0x"+e.toString(16))}if(i[t])return i[t]||t;throw new Error("Illegal XML entity "+t)}e.escapeXML=function(t){return t.replace(/&|<|>|"|'/g,r)},e.unescapeXML=function(t){for(var e="",n=-1,s=-1,r=0;-1!==(n=t.indexOf("&",r))&&-1!==(s=t.indexOf(";",n+1));)e=e+t.substring(r,n)+o(t.substring(n,s+1)),r=s+1;return 0===r?t:e+=t.substring(r)},e.escapeXMLText=function(t){return t.replace(/&|<|>/g,r)},e.unescapeXMLText=function(t){return t.replace(/&(amp|#38|lt|#60|gt|#62);/g,o)}},HnAt:function(t,e,n){"use strict";var s=n("FBhv"),r=s.escapeXML,i=s.escapeXMLText,o=n("B+A2"),a=o.equal,c=o.name,l=o.attrs,u=o.children,h=n("JOUE");function d(t,e){this.name=t,this.parent=null,this.children=[],this.attrs={},this.setAttrs(e)}d.prototype.is=function(t,e){return this.getName()===t&&(!e||this.getNS()===e)},d.prototype.getName=function(){return this.name.indexOf(":")>=0?this.name.substr(this.name.indexOf(":")+1):this.name},d.prototype.getNS=function(){if(this.name.indexOf(":")>=0){var t=this.name.substr(0,this.name.indexOf(":"));return this.findNS(t)}return this.findNS()},d.prototype.findNS=function(t){if(t){var e="xmlns:"+t;if(this.attrs[e])return this.attrs[e];if(this.parent)return this.parent.findNS(t)}else{if(this.attrs.xmlns)return this.attrs.xmlns;if(this.parent)return this.parent.findNS()}},d.prototype.getXmlns=function(){var t={};for(var e in this.parent&&(t=this.parent.getXmlns()),this.attrs){var n=e.match("xmlns:?(.*)");this.attrs.hasOwnProperty(e)&&n&&(t[this.attrs[e]]=n[1])}return t},d.prototype.setAttrs=function(t){"string"==typeof t?this.attrs.xmlns=t:t&&Object.keys(t).forEach((function(e){this.attrs[e]=t[e]}),this)},d.prototype.getAttr=function(t,e){if(!e)return this.attrs[t];var n=this.getXmlns();return n[e]?this.attrs[[n[e],t].join(":")]:null},d.prototype.getChild=function(t,e){return this.getChildren(t,e)[0]},d.prototype.getChildren=function(t,e){for(var n=[],s=0;s<this.children.length;s++){var r=this.children[s];!r.getName||r.getName()!==t||e&&r.getNS()!==e||n.push(r)}return n},d.prototype.getChildByAttr=function(t,e,n,s){return this.getChildrenByAttr(t,e,n,s)[0]},d.prototype.getChildrenByAttr=function(t,e,n,s){for(var r=[],i=0;i<this.children.length;i++){var o=this.children[i];!o.attrs||o.attrs[t]!==e||n&&o.getNS()!==n||r.push(o),s&&o.getChildrenByAttr&&r.push(o.getChildrenByAttr(t,e,n,!0))}return s&&(r=[].concat.apply([],r)),r},d.prototype.getChildrenByFilter=function(t,e){for(var n=[],s=0;s<this.children.length;s++){var r=this.children[s];t(r)&&n.push(r),e&&r.getChildrenByFilter&&n.push(r.getChildrenByFilter(t,!0))}return e&&(n=[].concat.apply([],n)),n},d.prototype.getText=function(){for(var t="",e=0;e<this.children.length;e++){var n=this.children[e];"string"!=typeof n&&"number"!=typeof n||(t+=n)}return t},d.prototype.getChildText=function(t,e){var n=this.getChild(t,e);return n?n.getText():null},d.prototype.getChildElements=function(){return this.getChildrenByFilter((function(t){return t instanceof d}))},d.prototype.tree=d.prototype.root=function(){return this.parent?this.parent.root():this},d.prototype.up=function(){return this.parent?this.parent:this},d.prototype.c=function(t,e){return this.cnode(new d(t,e))},d.prototype.cnode=function(t){return this.children.push(t),"object"==typeof t&&(t.parent=this),t},d.prototype.t=function(t){return this.children.push(t),this},d.prototype.remove=function(t,e){return this.children=this.children.filter("string"==typeof t?function(n){return!(n.is&&n.is(t,e))}:function(e){return e!==t}),this},d.prototype.clone=function(){return h(this)},d.prototype.text=function(t){return t&&1===this.children.length?(this.children[0]=t,this):this.getText()},d.prototype.attr=function(t,e){return void 0!==e||null===e?(this.attrs||(this.attrs={}),this.attrs[t]=e,this):this.attrs[t]},d.prototype.toString=function(){var t="";return this.write((function(e){t+=e})),t},d.prototype.toJSON=function(){return{name:this.name,attrs:this.attrs,children:this.children.map((function(t){return t&&t.toJSON?t.toJSON():t}))}},d.prototype._addChildren=function(t){t(">");for(var e=0;e<this.children.length;e++){var n=this.children[e];(n||0===n)&&(n.write?n.write(t):"string"==typeof n?t(i(n)):n.toString&&t(i(n.toString(10))))}t("</"),t(this.name),t(">")},d.prototype.write=function(t){for(var e in t("<"),t(this.name),this.attrs){var n=this.attrs[e];null!=n&&(t(" "),t(e),t('="'),"string"!=typeof n&&(n=n.toString()),t(r(n)),t('"'))}0===this.children.length?t("/>"):this._addChildren(t)},d.prototype.nameEquals=function(t){return c(this,t)},d.prototype.attrsEquals=function(t){return l(this,t)},d.prototype.childrenEquals=function(t){return u(this,t)},d.prototype.equals=function(t){return a(this,t)},t.exports=d},"ICF/":function(t,e,n){"use strict";t.exports=class{constructor(t,e){this.stanza=e,this.entity=t;const{name:n,attrs:s}=e,{type:r,id:i}=s;this.name=n,this.id=i||"",this.type="message"===n?r||"normal":"presence"===n?r||"available":r||"",this.from=null,this.to=null,this.local="",this.domain="",this.resource=""}}},IhKv:function(t,e,n){"use strict";class s extends Error{constructor(t,e,n){super(t+(e?" - "+e:"")),this.name="XMPPError",this.condition=t,this.text=e,this.application=n}static fromElement(t){const[e,n,s]=t.children;let r,i;n&&(n.is("text")?r=n:n&&(i=n),s&&(i=s));const o=new this(e.name,r?r.text():"",i);return o.element=t,o}}t.exports=s},Iuzl:function(t,e,n){"use strict";const{Parser:s,Element:r,XMLError:i}=n("5Xc/");t.exports=class extends s{onStartElement(t,e){const n=new r(t,e),{cursor:s}=this;s&&s.append(n),this.cursor=n}onEndElement(t){const{cursor:e}=this;t===e.name?e.parent?this.cursor=e.parent:(e.is("open","urn:ietf:params:xml:ns:xmpp-framing")?this.emit("start",e):e.is("close","urn:ietf:params:xml:ns:xmpp-framing")?this.emit("end",e):this.emit("element",e),this.cursor=null):this.emit("error",new i(e.name+" must be closed."))}}},JOUE:function(t,e,n){"use strict";t.exports=function(t){for(var e=new t.constructor(t.name,t.attrs),n=0;n<t.children.length;n++){var s=t.children[n];e.cnode(s.clone?s.clone():s)}return e}},"Ka2+":function(t,e,n){"use strict";const{EventEmitter:s,promise:r}=n("aZyS"),i=n("11hd"),o=n("5Xc/"),a=n("D8/E"),{parseHost:c,parseService:l}=n("YCi7");class u extends s{constructor(t={}){super(),this.jid=null,this.timeout=2e3,this.options=t,this.socketListeners=Object.create(null),this.parserListeners=Object.create(null),this.status="offline",this.socket=null,this.parser=null,this.root=null}_reset(){this.jid=null,this.status="offline",this._detachSocket(),this._detachParser()}async _streamError(t,e){try{await this.send(o("stream:error",{},[o(t,{xmlns:"urn:ietf:params:xml:ns:xmpp-streams"},e)]))}catch(n){}return this._end()}_onData(t){const e=t.toString("utf8");this.emit("input",e),this.parser.write(e)}_onParserError(t){this._streamError("bad-format"),this._detachParser(),this.emit("error",t)}_attachSocket(t){const e=this.socket=t,n=this.socketListeners;n.data=this._onData.bind(this),n.close=(t,e)=>{this._reset(),this._status("disconnect",{clean:!t,event:e})},n.connect=()=>{this._status("connect")},n.error=t=>{this.emit("error",t)},e.on("close",n.close),e.on("data",n.data),e.on("error",n.error),e.on("connect",n.connect)}_detachSocket(){const{socketListeners:t,socket:e}=this;return Object.getOwnPropertyNames(t).forEach(n=>{e.removeListener(n,t[n]),delete t[n]}),this.socket=null,e}_onElement(t){this.emit("element",t),this.emit(this.isStanza(t)?"stanza":"nonza",t),"stream:error"===t.name&&this._onStreamError(t)}_onStreamError(t){const e=a.fromElement(t);"see-other-host"===e.condition?this._onSeeOtherHost(e):this.emit("error",e),this._end()}async _onSeeOtherHost(t){const{protocol:e}=l(this.options.service),n=t.element.getChildText("see-other-host"),{port:s}=c(n);let i;i=s?`${e||"xmpp:"}//${n}`:(e?e+"//":"")+n;try{await r(this,"disconnect");const{domain:t,lang:e}=this.options;await this.connect(i),await this.open({domain:t,lang:e})}catch(o){this.emit("error",o)}}_attachParser(t){const e=this.parser=t,n=this.parserListeners;n.element=this._onElement.bind(this),n.error=this._onParserError.bind(this),n.end=t=>{this._detachParser(),this._status("close",t)},n.start=t=>{this._status("open",t)},e.on("error",n.error),e.on("element",n.element),e.on("end",n.end),e.on("start",n.start)}_detachParser(){const t=this.parserListeners;Object.getOwnPropertyNames(t).forEach(e=>{this.parser.removeListener(e,t[e]),delete t[e]}),this.parser=null}_jid(t){return this.jid=i(t),this.jid}_status(t,...e){this.status=t,this.emit("status",t,...e),this.emit(t,...e)}async _end(){let t;try{t=await this.close()}catch(e){}try{await this.disconnect()}catch(e){}return t}async start(){if("offline"!==this.status)throw new Error("Connection is not offline");const{service:t,domain:e,lang:n}=this.options;await this.connect(t);const s=r(this,"online");return await this.open({domain:e,lang:n}),s}async connect(t){this._status("connecting",t);const e=new this.Socket;return this._attachSocket(e),e.connect(this.socketParameters(t)),r(e,"connect")}async disconnect(t=this.timeout){this.socket&&this._status("disconnecting"),this.socket.end(),await r(this.socket,"close","error",t)}async open(t){this._status("opening"),"string"==typeof t&&(t={domain:t});const{domain:e,lang:n,timeout:s=this.timeout}=t,i=this.headerElement();return i.attrs.to=e,i.attrs["xml:lang"]=n,this.root=i,this._attachParser(new this.Parser),await this.write(this.header(i)),r(this,"open","error",s)}async stop(){const t=await this._end();return"offline"!==this.status&&this._status("offline",t),t}async close(t=this.timeout){const e=Promise.all([r(this.parser,"end","error",t),this.write(this.footer(this.footerElement()))]);this.parser&&this.socket&&this._status("closing");const[n]=await e;return this.root=null,n}async restart(){this._detachParser();const{domain:t,lang:e}=this.options;return this.open({domain:t,lang:e})}async send(t){t.parent=this.root,this.emit("outgoing",t),await this.write(t),this.emit("send",t)}sendReceive(t,e=this.timeout){return Promise.all([this.send(t),r(this,"element","error",e)]).then(([,t])=>t)}write(t){return new Promise((e,n)=>{if("closing"===this.status)return void n(new Error("Connection is closing"));const s=t.toString("utf8");this.socket.write(s,t=>{if(t)return n(t);this.emit("output",s),e()})})}isStanza(t){const{name:e}=t;return"iq"===e||"message"===e||"presence"===e}isNonza(t){return!this.isStanza(t)}header(t){return t.toString()}headerElement(){return new o.Element("",{version:"1.0",xmlns:this.NS})}footer(t){return t.toString()}footerElement(){}socketParameters(){}}u.prototype.NS="",u.prototype.Socket=null,u.prototype.Parser=null,t.exports=u},MjU2:function(t,e,n){(function(t){!function(t,e,n){(e.exports=n).Factory=n}(0,t,n("OmGz"))}).call(this,n("YuTi")(t))},OmGz:function(t,e,n){(function(t){!function(t,e){function n(){this._mechs=[]}n.prototype.use=function(t,e){return e||(t=(e=t).prototype.name),this._mechs.push({name:t,mech:e}),this},n.prototype.create=function(t){for(var e=0,n=this._mechs.length;e<n;e++)for(var s=0,r=t.length;s<r;s++){var i=this._mechs[e];if(i.name==t[s])return new i.mech}return null},e.exports=n}(0,t)}).call(this,n("YuTi")(t))},Qt44:function(t,e,n){"use strict";t.exports=function(t){let e;const n=new Promise(n=>{e=setTimeout(n,t)});return n.timeout=e,n}},Rwal:function(t,e,n){"use strict";const s=n("IhKv");t.exports=class extends s{constructor(...t){super(...t),this.name="SASLError"}}},SKCq:function(t,e,n){"use strict";const s=n("tw2a"),r=n("5Xc/"),i=n("11hd");t.exports.Client=s,t.exports.xml=r,t.exports.jid=i},SMCS:function(t,e,n){"use strict";const s=n("ecQW");class r{constructor(t,e,n){if("string"!=typeof e||!e)throw new TypeError("Invalid domain.");this.setDomain(e),this.setLocal("string"==typeof t?t:""),this.setResource("string"==typeof n?n:"")}[Symbol.toPrimitive](t){return"number"===t?NaN:this.toString()}toString(t){let e=this._domain;return this._local&&(e=this.getLocal(t)+"@"+e),this._resource&&(e=e+"/"+this._resource),e}bare(){return this._resource?new r(this._local,this._domain,null):this}equals(t){return this._local===t._local&&this._domain===t._domain&&this._resource===t._resource}setLocal(t,e){return(e=e||s.detect(t))&&(t=s.escape(t)),this._local=t&&t.toLowerCase(),this}getLocal(t){let e=null;return e=(t=t||!1)?s.unescape(this._local):this._local,e}setDomain(t){return this._domain=t.toLowerCase(),this}getDomain(){return this._domain}setResource(t){return this._resource=t,this}getResource(){return this._resource}}Object.defineProperty(r.prototype,"local",{get:r.prototype.getLocal,set:r.prototype.setLocal}),Object.defineProperty(r.prototype,"domain",{get:r.prototype.getDomain,set:r.prototype.setDomain}),Object.defineProperty(r.prototype,"resource",{get:r.prototype.getResource,set:r.prototype.setResource}),t.exports=r},UUeg:function(t,e,n){"use strict";var s=n("HnAt");t.exports=function(t,e){for(var n=new s(t,e),r=2;r<arguments.length;r++){var i=arguments[r];i&&n.cnode(i)}return n}},Vdyl:function(t,e,n){"use strict";const s=n("dKiv");t.exports=function(t){t.use(s)}},Wu4F:function(t,e,n){"use strict";const s=n("ICF/"),r=n("11hd");t.exports=class extends s{constructor(t,e){super(t,e);const{jid:n,domain:s}=t,i=e.attrs.to||n&&n.toString(),o=e.attrs.from||s;i&&(this.to=new r(i)),o&&(this.from=new r(o),this.local=this.from.local,this.domain=this.from.domain,this.resource=this.from.resource)}}},YBwQ:function(t,e,n){"use strict";const s=n("YRHw");t.exports=function(t){t.use(s)}},YCi7:function(t,e,n){"use strict";function s(t){let{port:e,hostname:n,protocol:s}=new URL(t);return"[::1]"===n&&(n="::1"),{port:e,hostname:n,protocol:s}}function r(t){const{port:e,hostname:n}=s("http://"+t);return{port:e,hostname:n}}Object.assign(t.exports,{parseURI:s,parseHost:r,parseService:function(t){return t.includes("://")?s(t):r(t)}})},YRHw:function(t,e,n){(function(t){!function(t,e,n){(e.exports=n).Mechanism=n}(0,t,n("oWKi"))}).call(this,n("YuTi")(t))},Ynu2:function(t,e,n){"use strict";t.exports=function(){let t;for(;!t;)t=Math.random().toString(36).slice(2,12);return t}},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},ZUBQ:function(t,e,n){"use strict";const{encode:s,decode:r}=n("ynpZ"),i=n("Rwal"),o=n("5Xc/"),a=n("MjU2"),c="urn:ietf:params:xml:ns:xmpp-sasl";async function l(t,e,n,a){const l=t.create([n]);if(!l)throw new Error("No compatible mechanism");const{domain:u}=e.options,h={username:null,password:null,server:u,host:u,realm:u,serviceType:"xmpp",serviceName:u,...a};return new Promise((t,n)=>{const a=u=>{if(u.attrs.xmlns===c)if("challenge"!==u.name)"failure"===u.name?n(i.fromElement(u)):"success"===u.name&&t(),e.removeListener("nonza",a);else{l.challenge(r(u.text()));const t=l.response(h);e.send(o("response",{xmlns:c,mechanism:l.name},"string"==typeof t?s(t):""))}};e.on("nonza",a),l.clientFirst&&e.send(o("auth",{xmlns:c,mechanism:l.name},s(l.response(h))))})}t.exports=function({streamFeatures:t},e){const n=new a;return t.use("mechanisms",c,async({stanza:t,entity:s})=>{const r=t.getChild("mechanisms",c).children.map(t=>t.text());let i=n._mechs.map(({name:t})=>t).filter(t=>r.includes(t))[0];"function"==typeof e?await e(t=>l(n,s,i,t),i):(e.username||e.password||(i="ANONYMOUS"),await l(n,s,i,e)),await s.restart()}),{use:(...t)=>n.use(...t)}}},aIO7:function(t,e,n){(function(t){!function(t,e){function n(){}n.prototype.name="PLAIN",n.prototype.clientFirst=!0,n.prototype.response=function(t){var e="";return e+=t.authzid||"",e+="\0",e+=t.username,(e+="\0")+t.password},n.prototype.challenge=function(t){return this},e.exports=n}(0,t)}).call(this,n("YuTi")(t))},aVuF:function(t,e,n){"use strict";var s=n("cLY/"),r=n("b9Ds"),i=n("FBhv"),o=n("HnAt"),a=n("B+A2"),c=n("UUeg"),l=n("hcGA"),u=n("1Zpi"),h=n("rECj"),d=n("JOUE"),p=n("ylCe");(e=t.exports=function(){return l.apply(null,arguments)}).Element=o,e.equal=a.equal,e.nameEqual=a.name,e.attrsEqual=a.attrs,e.childrenEqual=a.children,e.isNode=h.isNode,e.isElement=h.isElement,e.isText=h.isText,e.clone=d,e.createElement=c,e.escapeXML=i.escapeXML,e.unescapeXML=i.unescapeXML,e.escapeXMLText=i.escapeXMLText,e.unescapeXMLText=i.unescapeXMLText,e.Parser=r,e.parse=s,e.tag=l,e.tagString=u,e.stringify=p},aZyS:function(t,e,n){"use strict";const s=n("giAP"),r=n("Qt44"),i=n("wrth"),o=n("9248"),a=n("+qE3"),c=n("qnr7");e.EventEmitter=a,e.timeout=s,e.delay=r,e.TimeoutError=i,e.promise=o,e.Deferred=c},b9Ds:function(t,e,n){"use strict";var s=n("+qE3").EventEmitter,r=n("+vCH"),i=n("HnAt"),o=n("iNIZ"),a=function(t){s.call(this);var e,n=this.Parser=t&&t.Parser||this.DefaultParser,r=this.Element=t&&t.Element||this.DefaultElement;this.parser=new n;var i=this;this.parser.on("startElement",(function(t,n){var s=new r(t,n);e=e?e.cnode(s):s})),this.parser.on("endElement",(function(t){e&&t===e.name&&(e.parent?e=e.parent:i.tree||(i.tree=e,e=void 0))})),this.parser.on("text",(function(t){e&&e.t(t)})),this.parser.on("error",(function(t){i.error=t,i.emit("error",t)}))};r(a,s),a.prototype.DefaultParser=o,a.prototype.DefaultElement=i,a.prototype.write=function(t){this.parser.write(t)},a.prototype.end=function(t){this.parser.end(t),this.error||(this.tree?this.emit("tree",this.tree):this.emit("error",new Error("Incomplete document")))},t.exports=a},bpIX:function(t,e,n){"use strict";const s=n("ICF/"),r=n("11hd");t.exports=class extends s{constructor(t,e){super(t,e);const{jid:n,domain:s}=t,i=e.attrs.from||n&&n.toString(),o=e.attrs.to||s;i&&(this.from=new r(i)),o&&(this.to=new r(o),this.local=this.to.local,this.domain=this.to.domain,this.resource=this.to.resource)}}},"cLY/":function(t,e,n){"use strict";var s=n("b9Ds");t.exports=function(t,e){var n;n="function"==typeof e?new e:new s(e);var r=null,i=null;if(n.on("tree",(function(t){r=t})),n.on("error",(function(t){i=t})),n.write(t),n.end(),i)throw i;return r}},dKiv:function(t,e,n){(function(t){!function(t,e,n){(e.exports=n).Mechanism=n}(0,t,n("aIO7"))}).call(this,n("YuTi")(t))},ecQW:function(t,e,n){"use strict";t.exports.detect=function(t){return!!t&&-1!==t.replace(/\\20/g,"").replace(/\\22/g,"").replace(/\\26/g,"").replace(/\\27/g,"").replace(/\\2f/g,"").replace(/\\3a/g,"").replace(/\\3c/g,"").replace(/\\3e/g,"").replace(/\\40/g,"").replace(/\\5c/g,"").search(/\\| |"|&|'|\/|:|<|>|@/g)},t.exports.escape=function(t){return null===t?null:t.replace(/^\s+|\s+$/g,"").replace(/\\/g,"\\5c").replace(/ /g,"\\20").replace(/"/g,"\\22").replace(/&/g,"\\26").replace(/'/g,"\\27").replace(/\//g,"\\2f").replace(/:/g,"\\3a").replace(/</g,"\\3c").replace(/>/g,"\\3e").replace(/@/g,"\\40").replace(/\3a/g,"\x05c3a")},t.exports.unescape=function(t){return null===t?null:t.replace(/\\20/g," ").replace(/\\22/g,'"').replace(/\\26/g,"&").replace(/\\27/g,"'").replace(/\\2f/g,"/").replace(/\\3a/g,":").replace(/\\3c/g,"<").replace(/\\3e/g,">").replace(/\\40/g,"@").replace(/\\5c/g,"\\")}},fwOs:function(t,e,n){"use strict";const s=n("r7uu");function r(t,e){!1!==e&&null!=e&&(e instanceof s?t.append(e):Array.isArray(e)?e.forEach(e=>r(t,e)):t.append(String(e)))}t.exports=function(t,e,...n){const i=new s(t,e);for(let s=0;s<n.length;s++)r(i,n[s]);return i}},giAP:function(t,e,n){"use strict";const s=n("wrth"),r=n("Qt44");t.exports=function(t,e){const n=r(e);return Promise.race([t.finally((function(){clearTimeout(n.timeout)})),n.then(()=>{throw new s})])}},hcGA:function(t,e,n){"use strict";var s=n("1Zpi"),r=n("cLY/");t.exports=function(){return r(s.apply(null,arguments))}},iNIZ:function(t,e,n){"use strict";var s=n("+vCH"),r=n("+qE3").EventEmitter,i=n("FBhv").unescapeXML,o=t.exports=function(){r.call(this);var t,e,n,s,o,a,c,l,u=0,h=0;this._handleTagOpening=function(t,e,n){t?this.emit("endElement",e):(this.emit("startElement",e,n),o&&this.emit("endElement",e))},this.write=function(r){"string"!=typeof r&&(r=r.toString());var d=0;function p(){if("number"==typeof h){var t=r.substring(h,d);return h=void 0,t}}for(t&&(r=t+r,d+=t.length,t=null);d<r.length;d++){if(0===u){var f=r.indexOf("<",d);-1!==f&&d!==f&&(d=f)}else if(8===u){var m=r.indexOf(c,d);-1!==m&&(d=m)}else if(1===u){var g=r.indexOf("--\x3e",d);-1!==g&&(d=g+2)}else if(10===u){var y=r.indexOf("]]>",d);-1!==y&&(d=y+2)}var v=r.charCodeAt(d);switch(u){case 0:if(60===v){var b=p();b&&this.emit("text",i(b)),u=3,h=d+1,n={}}break;case 9:if(93===v&&"]>"===r.substr(d+1,2)){var w=p();w&&this.emit("text",w),u=0}break;case 3:47===v&&h===d?(h=d+1,s=!0):33===v?"[CDATA["===r.substr(d+1,7)?(h=d+8,u=9):(h=void 0,u=1):63===v?(h=void 0,u=2):(v<=32||47===v||62===v)&&(e=p(),d--,u=4);break;case 1:if(62===v){var _=r.charCodeAt(d-1),S=r.charCodeAt(d-2);(45===_&&45===S||93===_&&93===S)&&(u=0)}break;case 2:62===v&&63===r.charCodeAt(d-1)&&(u=0);break;case 4:62===v?(this._handleTagOpening(s,e,n),e=void 0,n=void 0,s=void 0,o=void 0,u=0,h=d+1):47===v?o=!0:v>32&&(h=d,u=5);break;case 5:(v<=32||61===v)&&(l=p(),d--,u=6);break;case 6:61===v&&(u=7);break;case 7:34!==v&&39!==v||(a=v,c=34===v?'"':"'",u=8,h=d+1);break;case 8:if(v===a){var C=i(p());n[l]=C,l=void 0,u=4}}}"number"==typeof h&&h<=r.length&&(t=r.slice(h),h=0)}};s(o,r),o.prototype.end=function(t){t&&this.write(t),this.write=function(){}}},jJ3S:function(t,e,n){"use strict";t.exports=function(t){return(t.split("://")[1]||t).split(":")[0].split("/")[0]}},"o2+m":function(t,e,n){"use strict";const s=n("5Xc/"),r="urn:ietf:params:xml:ns:xmpp-session";t.exports=function({iqCaller:t,streamFeatures:e}){e.use("session",r,async(e,n,i)=>(i.getChild("optional")||await t.set(s("session",r)),n()))}},oWKi:function(t,e,n){(function(t){!function(t,e){function n(){}n.prototype.name="ANONYMOUS",n.prototype.clientFirst=!0,n.prototype.response=function(t){return t.trace||""},n.prototype.challenge=function(t){},e.exports=n}(0,t)}).call(this,n("YuTi")(t))},qnr7:function(t,e,n){"use strict";t.exports=function(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}},qoXl:function(t,e,n){"use strict";const s=n("5Xc/");function r({stanza:t}){return s("iq",{to:t.attrs.from,from:t.attrs.to,id:t.attrs.id})}function i(t,e,n){const s=r(t);return s.attrs.type="error",n&&s.append(n),s.append(e),s}function o(t,e){return s("error",{type:t},s(e,"urn:ietf:params:xml:ns:xmpp-stanzas"))}function a(t,e,n,s){return function(r,i){return r.type!==t|!r.element||!r.element.is(n,e)?i():s(r,i)}}t.exports=function({middleware:t,entity:e}){return t.use(function(t){return async function(e,n){if(!function({name:t,type:e}){return"iq"===t&&"error"!==e&&"result"!==e}(e))return n();const{stanza:a}=e,c=a.getChildElements(),[l]=c;if(!function({type:t},e,n){return("get"===t||"set"===t)&&1===e.length&&!!n}(e,c,l))return i(e,o("modify","bad-request"),l);let u;e.element=l;try{u=await n()}catch(h){t.emit("error",h),u=o("cancel","internal-server-error")}return u||(u=o("cancel","service-unavailable")),u instanceof s.Element&&u.is("error")?i(e,u,l):function(t,e){const n=r(t);return n.attrs.type="result",e&&n.append(e),n}(e,u instanceof s.Element?u:void 0)}}(e)),{get(e,n,s){t.use(a("get",e,n,s))},set(e,n,s){t.use(a("set",e,n,s))}}}},"qwA/":function(t,e,n){"use strict";t.exports=function(t){if(!Array.isArray(t))throw new TypeError("Middleware stack must be an array!");for(const e of t)if("function"!=typeof e)throw new TypeError("Middleware must be composed of functions!");return function(e,n){let s=-1;return function r(i){if(i<=s)return Promise.reject(new Error("next() called multiple times"));s=i;let o=t[i];if(i===t.length&&(o=n),!o)return Promise.resolve();try{return Promise.resolve(o(e,r.bind(null,i+1)))}catch(a){return Promise.reject(a)}}(0)}}},r7uu:function(t,e,n){"use strict";const s=n("HnAt");t.exports=class extends s{setAttrs(t){"string"==typeof t?this.attrs.xmlns=t:t&&Object.keys(t).forEach((function(e){if("__source"===e||"__self"===e)return;const n=t[e];null!=n&&(this.attrs[e.toString()]=n.toString())}),this)}append(t){return(t=Array.isArray(t)?t:[t]).forEach(t=>{this.children.push(t),"object"==typeof t&&(t.parent=this)}),this}prepend(t){return(t=Array.isArray(t)?t:[t]).forEach(t=>{this.children.unshift(t),"object"==typeof t&&(t.parent=this)}),this}}},rECj:function(t,e,n){"use strict";var s=n("HnAt");t.exports.isNode=function(t){return t instanceof s||"string"==typeof t},t.exports.isElement=function(t){return t instanceof s},t.exports.isText=function(t){return"string"==typeof t}},"s/UO":function(t,e,n){"use strict";const s=n("DCho");t.exports=function({entity:t}){t.transports.push(s)}},sL7M:function(t,e,n){"use strict";const{xml:s,jid:r,Client:i}=n("SKCq"),o=n("jJ3S"),a=n("2bSl"),c=n("s/UO"),l=n("ts6H"),u=n("BONz"),h=n("5TOP"),d=n("qoXl"),p=n("BXOR"),f=n("ZUBQ"),m=n("/Pg/"),g=n("o2+m"),y=n("YBwQ"),v=n("Vdyl");t.exports.xml=s,t.exports.jid=r,t.exports.client=function(t={}){const{resource:e,credentials:n,username:s,password:r,...b}=t,{domain:w,service:_}=b;!w&&_&&(b.domain=o(_));const S=new i(b),C=a({entity:S}),A=c({entity:S}),x=l({entity:S}),E=u({middleware:x}),O=h({middleware:x,entity:S}),T=d({middleware:x,entity:S}),k=p({entity:S}),I=f({streamFeatures:E},n||{username:s,password:r}),P=m({iqCaller:O,streamFeatures:E},e),M=g({iqCaller:O,streamFeatures:E}),D=Object.entries({plain:v,anonymous:y}).map(([t,e])=>({[t]:e(I)}));return Object.assign(S,{entity:S,reconnect:C,websocket:A,middleware:x,streamFeatures:E,iqCaller:O,iqCallee:T,resolve:k,sasl:I,resourceBinding:P,sessionEstablishment:M,mechanisms:D})}},ts6H:function(t,e,n){"use strict";const s=n("qwA/"),r=n("Wu4F"),i=n("bpIX");function o(t,e,n){return function(r){const i=new n(t,r);return s(e)(i)}}function a(t){return function(e,n){n().then(e=>e&&t.send(e)).catch(e=>t.emit("error",e))}}t.exports=function({entity:t}){const e=[a(t)],n=[],s=o(t,e,r),c=o(t,n,i);return t.on("element",s),t.hookOutgoing=c,{use:t=>(e.push(t),t),filter:t=>(n.push(t),t)}}},tw2a:function(t,e,n){"use strict";const s=n("Ka2+");class r extends s{constructor(t){super(t),this.transports=[]}send(t,...e){return this.Transport.prototype.send.call(this,t,...e)}_findTransport(t){return this.transports.find(e=>{try{return void 0!==e.prototype.socketParameters(t)}catch(n){return!1}})}connect(t){const e=this._findTransport(t);if(!e)throw new Error("No compatible connection method found.");return this.Transport=e,this.Socket=e.prototype.Socket,this.Parser=e.prototype.Parser,super.connect(t)}socketParameters(...t){return this.Transport.prototype.socketParameters(...t)}header(...t){return this.Transport.prototype.header(...t)}headerElement(...t){return this.Transport.prototype.headerElement(...t)}footer(...t){return this.Transport.prototype.footer(...t)}footerElement(...t){return this.Transport.prototype.footerElement(...t)}}r.prototype.NS="jabber:client",t.exports=r},wCYT:function(t,e,n){"use strict";const s=n(2),r=n("yEae");t.exports=function(...t){return Promise.all([s.resolve?s.resolve(...t):Promise.resolve([]),r.resolve(...t)]).then(([t,e])=>t.concat(e))},s.resolve&&(t.exports.dns=s),t.exports.http=r},wrth:function(t,e,n){"use strict";t.exports=class extends Error{constructor(t){super(t),this.name="TimeoutError"}}},yEae:function(t,e,n){"use strict";const s=global.fetch||n(3),r=n("EvjY"),i=n("DtO2").compare;t.exports.resolve=function(t){return s(`https://${t}/.well-known/host-meta`).then(t=>t.text()).then(t=>r(t).getChildren("Link").filter(t=>["urn:xmpp:alt-connections:websocket","urn:xmpp:alt-connections:httppoll","urn:xmpp:alt-connections:xbosh"].includes(t.attrs.rel)).map(({attrs:t})=>({rel:t.rel,href:t.href,method:t.rel.split(":").pop(),uri:t.href})).sort(i)).catch(()=>[])}},ylCe:function(t,e,n){"use strict";t.exports=function t(e,n,s){"number"==typeof n&&(n=" ".repeat(n)),s||(s=1);var r="";return r+="<"+e.name,Object.keys(e.attrs).forEach((function(t){r+=" "+t+'="'+e.attrs[t]+'"'})),e.children.length?(r+=">",e.children.forEach((function(e,i){n&&(r+="\n"+n.repeat(s)),r+="string"==typeof e?e:t(e,n,s+1)})),n&&(r+="\n"+n.repeat(s-1)),r+="</"+e.name+">"):r+="/>",r}},ynpZ:function(t,e,n){"use strict";t.exports.encode=function(t){return global.btoa(t)},t.exports.decode=function(t){return global.atob(t)}},zUnb:function(t,e,n){"use strict";function s(t){return"function"==typeof t}n.r(e);let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}};function o(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(i.useDeprecatedSynchronousErrorHandling)throw t;o(t)},complete(){}},c=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function l(t){return null!==t&&"object"==typeof t}const u=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let h=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:r,_subscriptions:i}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(s(r))try{r.call(this)}catch(o){e=o instanceof u?d(o.errors):[o]}if(c(i)){let t=-1,n=i.length;for(;++t<n;){const n=i[t];if(l(n))try{n.unsubscribe()}catch(o){e=e||[],o instanceof u?e=e.concat(d(o.errors)):e.push(o)}}}if(e)throw new u(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:s}=n;if(null===s)n._parentOrParents=this;else if(s instanceof t){if(s===this)return n;n._parentOrParents=[s,this]}else{if(-1!==s.indexOf(this))return n;s.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function d(t){return t.reduce((t,e)=>t.concat(e instanceof u?e.errors:e),[])}const p=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class f extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof f?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,t,e,n)}}[p](){return this}static create(t,e,n){const s=new f(t,e,n);return s.syncErrorThrowable=!1,s}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class m extends f{constructor(t,e,n,r){let i;super(),this._parentSubscriber=t;let o=this;s(e)?i=e:e&&(i=e.next,n=e.error,r=e.complete,e!==a&&(o=Object.create(e),s(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=i,this._error=n,this._complete=r}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;i.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=i;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):o(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;o(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);i.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),i.useDeprecatedSynchronousErrorHandling)throw n;o(n)}}__tryOrSetError(t,e,n){if(!i.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(s){return i.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=s,t.syncErrorThrown=!0,!0):(o(s),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const g=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function y(){}let v=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,r=function(t,e,n){if(t){if(t instanceof f)return t;if(t[p])return t[p]()}return t||e||n?new f(t,e,n):new f(a)}(t,e,n);if(r.add(s?s.call(r,this.source):this.source||i.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),i.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}_trySubscribe(t){try{return this._subscribe(t)}catch(e){i.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:s}=t;if(e||s)return!1;t=n&&n instanceof f?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=b(e))((e,n)=>{let s;s=this.subscribe(e=>{try{t(e)}catch(r){n(r),s&&s.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[g](){return this}pipe(...t){return 0===t.length?this:((e=t)?1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)}:y)(this);var e}toPromise(t){return new(t=b(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function b(t){if(t||(t=i.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const w=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class _ extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class S extends f{constructor(t){super(t),this.destination=t}}let C=(()=>{class t extends v{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new S(this)}lift(t){const e=new A(this,this);return e.operator=t,e}next(t){if(this.closed)throw new w;if(!this.isStopped){const{observers:e}=this,n=e.length,s=e.slice();for(let r=0;r<n;r++)s[r].next(t)}}error(t){if(this.closed)throw new w;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,s=e.slice();for(let r=0;r<n;r++)s[r].error(t);this.observers.length=0}complete(){if(this.closed)throw new w;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let s=0;s<e;s++)n[s].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new w;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new w;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new _(this,t))}asObservable(){const t=new v;return t.source=this,t}}return t.create=(t,e)=>new A(t,e),t})();class A extends C{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function x(t){return t&&"function"==typeof t.schedule}class E extends f{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const O=t=>e=>{for(let n=0,s=t.length;n<s&&!e.closed;n++)e.next(t[n]);e.complete()};function T(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const k=T(),I=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function P(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const M=t=>{if(t&&"function"==typeof t[g])return s=t,t=>{const e=s[g]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(I(t))return O(t);if(P(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,o),t);if(t&&"function"==typeof t[k])return e=t,t=>{const n=e[k]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=l(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,s};function D(t,e,n,s,r=new E(t,n,s)){if(!r.closed)return e instanceof v?e.subscribe(r):M(e)(r)}class R extends f{notifyNext(t,e,n,s,r){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function j(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new N(t,e))}}class N{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new L(t,this.project,this.thisArg))}}class L extends f{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function F(t,e){return new v(n=>{const s=new h;let r=0;return s.add(e.schedule((function(){r!==t.length?(n.next(t[r++]),n.closed||s.add(this.schedule())):n.complete()}))),s})}function V(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[g]}(t))return function(t,e){return new v(n=>{const s=new h;return s.add(e.schedule(()=>{const r=t[g]();s.add(r.subscribe({next(t){s.add(e.schedule(()=>n.next(t)))},error(t){s.add(e.schedule(()=>n.error(t)))},complete(){s.add(e.schedule(()=>n.complete()))}}))})),s})}(t,e);if(P(t))return function(t,e){return new v(n=>{const s=new h;return s.add(e.schedule(()=>t.then(t=>{s.add(e.schedule(()=>{n.next(t),s.add(e.schedule(()=>n.complete()))}))},t=>{s.add(e.schedule(()=>n.error(t)))}))),s})}(t,e);if(I(t))return F(t,e);if(function(t){return t&&"function"==typeof t[k]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new v(n=>{const s=new h;let r;return s.add(()=>{r&&"function"==typeof r.return&&r.return()}),s.add(e.schedule(()=>{r=t[k](),s.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=r.next();t=n.value,e=n.done}catch(s){return void n.error(s)}e?n.complete():(n.next(t),this.schedule())})))})),s})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof v?t:new v(M(t))}function q(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(q((n,s)=>V(t(n,s)).pipe(j((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new U(t,n)))}class U{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new B(t,this.project,this.concurrent))}}class B extends R{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(s){return void this.destination.error(s)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const s=new E(this,e,n),r=this.destination;r.add(s);const i=D(this,t,void 0,void 0,s);i!==s&&r.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,s,r){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function z(t){return t}function H(t=Number.POSITIVE_INFINITY){return q(z,t)}function $(t,e){return e?F(t,e):new v(O(t))}function G(...t){let e=Number.POSITIVE_INFINITY,n=null,s=t[t.length-1];return x(s)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof s&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof v?t[0]:H(e)($(t,n))}function Q(){return function(t){return t.lift(new W(t))}}class W{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const s=new Y(t,n),r=e.subscribe(s);return s.closed||(s.connection=n.connect()),r}}class Y extends f{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,s=t._connection;this.connection=null,!s||n&&s!==n||s.unsubscribe()}}class J extends v{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new Z(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return Q()(this)}}const X=(()=>{const t=J.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class Z extends S{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function K(){return new C}function tt(){return t=>{return Q()((e=K,function(t){let n;n="function"==typeof e?e:function(){return e};const s=Object.create(t,X);return s.source=t,s.subjectFactory=n,s})(t));var e}}function et(t){return{toString:t}.toString()}function nt(t,e,n){return et(()=>{const s=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function r(...t){if(this instanceof r)return s.apply(this,t),this;const e=new r(...t);return n.annotation=e,n;function n(t,n,s){const r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;r.length<=s;)r.push(null);return(r[s]=r[s]||[]).push(e),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}const st=nt("Inject",t=>({token:t})),rt=nt("Optional"),it=nt("Self"),ot=nt("SkipSelf");var at=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function ct(t){for(let e in t)if(t[e]===ct)return e;throw Error("Could not find renamed property on target object.")}function lt(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ut(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ht(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function dt(t){return pt(t,t[mt])||pt(t,t[vt])}function pt(t,e){return e&&e.token===t?e:null}function ft(t){return t&&(t.hasOwnProperty(gt)||t.hasOwnProperty(bt))?t[gt]:null}const mt=ct({\u0275prov:ct}),gt=ct({\u0275inj:ct}),yt=ct({\u0275provFallback:ct}),vt=ct({ngInjectableDef:ct}),bt=ct({ngInjectorDef:ct});function wt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(wt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function _t(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const St=ct({__forward_ref__:ct});function Ct(t){return t.__forward_ref__=Ct,t.toString=function(){return wt(this())},t}function At(t){return xt(t)?t():t}function xt(t){return"function"==typeof t&&t.hasOwnProperty(St)&&t.__forward_ref__===Ct}const Et="undefined"!=typeof globalThis&&globalThis,Ot="undefined"!=typeof window&&window,Tt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,kt="undefined"!=typeof global&&global,It=Et||kt||Ot||Tt,Pt=ct({\u0275cmp:ct}),Mt=ct({\u0275dir:ct}),Dt=ct({\u0275pipe:ct}),Rt=ct({\u0275mod:ct}),jt=ct({\u0275loc:ct}),Nt=ct({\u0275fac:ct}),Lt=ct({__NG_ELEMENT_ID__:ct});class Ft{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ut({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const Vt=new Ft("INJECTOR",-1),qt={},Ut=/\n/gm,Bt=ct({provide:String,useValue:ct});let zt,Ht=void 0;function $t(t){const e=Ht;return Ht=t,e}function Gt(t){const e=zt;return zt=t,e}function Qt(t,e=at.Default){if(void 0===Ht)throw new Error("inject() must be called from an injection context");return null===Ht?Yt(t,void 0,e):Ht.get(t,e&at.Optional?null:void 0,e)}function Wt(t,e=at.Default){return(zt||Qt)(At(t),e)}function Yt(t,e,n){const s=dt(t);if(s&&"root"==s.providedIn)return void 0===s.value?s.value=s.factory():s.value;if(n&at.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${wt(t)}]`)}function Jt(t){const e=[];for(let n=0;n<t.length;n++){const s=At(t[n]);if(Array.isArray(s)){if(0===s.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=at.Default;for(let e=0;e<s.length;e++){const r=s[e];r instanceof rt||"Optional"===r.ngMetadataName||r===rt?n|=at.Optional:r instanceof ot||"SkipSelf"===r.ngMetadataName||r===ot?n|=at.SkipSelf:r instanceof it||"Self"===r.ngMetadataName||r===it?n|=at.Self:t=r instanceof st||r===st?r.token:r}e.push(Wt(t,n))}else e.push(Wt(s))}return e}class Xt{get(t,e=qt){if(e===qt){const e=new Error(`NullInjectorError: No provider for ${wt(t)}!`);throw e.name="NullInjectorError",e}return e}}class Zt{}class Kt{}function te(t,e){t.forEach(t=>Array.isArray(t)?te(t,e):e(t))}function ee(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ne(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function se(t,e){const n=[];for(let s=0;s<t;s++)n.push(e);return n}function re(t,e,n){let s=oe(t,e);return s>=0?t[1|s]=n:(s=~s,function(t,e,n,s){let r=t.length;if(r==e)t.push(n,s);else if(1===r)t.push(s,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;)t[r]=t[r-2],r--;t[e]=n,t[e+1]=s}}(t,s,e,n)),s}function ie(t,e){const n=oe(t,e);if(n>=0)return t[1|n]}function oe(t,e){return function(t,e,n){let s=0,r=t.length>>1;for(;r!==s;){const n=s+(r-s>>1),i=t[n<<1];if(e===i)return n<<1;i>e?r=n:s=n+1}return~(r<<1)}(t,e)}var ae=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),ce=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const le={},ue=[];let he=0;function de(t){return et(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===ae.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||ue,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||ce.Emulated,id:"c",styles:t.styles||ue,_:null,setInput:null,schemas:t.schemas||null,tView:null},s=t.directives,r=t.features,i=t.pipes;return n.id+=he++,n.inputs=ye(t.inputs,e),n.outputs=ye(t.outputs),r&&r.forEach(t=>t(n)),n.directiveDefs=s?()=>("function"==typeof s?s():s).map(pe):null,n.pipeDefs=i?()=>("function"==typeof i?i():i).map(fe):null,n})}function pe(t){return we(t)||function(t){return t[Mt]||null}(t)}function fe(t){return function(t){return t[Dt]||null}(t)}const me={};function ge(t){const e={type:t.type,bootstrap:t.bootstrap||ue,declarations:t.declarations||ue,imports:t.imports||ue,exports:t.exports||ue,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&et(()=>{me[t.id]=t.type}),e}function ye(t,e){if(null==t)return le;const n={};for(const s in t)if(t.hasOwnProperty(s)){let r=t[s],i=r;Array.isArray(r)&&(i=r[1],r=r[0]),n[r]=s,e&&(e[r]=i)}return n}const ve=de;function be(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function we(t){return t[Pt]||null}function _e(t,e){return t.hasOwnProperty(Nt)?t[Nt]:null}function Se(t,e){const n=t[Rt]||null;if(!n&&!0===e)throw new Error(`Type ${wt(t)} does not have '\u0275mod' property.`);return n}function Ce(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ae(t){return Array.isArray(t)&&!0===t[1]}function xe(t){return 0!=(8&t.flags)}function Ee(t){return 2==(2&t.flags)}function Oe(t){return 1==(1&t.flags)}function Te(t){return null!==t.template}function ke(t){return 0!=(512&t[2])}class Ie{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Pe(){return Me}function Me(t){return t.type.prototype.ngOnChanges&&(t.setInput=Re),De}function De(){const t=je(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===le)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Re(t,e,n,s){const r=je(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:le,current:null}),i=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[n],c=o[a];i[a]=new Ie(c&&c.currentValue,e,o===le),t[s]=e}function je(t){return t.__ngSimpleChanges__||null}Pe.ngInherit=!0;let Ne=void 0;function Le(){return void 0!==Ne?Ne:"undefined"!=typeof document?document:void 0}function Fe(t){return!!t.listen}const Ve={createRenderer:(t,e)=>Le()};function qe(t){for(;Array.isArray(t);)t=t[0];return t}function Ue(t,e){return qe(e[t+20])}function Be(t,e){return qe(e[t.index])}function ze(t,e){return t.data[e+20]}function He(t,e){return t[e+20]}function $e(t,e){const n=e[t];return Ce(n)?n:n[0]}function Ge(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Qe(t){return 4==(4&t[2])}function We(t){return 128==(128&t[2])}function Ye(t,e){return null===t||null==e?null:t[e]}function Je(t){t[18]=0}function Xe(t,e){t[5]+=e;let n=t,s=t[3];for(;null!==s&&(1===e&&1===n[5]||-1===e&&0===n[5]);)s[5]+=e,n=s,s=s[3]}const Ze={lFrame:_n(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Ke(){return Ze.bindingsEnabled}function tn(){return Ze.lFrame.lView}function en(){return Ze.lFrame.tView}function nn(t){Ze.lFrame.contextLView=t}function sn(){return Ze.lFrame.previousOrParentTNode}function rn(t,e){Ze.lFrame.previousOrParentTNode=t,Ze.lFrame.isParent=e}function on(){return Ze.lFrame.isParent}function an(){Ze.lFrame.isParent=!1}function cn(){return Ze.checkNoChangesMode}function ln(t){Ze.checkNoChangesMode=t}function un(){const t=Ze.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function hn(){return Ze.lFrame.bindingIndex}function dn(){return Ze.lFrame.bindingIndex++}function pn(t){const e=Ze.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function fn(t,e){const n=Ze.lFrame;n.bindingIndex=n.bindingRootIndex=t,mn(e)}function mn(t){Ze.lFrame.currentDirectiveIndex=t}function gn(){return Ze.lFrame.currentQueryIndex}function yn(t){Ze.lFrame.currentQueryIndex=t}function vn(t,e){const n=wn();Ze.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function bn(t,e){const n=wn(),s=t[1];Ze.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=s,n.contextLView=t,n.bindingIndex=s.bindingStartIndex}function wn(){const t=Ze.lFrame,e=null===t?null:t.child;return null===e?_n(t):e}function _n(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Sn(){const t=Ze.lFrame;return Ze.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const Cn=Sn;function An(){const t=Sn();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function xn(){return Ze.lFrame.selectedIndex}function En(t){Ze.lFrame.selectedIndex=t}function On(){const t=Ze.lFrame;return ze(t.tView,t.selectedIndex)}function Tn(t,e){for(let n=e.directiveStart,s=e.directiveEnd;n<s;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:r,ngAfterViewInit:i,ngAfterViewChecked:o,ngOnDestroy:a}=e;s&&(t.contentHooks||(t.contentHooks=[])).push(-n,s),r&&((t.contentHooks||(t.contentHooks=[])).push(n,r),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,r)),i&&(t.viewHooks||(t.viewHooks=[])).push(-n,i),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function kn(t,e,n){Mn(t,e,3,n)}function In(t,e,n,s){(3&t[2])===n&&Mn(t,e,n,s)}function Pn(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Mn(t,e,n,s){const r=null!=s?s:-1;let i=0;for(let o=void 0!==s?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(i=e[o],null!=s&&i>=s)break}else e[o]<0&&(t[18]+=65536),(i<r||-1==r)&&(Dn(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function Dn(t,e,n,s){const r=n[s]<0,i=n[s+1],o=t[r?-n[s]:n[s]];r?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,i.call(o)):i.call(o)}class Rn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function jn(t,e,n){const s=Fe(t);let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],a=n[r++],c=n[r++];s?t.setAttribute(e,a,c,o):e.setAttributeNS(o,a,c)}else{const o=i,a=n[++r];Ln(o)?s&&t.setProperty(e,o,a):s?t.setAttribute(e,o,a):e.setAttribute(o,a),r++}}return r}function Nn(t){return 3===t||4===t||6===t}function Ln(t){return 64===t.charCodeAt(0)}function Fn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let s=0;s<e.length;s++){const r=e[s];"number"==typeof r?n=r:0===n||Vn(t,n,r,null,-1===n||2===n?e[++s]:null)}}return t}function Vn(t,e,n,s,r){let i=0,o=t.length;if(-1===e)o=-1;else for(;i<t.length;){const n=t[i++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=i-1;break}}}for(;i<t.length;){const e=t[i];if("number"==typeof e)break;if(e===n){if(null===s)return void(null!==r&&(t[i+1]=r));if(s===t[i+1])return void(t[i+2]=r)}i++,null!==s&&i++,null!==r&&i++}-1!==o&&(t.splice(o,0,e),i=o+1),t.splice(i++,0,n),null!==s&&t.splice(i++,0,s),null!==r&&t.splice(i++,0,r)}function qn(t){return-1!==t}function Un(t){return 32767&t}function Bn(t){return t>>16}function zn(t,e){let n=Bn(t),s=e;for(;n>0;)s=s[15],n--;return s}function Hn(t){return"string"==typeof t?t:null==t?"":""+t}function $n(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Hn(t)}const Gn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(It))();function Qn(t){return t instanceof Function?t():t}let Wn=!0;function Yn(t){const e=Wn;return Wn=t,e}let Jn=0;function Xn(t,e){const n=Kn(t,e);if(-1!==n)return n;const s=e[1];s.firstCreatePass&&(t.injectorIndex=e.length,Zn(s.data,t),Zn(e,null),Zn(s.blueprint,null));const r=ts(t,e),i=t.injectorIndex;if(qn(r)){const t=Un(r),n=zn(r,e),s=n[1].data;for(let r=0;r<8;r++)e[i+r]=n[t+r]|s[t+r]}return e[i+8]=r,i}function Zn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Kn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function ts(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],s=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,s++;return n?n.injectorIndex|s<<16:-1}function es(t,e,n){!function(t,e,n){let s;"string"==typeof n?s=n.charCodeAt(0)||0:n.hasOwnProperty(Lt)&&(s=n[Lt]),null==s&&(s=n[Lt]=Jn++);const r=255&s,i=1<<r,o=64&r,a=32&r,c=e.data;128&r?o?a?c[t+7]|=i:c[t+6]|=i:a?c[t+5]|=i:c[t+4]|=i:o?a?c[t+3]|=i:c[t+2]|=i:a?c[t+1]|=i:c[t]|=i}(t,e,n)}function ns(t,e,n,s=at.Default,r){if(null!==t){const r=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Lt)?t[Lt]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof r){vn(e,t);try{const t=r();if(null!=t||s&at.Optional)return t;throw new Error(`No provider for ${$n(n)}!`)}finally{Cn()}}else if("number"==typeof r){if(-1===r)return new ls(t,e);let i=null,o=Kn(t,e),a=-1,c=s&at.Host?e[16][6]:null;for((-1===o||s&at.SkipSelf)&&(a=-1===o?ts(t,e):e[o+8],cs(s,!1)?(i=e[1],o=Un(a),e=zn(a,e)):o=-1);-1!==o;){a=e[o+8];const t=e[1];if(as(r,o,t.data)){const t=rs(o,e,n,i,s,c);if(t!==ss)return t}cs(s,e[1].data[o+8]===c)&&as(r,o,e)?(i=t,o=Un(a),e=zn(a,e)):o=-1}}}if(s&at.Optional&&void 0===r&&(r=null),0==(s&(at.Self|at.Host))){const t=e[9],i=Gt(void 0);try{return t?t.get(n,r,s&at.Optional):Yt(n,r,s&at.Optional)}finally{Gt(i)}}if(s&at.Optional)return r;throw new Error(`NodeInjector: NOT_FOUND [${$n(n)}]`)}const ss={};function rs(t,e,n,s,r,i){const o=e[1],a=o.data[t+8],c=is(a,o,n,null==s?Ee(a)&&Wn:s!=o&&3===a.type,r&at.Host&&i===a);return null!==c?os(e,o,c,a):ss}function is(t,e,n,s,r){const i=t.providerIndexes,o=e.data,a=1048575&i,c=t.directiveStart,l=i>>20,u=r?a+l:t.directiveEnd;for(let h=s?a:a+l;h<u;h++){const t=o[h];if(h<c&&n===t||h>=c&&t.type===n)return h}if(r){const t=o[c];if(t&&Te(t)&&t.type===n)return c}return null}function os(t,e,n,s){let r=t[n];const i=e.data;if(r instanceof Rn){const o=r;if(o.resolving)throw new Error("Circular dep for "+$n(i[n]));const a=Yn(o.canSeeViewProviders);let c;o.resolving=!0,o.injectImpl&&(c=Gt(o.injectImpl)),vn(t,s);try{r=t[n]=o.factory(void 0,i,t,s),e.firstCreatePass&&n>=s.directiveStart&&function(t,e,n){const{ngOnChanges:s,ngOnInit:r,ngDoCheck:i}=e.type.prototype;if(s){const s=Me(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,r),i&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,i))}(n,i[n],e)}finally{o.injectImpl&&Gt(c),Yn(a),o.resolving=!1,Cn()}}return r}function as(t,e,n){const s=64&t,r=32&t;let i;return i=128&t?s?r?n[e+7]:n[e+6]:r?n[e+5]:n[e+4]:s?r?n[e+3]:n[e+2]:r?n[e+1]:n[e],!!(i&1<<t)}function cs(t,e){return!(t&at.Self||t&at.Host&&e)}class ls{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return ns(this._tNode,this._lView,t,void 0,e)}}function us(t){const e=t;if(xt(t))return()=>{const t=us(At(e));return t?t():null};let n=_e(e);if(null===n){const t=ft(e);n=t&&t.factory}return n||null}function hs(t){return et(()=>{const e=t.prototype.constructor,n=e[Nt]||us(e),s=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==s;){const t=r[Nt]||us(r);if(t&&t!==n)return t;r=Object.getPrototypeOf(r)}return t=>new t})}function ds(t){return t.ngDebugContext}function ps(t){return t.ngOriginalError}function fs(t,...e){t.error(...e)}class ms{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),s=function(t){return t.ngErrorLogger||fs}(t);s(this._console,"ERROR",t),e&&s(this._console,"ORIGINAL ERROR",e),n&&s(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?ds(t)?ds(t):this._findContext(ps(t)):null}_findOriginalError(t){let e=ps(t);for(;e&&ps(e);)e=ps(e);return e}}class gs{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}function ys(t){return t instanceof gs?t.changingThisBreaksApplicationSecurity:t}function vs(t,e){const n=function(t){return t instanceof gs&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}let bs=!0,ws=!1;function _s(){return ws=!0,bs}class Ss{getInertBodyElement(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class Cs{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let s=e.length-1;0<s;s--){const n=e.item(s).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const As=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,xs=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Es(t){return(t=String(t)).match(As)||t.match(xs)?t:(_s()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Os(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Ts(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const ks=Os("area,br,col,hr,img,wbr"),Is=Os("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ps=Os("rp,rt"),Ms=Ts(Ps,Is),Ds=Ts(ks,Ts(Is,Os("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ts(Ps,Os("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ms),Rs=Os("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),js=Os("srcset"),Ns=Ts(Rs,js,Os("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Os("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ls=Os("script,style,template");class Fs{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Ds.hasOwnProperty(e))return this.sanitizedSomething=!0,!Ls.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!Ns.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let o=t.value;Rs[i]&&(o=Es(o)),js[i]&&(s=o,o=(s=String(s)).split(",").map(t=>Es(t.trim())).join(", ")),this.buf.push(" ",e,'="',Us(o),'"')}var s;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Ds.hasOwnProperty(e)&&!ks.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Us(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const Vs=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,qs=/([^\#-~ |!])/g;function Us(t){return t.replace(/&/g,"&amp;").replace(Vs,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(qs,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Bs;function zs(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Hs=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function $s(t){const e=Qs();return e?e.sanitize(Hs.HTML,t)||"":vs(t,"HTML")?ys(t):function(t,e){let n=null;try{Bs=Bs||function(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new Ss:new Cs(t)}(t);let s=e?String(e):"";n=Bs.getInertBodyElement(s);let r=5,i=s;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,s=i,i=n.innerHTML,n=Bs.getInertBodyElement(s)}while(s!==i);const o=new Fs,a=o.sanitizeChildren(zs(n)||n);return _s()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=zs(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(Le(),Hn(t))}function Gs(t){const e=Qs();return e?e.sanitize(Hs.URL,t)||"":vs(t,"URL")?ys(t):Es(Hn(t))}function Qs(){const t=tn();return t&&t[12]}function Ws(t,e){t.__ngContext__=e}function Ys(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function Js(){throw new Error("Cannot mix multi providers and regular providers")}function Xs(t,e,n){let s=t.length;for(;;){const r=t.indexOf(e,n);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const n=e.length;if(r+n===s||t.charCodeAt(r+n)<=32)return r}n=r+1}}function Zs(t,e,n){let s=0;for(;s<t.length;){let r=t[s++];if(n&&"class"===r){if(r=t[s],-1!==Xs(r.toLowerCase(),e,0))return!0}else if(1===r){for(;s<t.length&&"string"==typeof(r=t[s++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function Ks(t){return 0===t.type&&"ng-template"!==t.tagName}function tr(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function er(t,e,n){let s=4;const r=t.attrs||[],i=function(t){for(let e=0;e<t.length;e++)if(Nn(t[e]))return e;return t.length}(r);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&s){if(s=2|1&s,""!==c&&!tr(t,c,n)||""===c&&1===e.length){if(nr(s))return!1;o=!0}}else{const l=8&s?c:e[++a];if(8&s&&null!==t.attrs){if(!Zs(t.attrs,l,n)){if(nr(s))return!1;o=!0}continue}const u=sr(8&s?"class":c,r,Ks(t),n);if(-1===u){if(nr(s))return!1;o=!0;continue}if(""!==l){let t;t=u>i?"":r[u+1].toLowerCase();const e=8&s?t:null;if(e&&-1!==Xs(e,l,0)||2&s&&l!==t){if(nr(s))return!1;o=!0}}}}else{if(!o&&!nr(s)&&!nr(c))return!1;if(o&&nr(c))continue;o=!1,s=c|1&s}}return nr(s)||o}function nr(t){return 0==(1&t)}function sr(t,e,n,s){if(null===e)return-1;let r=0;if(s||!n){let n=!1;for(;r<e.length;){const s=e[r];if(s===t)return r;if(3===s||6===s)n=!0;else{if(1===s||2===s){let t=e[++r];for(;"string"==typeof t;)t=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const s=t[n];if("number"==typeof s)return-1;if(s===e)return n;n++}return-1}(e,t)}function rr(t,e,n=!1){for(let s=0;s<e.length;s++)if(er(t,e[s],n))return!0;return!1}function ir(t,e){t:for(let n=0;n<e.length;n++){const s=e[n];if(t.length===s.length){for(let e=0;e<t.length;e++)if(t[e]!==s[e])continue t;return!0}}return!1}function or(t,e){return t?":not("+e.trim()+")":e}function ar(t){let e=t[0],n=1,s=2,r="",i=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&s){const e=t[++n];r+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&s?r+="."+o:4&s&&(r+=" "+o);else""===r||nr(o)||(e+=or(i,r),r=""),s=o,i=i||!nr(s);n++}return""!==r&&(e+=or(i,r)),e}const cr={};function lr(t){const e=t[3];return Ae(e)?e[3]:e}function ur(t){return dr(t[13])}function hr(t){return dr(t[4])}function dr(t){for(;null!==t&&!Ae(t);)t=t[4];return t}function pr(t){fr(en(),tn(),xn()+t,cn())}function fr(t,e,n,s){if(!s)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&kn(e,s,n)}else{const s=t.preOrderHooks;null!==s&&In(e,s,0,n)}En(n)}function mr(t,e){return t<<17|e<<2}function gr(t){return t>>17&32767}function yr(t){return 2|t}function vr(t){return(131068&t)>>2}function br(t,e){return-131069&t|e<<2}function wr(t){return 1|t}function _r(t,e){const n=t.contentQueries;if(null!==n)for(let s=0;s<n.length;s+=2){const r=n[s],i=n[s+1];if(-1!==i){const n=t.data[i];yn(r),n.contentQueries(2,e[i],i)}}}function Sr(t,e,n){return Fe(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Cr(t,e,n,s,r,i,o,a,c,l){const u=e.blueprint.slice();return u[0]=r,u[2]=140|s,Je(u),u[3]=u[15]=t,u[8]=n,u[10]=o||t&&t[10],u[11]=a||t&&t[11],u[12]=c||t&&t[12]||null,u[9]=l||t&&t[9]||null,u[6]=i,u[16]=2==e.type?t[16]:u,u}function Ar(t,e,n,s,r,i){const o=n+20,a=t.data[o]||function(t,e,n,s,r,i){const o=sn(),a=on(),c=a?o:o&&o.parent,l=t.data[n]=jr(0,c&&c!==e?c:null,s,n,r,i);return null===t.firstChild&&(t.firstChild=l),o&&(!a||null!=o.child||null===l.parent&&2!==o.type?a||(o.next=l):o.child=l),l}(t,e,o,s,r,i);return rn(a,!0),a}function xr(t,e,n){bn(e,e[6]);try{const s=t.viewQuery;null!==s&&si(1,s,n);const r=t.template;null!==r&&Tr(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&_r(t,e),t.staticViewQueries&&si(2,t.viewQuery,n);const i=t.components;null!==i&&function(t,e){for(let n=0;n<e.length;n++)Zr(t,e[n])}(e,i)}catch(s){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),s}finally{e[2]&=-5,An()}}function Er(t,e,n,s){const r=e[2];if(256==(256&r))return;bn(e,e[6]);const i=cn();try{Je(e),Ze.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Tr(t,e,n,2,s);const o=3==(3&r);if(!i)if(o){const n=t.preOrderCheckHooks;null!==n&&kn(e,n,null)}else{const n=t.preOrderHooks;null!==n&&In(e,n,0,null),Pn(e,0)}if(function(t){for(let e=ur(t);null!==e;e=hr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],s=n[3];0==(1024&n[2])&&Xe(s,1),n[2]|=1024}}}(e),function(t){for(let e=ur(t);null!==e;e=hr(e))for(let t=10;t<e.length;t++){const n=e[t],s=n[1];We(n)&&Er(s,n,s.template,n[8])}}(e),null!==t.contentQueries&&_r(t,e),!i)if(o){const n=t.contentCheckHooks;null!==n&&kn(e,n)}else{const n=t.contentHooks;null!==n&&In(e,n,1),Pn(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let s=t.expandoStartIndex,r=-1,i=-1;for(let t=0;t<n.length;t++){const o=n[t];"number"==typeof o?o<=0?(i=0-o,En(i),s+=9+n[++t],r=s):s+=o:(null!==o&&(fn(s,r),o(2,e[r])),r++)}}}finally{En(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Xr(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&si(2,c,s),!i)if(o){const n=t.viewCheckHooks;null!==n&&kn(e,n)}else{const n=t.viewHooks;null!==n&&In(e,n,2),Pn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),i||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Xe(e[3],-1))}finally{An()}}function Or(t,e,n,s){const r=e[10],i=!cn(),o=Qe(e);try{i&&!o&&r.begin&&r.begin(),o&&xr(t,e,s),Er(t,e,n,s)}finally{i&&!o&&r.end&&r.end()}}function Tr(t,e,n,s,r){const i=xn();try{En(-1),2&s&&e.length>20&&fr(t,e,0,cn()),n(s,r)}finally{En(i)}}function kr(t,e,n){if(xe(e)){const s=e.directiveEnd;for(let r=e.directiveStart;r<s;r++){const e=t.data[r];e.contentQueries&&e.contentQueries(1,n[r],r)}}}function Ir(t,e,n){Ke()&&(function(t,e,n,s){const r=n.directiveStart,i=n.directiveEnd;t.firstCreatePass||Xn(n,e),Ws(s,e);const o=n.initialInputs;for(let a=r;a<i;a++){const s=t.data[a],i=Te(s);i&&Qr(e,n,s);const c=os(e,t,a,n);Ws(c,e),null!==o&&Wr(0,a-r,c,s,0,o),i&&($e(n.index,e)[8]=c)}}(t,e,n,Be(n,e)),128==(128&n.flags)&&function(t,e,n){const s=n.directiveStart,r=n.directiveEnd,i=t.expandoInstructions,o=t.firstCreatePass,a=n.index-20,c=Ze.lFrame.currentDirectiveIndex;try{En(a);for(let n=s;n<r;n++){const s=t.data[n],r=e[n];mn(n),null!==s.hostBindings||0!==s.hostVars||null!==s.hostAttrs?Ur(s,r):o&&i.push(null)}}finally{En(-1),mn(c)}}(t,e,n))}function Pr(t,e,n=Be){const s=e.localNames;if(null!==s){let r=e.index+1;for(let i=0;i<s.length;i+=2){const o=s[i+1],a=-1===o?n(e,t):t[o];t[r++]=a}}}function Mr(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Dr(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Dr(t,e,n,s,r,i,o,a,c,l){const u=20+s,h=u+r,d=function(t,e){const n=[];for(let s=0;s<e;s++)n.push(s<t?null:cr);return n}(u,h);return d[1]={type:t,id:e,blueprint:d,template:n,queries:null,viewQuery:a,node:null,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:l,incompleteFirstPass:!1}}function Rr(t,e,n,s){const r=ii(e);r.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(s,r.length-1)}function jr(t,e,n,s,r,i){return{type:n,index:s,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:r,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Nr(t,e,n){for(let s in t)if(t.hasOwnProperty(s)){const r=t[s];(n=null===n?{}:n).hasOwnProperty(s)?n[s].push(e,r):n[s]=[e,r]}return n}function Lr(t,e,n,s,r,i,o,a){const c=Be(e,n);let l,u=e.inputs;var h;!a&&null!=u&&(l=u[s])?(ai(t,n,l,s,r),Ee(e)&&function(t,e){const n=$e(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(s="class"===(h=s)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,r=null!=o?o(r,e.tagName||"",s):r,Fe(i)?i.setProperty(c,s,r):Ln(s)||(c.setProperty?c.setProperty(s,r):c[s]=r))}function Fr(t,e,n,s){let r=!1;if(Ke()){const i=function(t,e,n){const s=t.directiveRegistry;let r=null;if(s)for(let i=0;i<s.length;i++){const o=s[i];rr(n,o.selectors,!1)&&(r||(r=[]),es(Xn(n,e),t,o.type),Te(o)?(2&n.flags&&Ys(n),zr(t,n),r.unshift(o)):r.push(o))}return r}(t,e,n),o=null===s?null:{"":-1};if(null!==i){let s=0;r=!0,$r(n,t.data.length,i.length);for(let t=0;t<i.length;t++){const e=i[t];e.providersResolver&&e.providersResolver(e)}Br(t,n,i.length);let a=!1,c=!1;for(let r=0;r<i.length;r++){const l=i[r];n.mergedAttrs=Fn(n.mergedAttrs,l.hostAttrs),Gr(t,e,l),Hr(t.data.length-1,l,o),null!==l.contentQueries&&(n.flags|=8),null===l.hostBindings&&null===l.hostAttrs&&0===l.hostVars||(n.flags|=128);const u=l.type.prototype;!a&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),a=!0),c||!u.ngOnChanges&&!u.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),c=!0),Vr(t,l),s+=l.hostVars}!function(t,e){const n=e.directiveEnd,s=t.data,r=e.attrs,i=[];let o=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=s[c],n=t.inputs,l=null===r||Ks(e)?null:Yr(n,r);i.push(l),o=Nr(n,c,o),a=Nr(t.outputs,c,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=i,e.inputs=o,e.outputs=a}(t,n),qr(t,e,s)}o&&function(t,e,n){if(e){const s=t.localNames=[];for(let t=0;t<e.length;t+=2){const r=n[e[t+1]];if(null==r)throw new Error(`Export of name '${e[t+1]}' not found!`);s.push(e[t],r)}}}(n,s,o)}return n.mergedAttrs=Fn(n.mergedAttrs,n.attrs),r}function Vr(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function qr(t,e,n){for(let s=0;s<n;s++)e.push(cr),t.blueprint.push(cr),t.data.push(null)}function Ur(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Br(t,e,n){const s=20-e.index,r=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(s,r,n)}function zr(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Hr(t,e,n){if(n){if(e.exportAs)for(let s=0;s<e.exportAs.length;s++)n[e.exportAs[s]]=t;Te(e)&&(n[""]=t)}}function $r(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Gr(t,e,n){t.data.push(n);const s=n.factory||(n.factory=_e(n.type)),r=new Rn(s,Te(n),null);t.blueprint.push(r),e.push(r)}function Qr(t,e,n){const s=Be(e,t),r=Mr(n),i=t[10],o=Kr(t,Cr(t,r,null,n.onPush?64:16,s,e,i,i.createRenderer(s,n)));t[e.index]=o}function Wr(t,e,n,s,r,i){const o=i[e];if(null!==o){const t=s.setInput;for(let e=0;e<o.length;){const r=o[e++],i=o[e++],a=o[e++];null!==t?s.setInput(n,a,r,i):n[i]=a}}}function Yr(t,e){let n=null,s=0;for(;s<e.length;){const r=e[s];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,t[r],e[s+1])),s+=2}else s+=2;else s+=4}return n}function Jr(t,e,n,s){return new Array(t,!0,!1,e,null,0,s,n,null,null)}function Xr(t,e){const n=$e(e,t);if(We(n)){const t=n[1];80&n[2]?Er(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let s=ur(e);null!==s;s=hr(s))for(let e=10;e<s.length;e++){const n=s[e];if(1024&n[2]){const t=n[1];Er(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let s=0;s<n.length;s++){const r=$e(n[s],e);We(r)&&r[5]>0&&t(r)}}(n)}}function Zr(t,e){const n=$e(e,t),s=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(s,n),xr(s,n,n[8])}function Kr(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ti(t){for(;t;){t[2]|=64;const e=lr(t);if(ke(t)&&!e)return t;t=e}return null}function ei(t,e,n){const s=e[10];s.begin&&s.begin();try{Er(t,e,t.template,n)}catch(r){throw oi(e,r),r}finally{s.end&&s.end()}}function ni(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],s=Ge(n),r=s[1];Or(r,s,r.template,n)}}(t[8])}function si(t,e,n){yn(0),e(t,n)}const ri=(()=>Promise.resolve(null))();function ii(t){return t[7]||(t[7]=[])}function oi(t,e){const n=t[9],s=n?n.get(ms,null):null;s&&s.handleError(e)}function ai(t,e,n,s,r){for(let i=0;i<n.length;){const o=n[i++],a=n[i++],c=e[o],l=t.data[o];null!==l.setInput?l.setInput(c,r,s,a):c[a]=r}}function ci(t,e,n){const s=Ue(e,t),r=t[11];Fe(r)?r.setValue(s,n):s.textContent=n}function li(t,e){const n=e[3];return-1===t.index?Ae(n)?n:null:n}function ui(t,e){const n=li(t,e);return n?Si(e[11],n[7]):null}function hi(t,e,n,s,r){if(null!=s){let i,o=!1;Ae(s)?i=s:Ce(s)&&(o=!0,s=s[0]);const a=qe(s);0===t&&null!==n?null==r?wi(e,n,a):bi(e,n,a,r||null):1===t&&null!==n?bi(e,n,a,r||null):2===t?function(t,e,n){const s=Si(t,e);s&&function(t,e,n,s){Fe(t)?t.removeChild(e,n,s):e.removeChild(n)}(t,s,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=i&&function(t,e,n,s,r){const i=n[7];i!==qe(n)&&hi(e,t,s,i,r);for(let o=10;o<n.length;o++){const r=n[o];Oi(r[1],r,t,e,s,i)}}(e,t,i,n,r)}}function di(t,e,n,s){const r=ui(t.node,e);r&&Oi(t,e,e[11],n?1:2,r,s)}function pi(t,e){const n=t[9],s=n.indexOf(e);1024&e[2]&&Xe(e[3],-1),n.splice(s,1)}function fi(t,e){if(t.length<=10)return;const n=10+e,s=t[n];if(s){const r=s[17];null!==r&&r!==t&&pi(r,s),e>0&&(t[n-1][4]=s[4]);const i=ne(t,10+e);di(s[1],s,!1,null);const o=i[19];null!==o&&o.detachView(i[1]),s[3]=null,s[4]=null,s[2]&=-129}return s}function mi(t,e){if(!(256&e[2])){const n=e[11];Fe(n)&&n.destroyNode&&Oi(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return yi(t[1],t);for(;e;){let n=null;if(Ce(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Ce(e)&&yi(e[1],e),e=gi(e,t);null===e&&(e=t),Ce(e)&&yi(e[1],e),n=e&&e[4]}e=n}}(e)}}function gi(t,e){let n;return Ce(t)&&(n=t[6])&&2===n.type?li(n,t):t[3]===e?null:t[3]}function yi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let s=0;s<n.length;s+=2){const t=e[n[s]];if(!(t instanceof Rn)){const e=n[s+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const r=n[s+1],i="function"==typeof r?r(e):qe(e[r]),o=t[n[s+2]],a=n[s+3];"boolean"==typeof a?i.removeEventListener(n[s],o,a):a>=0?t[a]():t[-a].unsubscribe(),s+=2}else n[s].call(t[n[s+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&Fe(e[11])&&e[11].destroy();const s=e[17];if(null!==s&&Ae(e[3])){s!==e[3]&&pi(s,e);const n=e[19];null!==n&&n.detachView(t)}}}function vi(t,e,n){let s=e.parent;for(;null!=s&&(4===s.type||5===s.type);)s=(e=s).parent;if(null==s){const t=n[6];return 2===t.type?ui(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return Be(e,n).parentNode;if(2&s.flags){const e=t.data,n=e[e[s.index].directiveStart].encapsulation;if(n!==ce.ShadowDom&&n!==ce.Native)return null}return Be(s,n)}function bi(t,e,n,s){Fe(t)?t.insertBefore(e,n,s):e.insertBefore(n,s,!0)}function wi(t,e,n){Fe(t)?t.appendChild(e,n):e.appendChild(n)}function _i(t,e,n,s){null!==s?bi(t,e,n,s):wi(t,e,n)}function Si(t,e){return Fe(t)?t.parentNode(e):e.parentNode}function Ci(t,e){if(2===t.type){const n=li(t,e);return null===n?null:xi(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?Be(t,e):null}function Ai(t,e,n,s){const r=vi(t,s,e);if(null!=r){const t=e[11],i=Ci(s.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)_i(t,r,n[e],i);else _i(t,r,n,i)}}function xi(t,e){const n=10+t+1;if(n<e.length){const t=e[n],s=t[1].firstChild;if(null!==s)return function t(e,n){if(null!==n){const s=n.type;if(3===s)return Be(n,e);if(0===s)return xi(-1,e[n.index]);if(4===s||5===s){const s=n.child;if(null!==s)return t(e,s);{const t=e[n.index];return Ae(t)?xi(-1,t):qe(t)}}{const s=e[16],r=s[6],i=lr(s),o=r.projection[n.projection];return null!=o?t(i,o):t(e,n.next)}}return null}(t,s)}return e[7]}function Ei(t,e,n,s,r,i,o){for(;null!=n;){const a=s[n.index],c=n.type;o&&0===e&&(a&&Ws(qe(a),s),n.flags|=4),64!=(64&n.flags)&&(4===c||5===c?(Ei(t,e,n.child,s,r,i,!1),hi(e,t,r,a,i)):1===c?Ti(t,e,s,n,r,i):hi(e,t,r,a,i)),n=o?n.projectionNext:n.next}}function Oi(t,e,n,s,r,i){Ei(n,s,t.node.child,e,r,i,!1)}function Ti(t,e,n,s,r,i){const o=n[16],a=o[6].projection[s.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)hi(e,t,r,a[c],i);else Ei(t,e,a,o[3],r,i,!0)}function ki(t,e,n){Fe(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Ii(t,e,n){Fe(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class Pi{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,s,r,i=!1){for(;null!==s;){const o=n[s.index];if(null!==o&&r.push(qe(o)),Ae(o))for(let e=10;e<o.length;e++){const n=o[e],s=n[1].firstChild;null!==s&&t(n[1],n,s,r)}const a=s.type;if(4===a||5===a)t(e,n,s.child,r);else if(1===a){const e=n[16],i=e[6].projection[s.projection];if(Array.isArray(i))r.push(...i);else{const n=lr(e);t(n[1],n,i,r,!0)}}s=i?s.projectionNext:s.next}return r}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}mi(this._lView[1],this._lView)}onDestroy(t){Rr(this._lView[1],this._lView,null,t)}markForCheck(){ti(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ei(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){ln(!0);try{ei(t,e,n)}finally{ln(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Oi(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Mi extends Pi{constructor(t){super(t),this._view=t}detectChanges(){ni(this._view)}checkNoChanges(){!function(t){ln(!0);try{ni(t)}finally{ln(!1)}}(this._view)}get context(){return null}}let Di,Ri,ji;function Ni(t,e,n){return Di||(Di=class extends t{}),new Di(Be(e,n))}function Li(t,e,n,s){return Ri||(Ri=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Cr(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const s=this._declarationView[19];return null!==s&&(n[19]=s.createEmbeddedView(e)),xr(e,n,t),new Pi(n)}}),0===n.type?new Ri(s,n,Ni(e,n,s)):null}function Fi(t,e,n,s){let r;ji||(ji=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return Ni(e,this._hostTNode,this._hostView)}get injector(){return new ls(this._hostTNode,this._hostView)}get parentInjector(){const t=ts(this._hostTNode,this._hostView),e=zn(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let s=Bn(t),r=e,i=e[6];for(;s>1;)r=r[15],i=r[6],s--;return i}(t,this._hostView,this._hostTNode);return qn(t)&&null!=n?new ls(n,e):new ls(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const s=t.createEmbeddedView(e||{});return this.insert(s,n),s}createComponent(t,e,n,s,r){const i=n||this.parentInjector;if(!r&&null==t.ngModule&&i){const t=i.get(Zt,null);t&&(r=t)}const o=t.create(i,s,void 0,r);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,s=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Ae(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],s=new ji(e,e[6],e[3]);s.detach(s.indexOf(t))}}const r=this._adjustIndex(e);return function(t,e,n,s){const r=10+s,i=n.length;s>0&&(n[r-1][4]=e),s<i-10?(e[4]=n[r],ee(n,10+s,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(s,n,this._lContainer,r),di(s,n,!0,xi(r,this._lContainer)),t.attachToViewContainerRef(this),ee(this._lContainer[8],r,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1);!function(t,e){const n=fi(t,e);n&&mi(n[1],n)}(this._lContainer,e),ne(this._lContainer[8],e)}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=fi(this._lContainer,e);return n&&null!=ne(this._lContainer[8],e)?new Pi(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const i=s[n.index];if(Ae(i))r=i;else{let t;if(4===n.type)t=qe(i);else if(t=s[11].createComment(""),ke(s)){const e=s[11],r=Be(n,s);bi(e,Si(e,r),t,function(t,e){return Fe(t)?t.nextSibling(e):e.nextSibling}(e,r))}else Ai(s[1],s,t,n);s[n.index]=r=Jr(i,s,t,n),Kr(s,r)}return new ji(r,n,s)}function Vi(t=!1){return function(t,e,n){if(!n&&Ee(t)){const n=$e(t.index,e);return new Pi(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new Pi(e[16],e):null}(sn(),tn(),t)}let qi=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ui(),t})();const Ui=Vi,Bi=Function,zi=new Ft("Set Injector scope."),Hi={},$i={},Gi=[];let Qi=void 0;function Wi(){return void 0===Qi&&(Qi=new Xt),Qi}function Yi(t,e=null,n=null,s){return new Ji(t,n,e||Wi(),s)}class Ji{constructor(t,e,n,s=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&te(e,n=>this.processProvider(n,t,e)),te([t],t=>this.processInjectorType(t,[],r)),this.records.set(Vt,Ki(void 0,this));const i=this.records.get(zi);this.scope=null!=i?i.value:null,this.source=s||("object"==typeof t?null:wt(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=qt,n=at.Default){this.assertNotDestroyed();const s=$t(this);try{if(!(n&at.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(r=t)||"object"==typeof r&&r instanceof Ft)&&dt(t);e=n&&this.injectableDefInScope(n)?Ki(Xi(t),Hi):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&at.Self?Wi():this.parent).get(t,e=n&at.Optional&&e===qt?null:e)}catch(i){if("NullInjectorError"===i.name){if((i.ngTempTokenPath=i.ngTempTokenPath||[]).unshift(wt(t)),s)throw i;return function(t,e,n,s){const r=t.ngTempTokenPath;throw e.__source&&r.unshift(e.__source),t.message=function(t,e,n,s=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let r=wt(e);if(Array.isArray(e))r=e.map(wt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let s=e[n];t.push(n+":"+("string"==typeof s?JSON.stringify(s):wt(s)))}r=`{${t.join(", ")}}`}return`${n}${s?"("+s+")":""}[${r}]: ${t.replace(Ut,"\n  ")}`}("\n"+t.message,r,n,s),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(i,t,"R3InjectorError",this.source)}throw i}finally{$t(s)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(wt(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=At(t)))return!1;let s=ft(t);const r=null==s&&t.ngModule||void 0,i=void 0===r?t:r,o=-1!==n.indexOf(i);if(void 0!==r&&(s=ft(r)),null==s)return!1;if(null!=s.imports&&!o){let t;n.push(i);try{te(s.imports,s=>{this.processInjectorType(s,e,n)&&(void 0===t&&(t=[]),t.push(s))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:s}=t[e];te(s,t=>this.processProvider(t,n,s||Gi))}}this.injectorDefTypes.add(i),this.records.set(i,Ki(s.factory,Hi));const a=s.providers;if(null!=a&&!o){const e=t;te(a,t=>this.processProvider(t,e,a))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,n){let s=eo(t=At(t))?t:At(t&&t.provide);const r=function(t,e,n){return to(t)?Ki(void 0,t.useValue):Ki(Zi(t,e,n),Hi)}(t,e,n);if(eo(t)||!0!==t.multi){const t=this.records.get(s);t&&void 0!==t.multi&&Js()}else{let e=this.records.get(s);e?void 0===e.multi&&Js():(e=Ki(void 0,Hi,!0),e.factory=()=>Jt(e.multi),this.records.set(s,e)),s=t,e.multi.push(t)}this.records.set(s,r)}hydrate(t,e){var n;return e.value===$i?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(wt(t)):e.value===Hi&&(e.value=$i,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Xi(t){const e=dt(t),n=null!==e?e.factory:_e(t);if(null!==n)return n;const s=ft(t);if(null!==s)return s.factory;if(t instanceof Ft)throw new Error(`Token ${wt(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=se(e,"?");throw new Error(`Can't resolve all parameters for ${wt(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[mt]||t[vt]||t[yt]&&t[yt]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Zi(t,e,n){let s=void 0;if(eo(t)){const e=At(t);return _e(e)||Xi(e)}if(to(t))s=()=>At(t.useValue);else if((r=t)&&r.useFactory)s=()=>t.useFactory(...Jt(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))s=()=>Wt(At(t.useExisting));else{const r=At(t&&(t.useClass||t.provide));if(r||function(t,e,n){let s="";throw t&&e&&(s=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${wt(t)}'`+s)}(e,n,t),!function(t){return!!t.deps}(t))return _e(r)||Xi(r);s=()=>new r(...Jt(t.deps))}var r;return s}function Ki(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function to(t){return null!==t&&"object"==typeof t&&Bt in t}function eo(t){return"function"==typeof t}const no=function(t,e,n){return function(t,e=null,n=null,s){const r=Yi(t,e,n,s);return r._resolveInjectorDefTypes(),r}({name:n},e,t,n)};let so=(()=>{class t{static create(t,e){return Array.isArray(t)?no(t,e,""):no(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=qt,t.NULL=new Xt,t.\u0275prov=ut({token:t,providedIn:"any",factory:()=>Wt(Vt)}),t.__NG_ELEMENT_ID__=-1,t})();const ro=new Ft("AnalyzeForEntryComponents");function io(t,e,n){let s=n?t.styles:null,r=n?t.classes:null,i=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?i=t:1==i?r=_t(r,t):2==i&&(s=_t(s,t+": "+e[++o]+";"))}n?t.styles=s:t.stylesWithoutHost=s,n?t.classes=r:t.classesWithoutHost=r}let oo=null;function ao(){if(!oo){const t=It.Symbol;if(t&&t.iterator)oo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(oo=n)}}}return oo}class co{constructor(t){this.wrapped=t}static wrap(t){return new co(t)}static unwrap(t){return co.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof co}}function lo(t){return!!uo(t)&&(Array.isArray(t)||!(t instanceof Map)&&ao()in t)}function uo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ho(t,e,n){return t[e]=n}function po(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function fo(t,e,n,s){const r=po(t,e,n);return po(t,e+1,s)||r}function mo(t,e,n,s){const r=tn();return po(r,dn(),e)&&(en(),function(t,e,n,s,r,i){const o=Be(t,e),a=e[11];if(null==s)Fe(a)?a.removeAttribute(o,n,i):o.removeAttribute(n);else{const e=null==r?Hn(s):r(s,t.tagName||"",n);Fe(a)?a.setAttribute(o,n,e,i):i?o.setAttributeNS(i,n,e):o.setAttribute(n,e)}}(On(),r,t,e,n,s)),mo}function go(t,e,n,s){return po(t,dn(),n)?e+Hn(n)+s:cr}function yo(t,e,n,s,r,i,o,a){const c=tn(),l=en(),u=t+20,h=l.firstCreatePass?function(t,e,n,s,r,i,o,a,c){const l=e.consts,u=Ar(e,n[6],t,0,o||null,Ye(l,a));Fr(e,n,u,Ye(l,c)),Tn(e,u);const h=u.tViews=Dr(2,-1,s,r,i,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l),d=jr(0,null,2,-1,null,null);return d.injectorIndex=u.injectorIndex,h.node=d,null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(t,l,c,e,n,s,r,i,o):l.data[u];rn(h,!1);const d=c[11].createComment("");Ai(l,c,d,h),Ws(d,c),Kr(c,c[u]=Jr(d,c,d,h)),Oe(h)&&Ir(l,c,h),null!=o&&Pr(c,h,a)}function vo(t){return He(Ze.lFrame.contextLView,t)}function bo(t,e=at.Default){const n=tn();return null==n?Wt(t,e):ns(sn(),n,At(t),e)}function wo(t,e,n){const s=tn();return po(s,dn(),e)&&Lr(en(),On(),s,t,e,s[11],n,!1),wo}function _o(t,e,n,s,r){const i=r?"class":"style";ai(t,n,e.inputs[i],i,s)}function So(t,e,n,s){const r=tn(),i=en(),o=20+t,a=r[11],c=r[o]=Sr(e,a,Ze.lFrame.currentNamespace),l=i.firstCreatePass?function(t,e,n,s,r,i,o){const a=e.consts,c=Ye(a,i),l=Ar(e,n[6],t,3,r,c);return Fr(e,n,l,Ye(a,o)),null!==l.attrs&&io(l,l.attrs,!1),null!==l.mergedAttrs&&io(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(t,i,r,0,e,n,s):i.data[o];rn(l,!0);const u=l.mergedAttrs;null!==u&&jn(a,c,u);const h=l.classes;null!==h&&Ii(a,c,h);const d=l.styles;null!==d&&ki(a,c,d),Ai(i,r,c,l),0===Ze.lFrame.elementDepthCount&&Ws(c,r),Ze.lFrame.elementDepthCount++,Oe(l)&&(Ir(i,r,l),kr(i,l,r)),null!==s&&Pr(r,l)}function Co(){let t=sn();on()?an():(t=t.parent,rn(t,!1));const e=t;Ze.lFrame.elementDepthCount--;const n=en();n.firstCreatePass&&(Tn(n,t),xe(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&_o(n,e,tn(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&_o(n,e,tn(),e.stylesWithoutHost,!1)}function Ao(t,e,n,s){So(t,e,n,s),Co()}function xo(t,e,n){const s=tn(),r=en(),i=t+20,o=r.firstCreatePass?function(t,e,n,s,r){const i=e.consts,o=Ye(i,s),a=Ar(e,n[6],t,4,"ng-container",o);return null!==o&&io(a,o,!0),Fr(e,n,a,Ye(i,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,r,s,e,n):r.data[i];rn(o,!0);const a=s[i]=s[11].createComment("");Ai(r,s,a,o),Ws(a,s),Oe(o)&&(Ir(r,s,o),kr(r,o,s)),null!=n&&Pr(s,o)}function Eo(){let t=sn();const e=en();on()?an():(t=t.parent,rn(t,!1)),e.firstCreatePass&&(Tn(e,t),xe(t)&&e.queries.elementEnd(t))}function Oo(){return tn()}function To(t){return!!t&&"function"==typeof t.then}function ko(t){return!!t&&"function"==typeof t.subscribe}function Io(t,e,n=!1,s){const r=tn(),i=en(),o=sn();return function(t,e,n,s,r,i,o=!1,a){const c=Oe(s),l=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),u=ii(e);let h=!0;if(3===s.type){const d=Be(s,e),p=a?a(d):le,f=p.target||d,m=u.length,g=a?t=>a(qe(t[s.index])).target:s.index;if(Fe(n)){let o=null;if(!a&&c&&(o=function(t,e,n,s){const r=t.cleanup;if(null!=r)for(let i=0;i<r.length-1;i+=2){const t=r[i];if(t===n&&r[i+1]===s){const t=e[7],n=r[i+2];return t.length>n?t[n]:null}"string"==typeof t&&(i+=2)}return null}(t,e,r,s.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=i,o.__ngLastListenerFn__=i,h=!1;else{i=Mo(s,e,i,!1);const t=n.listen(p.name||f,r,i);u.push(i,t),l&&l.push(r,g,m,m+1)}}else i=Mo(s,e,i,!0),f.addEventListener(r,i,o),u.push(i),l&&l.push(r,g,m,o)}const d=s.outputs;let p;if(h&&null!==d&&(p=d[r])){const t=p.length;if(t)for(let n=0;n<t;n+=2){const t=e[p[n]][p[n+1]].subscribe(i),o=u.length;u.push(i,t),l&&l.push(r,s.index,o,-(o+1))}}}(i,r,r[11],o,t,e,n,s),Io}function Po(t,e,n){try{return!1!==e(n)}catch(s){return oi(t,s),!1}}function Mo(t,e,n,s){return function r(i){if(i===Function)return n;const o=2&t.flags?$e(t.index,e):e;0==(32&e[2])&&ti(o);let a=Po(e,n,i),c=r.__ngNextListenerFn__;for(;c;)a=Po(e,c,i)&&a,c=c.__ngNextListenerFn__;return s&&!1===a&&(i.preventDefault(),i.returnValue=!1),a}}function Do(t=1){return function(t){return(Ze.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ze.lFrame.contextLView))[8]}(t)}function Ro(t,e){let n=null;const s=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let r=0;r<e.length;r++){const i=e[r];if("*"!==i){if(null===s?rr(t,i,!0):ir(s,i))return r}else n=r}return n}function jo(t){const e=tn()[16][6];if(!e.projection){const n=e.projection=se(t?t.length:1,null),s=n.slice();let r=e.child;for(;null!==r;){const e=t?Ro(r,t):0;null!==e&&(s[e]?s[e].projectionNext=r:n[e]=r,s[e]=r),r=r.next}}}function No(t,e=0,n){const s=tn(),r=en(),i=Ar(r,s[6],t,1,null,n||null);null===i.projection&&(i.projection=e),an(),function(t,e,n){Ti(e[11],0,e,n,vi(t,n,e),Ci(n.parent||e[6],e))}(r,s,i)}function Lo(t,e,n){return Fo(t,"",e,"",n),Lo}function Fo(t,e,n,s,r){const i=tn(),o=go(i,e,n,s);return o!==cr&&Lr(en(),On(),i,t,o,i[11],r,!1),Fo}const Vo=[];function qo(t,e,n,s,r){const i=t[n+1],o=null===e;let a=s?gr(i):vr(i),c=!1;for(;0!==a&&(!1===c||o);){const n=t[a+1];Uo(t[a],e)&&(c=!0,t[a+1]=s?wr(n):yr(n)),a=s?gr(n):vr(n)}c&&(t[n+1]=s?yr(i):wr(i))}function Uo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&oe(t,e)>=0}function Bo(t,e){return function(t,e,n,s){const r=tn(),i=en(),o=pn(2);i.firstUpdatePass&&function(t,e,n,s){const r=t.data;if(null===r[n+1]){const s=r[xn()+20],i=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(s)&&null===e&&!i&&(e=!1),e=function(t,e,n,s){const r=function(t){const e=Ze.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let i=e.residualClasses;if(null===r)0===e.classBindings&&(n=Ho(n=zo(null,t,e,n,!0),e.attrs,!0),i=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==r)if(n=zo(r,t,e,n,!0),null===i){let n=function(t,e,n){const s=e.classBindings;if(0!==vr(s))return t[gr(s)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=zo(null,t,e,n[1],!0),n=Ho(n,e.attrs,!0),function(t,e,n,s){t[gr(e.classBindings)]=s}(t,e,0,n))}else i=function(t,e,n){let s=void 0;const r=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<r;i++)s=Ho(s,t[i].hostAttrs,!0);return Ho(s,e.attrs,!0)}(t,e)}return void 0!==i&&(e.residualClasses=i),n}(r,s,e),function(t,e,n,s,r,i){let o=e.classBindings,a=gr(o),c=vr(o);t[s]=n;let l,u=!1;if(Array.isArray(n)){const t=n;l=t[1],(null===l||oe(t,l)>0)&&(u=!0)}else l=n;if(r)if(0!==c){const e=gr(t[a+1]);t[s+1]=mr(e,a),0!==e&&(t[e+1]=br(t[e+1],s)),t[a+1]=131071&t[a+1]|s<<17}else t[s+1]=mr(a,0),0!==a&&(t[a+1]=br(t[a+1],s)),a=s;else t[s+1]=mr(c,0),0===a?a=s:t[c+1]=br(t[c+1],s),c=s;u&&(t[s+1]=yr(t[s+1])),qo(t,l,s,!0),qo(t,l,s,!1),function(t,e,n,s,r){const i=t.residualClasses;null!=i&&"string"==typeof e&&oe(i,e)>=0&&(n[s+1]=wr(n[s+1]))}(e,l,t,s),o=mr(a,c),e.classBindings=o}(r,s,e,n,i)}}(i,t,o),e!==cr&&po(r,o,e)&&function(t,e,n,s,r,i,o,a){if(3!==e.type)return;const c=t.data,l=c[a+1];Go(1==(1&l)?$o(c,e,n,r,vr(l),!0):void 0)||(Go(i)||function(t){return 2==(2&t)}(l)&&(i=$o(c,null,n,r,a,!0)),function(t,e,n,s,r){const i=Fe(t);r?i?t.addClass(n,s):n.classList.add(s):i?t.removeClass(n,s):n.classList.remove(s)}(s,0,Ue(xn(),n),r,i))}(i,i.data[xn()+20],r,r[11],t,r[o+1]=function(t,e){return null==t||"object"==typeof t&&(t=wt(ys(t))),t}(e),0,o)}(t,e),Bo}function zo(t,e,n,s,r){let i=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(i=e[a],s=Ho(s,i.hostAttrs,r),i!==t);)a++;return null!==t&&(n.directiveStylingLast=a),s}function Ho(t,e,n){const s=n?1:2;let r=-1;if(null!==e)for(let i=0;i<e.length;i++){const o=e[i];"number"==typeof o?r=o:r===s&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),re(t,o,!!n||e[++i]))}return void 0===t?null:t}function $o(t,e,n,s,r,i){const o=null===e;let a=void 0;for(;r>0;){const e=t[r],i=Array.isArray(e),c=i?e[1]:e,l=null===c;let u=n[r+1];u===cr&&(u=l?Vo:void 0);let h=l?ie(u,s):c===s?u:void 0;if(i&&!Go(h)&&(h=ie(e,s)),Go(h)&&(a=h,o))return a;const d=t[r+1];r=o?gr(d):vr(d)}if(null!==e){let t=i?e.residualClasses:e.residualStyles;null!=t&&(a=ie(t,s))}return a}function Go(t){return void 0!==t}function Qo(t,e=""){const n=tn(),s=en(),r=t+20,i=s.firstCreatePass?Ar(s,n[6],t,3,null,null):s.data[r],o=n[r]=function(t,e){return Fe(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Ai(s,n,o,i),rn(i,!1)}function Wo(t){return Yo("",t,""),Wo}function Yo(t,e,n){const s=tn(),r=go(s,t,e,n);return r!==cr&&ci(s,xn(),r),Yo}function Jo(t,e,n,s,r){const i=tn(),o=function(t,e,n,s,r,i){const o=fo(t,hn(),n,r);return pn(2),o?e+Hn(n)+s+Hn(r)+i:cr}(i,t,e,n,s,r);return o!==cr&&ci(i,xn(),o),Jo}function Xo(t,e,n){const s=tn();return po(s,dn(),e)&&Lr(en(),On(),s,t,e,s[11],n,!0),Xo}function Zo(t,e){const n=Ge(t)[1],s=n.data.length-1;Tn(n,{directiveStart:s,directiveEnd:s+1})}function Ko(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const s=[t];for(;e;){let r=void 0;if(Te(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(n){s.push(r);const e=t;e.inputs=ta(t.inputs),e.declaredInputs=ta(t.declaredInputs),e.outputs=ta(t.outputs);const n=r.hostBindings;n&&sa(t,n);const i=r.viewQuery,o=r.contentQueries;if(i&&ea(t,i),o&&na(t,o),lt(t.inputs,r.inputs),lt(t.declaredInputs,r.declaredInputs),lt(t.outputs,r.outputs),Te(r)&&r.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(r.data.animation)}}const e=r.features;if(e)for(let s=0;s<e.length;s++){const r=e[s];r&&r.ngInherit&&r(t),r===Ko&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let s=t.length-1;s>=0;s--){const r=t[s];r.hostVars=e+=r.hostVars,r.hostAttrs=Fn(r.hostAttrs,n=Fn(n,r.hostAttrs))}}(s)}function ta(t){return t===le?{}:t===ue?[]:t}function ea(t,e){const n=t.viewQuery;t.viewQuery=n?(t,s)=>{e(t,s),n(t,s)}:e}function na(t,e){const n=t.contentQueries;t.contentQueries=n?(t,s,r)=>{e(t,s,r),n(t,s,r)}:e}function sa(t,e){const n=t.hostBindings;t.hostBindings=n?(t,s)=>{e(t,s),n(t,s)}:e}function ra(t,e,n,s,r){if(t=At(t),Array.isArray(t))for(let i=0;i<t.length;i++)ra(t[i],e,n,s,r);else{const i=en(),o=tn();let a=eo(t)?t:At(t.provide),c=Zi(t);const l=sn(),u=1048575&l.providerIndexes,h=l.directiveStart,d=l.providerIndexes>>20;if(eo(t)||!t.multi){const s=new Rn(c,r,bo),p=aa(a,e,r?u:u+d,h);-1===p?(es(Xn(l,o),i,a),ia(i,t,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),n.push(s),o.push(s)):(n[p]=s,o[p]=s)}else{const p=aa(a,e,u+d,h),f=aa(a,e,u,u+d),m=p>=0&&n[p],g=f>=0&&n[f];if(r&&!g||!r&&!m){es(Xn(l,o),i,a);const u=function(t,e,n,s,r){const i=new Rn(t,n,bo);return i.multi=[],i.index=e,i.componentProviders=0,oa(i,r,s&&!n),i}(r?la:ca,n.length,r,s,c);!r&&g&&(n[f].providerFactory=u),ia(i,t,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),n.push(u),o.push(u)}else ia(i,t,p>-1?p:f,oa(n[r?f:p],c,!r&&s));!r&&s&&g&&n[f].componentProviders++}}}function ia(t,e,n,s){const r=eo(e);if(r||e.useClass){const i=(e.useClass||e).prototype.ngOnDestroy;if(i){const o=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[s,i]):o[t+1].push(s,i)}else o.push(n,i)}}}function oa(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function aa(t,e,n,s){for(let r=n;r<s;r++)if(e[r]===t)return r;return-1}function ca(t,e,n,s){return ua(this.multi,[])}function la(t,e,n,s){const r=this.multi;let i;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=os(n,n[1],this.providerFactory.index,s);i=e.slice(0,t),ua(r,i);for(let n=t;n<e.length;n++)i.push(e[n])}else i=[],ua(r,i);return i}function ua(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ha(t,e=[]){return n=>{n.providersResolver=(n,s)=>function(t,e,n){const s=en();if(s.firstCreatePass){const r=Te(t);ra(n,s.data,s.blueprint,r,!0),ra(e,s.data,s.blueprint,r,!1)}}(n,s?s(t):t,e)}}class da{}class pa{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${wt(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let fa=(()=>{class t{}return t.NULL=new pa,t})(),ma=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>ga(t),t})();const ga=function(t){return Ni(t,sn(),tn())};class ya{}var va=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let ba=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>wa(),t})();const wa=function(){const t=tn(),e=$e(sn().index,t);return function(t){const e=t[11];if(Fe(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Ce(e)?e:t)};let _a=(()=>{class t{}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>null}),t})();class Sa{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Ca=new Sa("10.0.8");class Aa{constructor(){}supports(t){return lo(t)}create(t){return new Ea(t)}}const xa=(t,e)=>e;class Ea{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||xa}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,s=0,r=null;for(;e||n;){const i=!n||e&&e.currentIndex<Ia(n,s,r)?e:n,o=Ia(i,s,r),a=i.currentIndex;if(i===n)s--,n=n._nextRemoved;else if(e=e._next,null==i.previousIndex)s++;else{r||(r=[]);const t=o-s,e=a-s;if(t!=e){for(let n=0;n<t;n++){const s=n<r.length?r[n]:r[n]=0,i=s+n;e<=i&&i<t&&(r[n]=s+1)}r[i.previousIndex]=e-t}}o!==a&&t(i,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!lo(t))throw new Error(`Error trying to diff '${wt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,s,r=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],s=this._trackByFn(e,n),null!==r&&Object.is(r.trackById,s)?(i&&(r=this._verifyReinsertion(r,n,s,e)),Object.is(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,s,e),i=!0),r=r._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[ao()]();let s;for(;!(s=n.next()).done;)e(s.value)}}(t,t=>{s=this._trackByFn(e,t),null!==r&&Object.is(r.trackById,s)?(i&&(r=this._verifyReinsertion(r,t,s,e)),Object.is(r.item,t)||this._addIdentityChange(r,t)):(r=this._mismatch(r,t,s,e),i=!0),r=r._next,e++}),this.length=e;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,s){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,s))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,s)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,s)):t=this._addAfter(new Oa(e,n),r,s),t}_verifyReinsertion(t,e,n,s){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const s=t._prevRemoved,r=t._nextRemoved;return null===s?this._removalsHead=r:s._nextRemoved=r,null===r?this._removalsTail=s:r._prevRemoved=s,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const s=null===e?this._itHead:e._next;return t._next=s,t._prev=e,null===s?this._itTail=t:s._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ka),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ka),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Oa{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ta{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ka{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Ta,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ia(t,e,n){const s=t.previousIndex;if(null===s)return s;let r=0;return n&&s<n.length&&(r=n[s]),s+e+r}class Pa{constructor(){}supports(t){return t instanceof Map||uo(t)}create(){return new Ma}}class Ma{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||uo(t)))throw new Error(`Error trying to diff '${wt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const s=n._prev,r=n._next;return s&&(s._next=r),r&&(r._prev=s),n._next=null,n._prev=null,n}const n=new Da(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Da{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Ra=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ot,new rt]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>new t([new Aa])}),t})(),ja=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ot,new rt]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>new t([new Pa])}),t})();const Na=[new Pa],La=new Ra([new Aa]),Fa=new ja(Na);let Va=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>qa(t,ma),t})();const qa=function(t,e){return Li(t,e,sn(),tn())};let Ua=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ba(t,ma),t})();const Ba=function(t,e){return Fi(t,e,sn(),tn())},za={};class Ha extends fa{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=we(t);return new Qa(e,this.ngModule)}}function $a(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ga=new Ft("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Gn});class Qa extends da{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ar).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return $a(this.componentDef.inputs)}get outputs(){return $a(this.componentDef.outputs)}create(t,e,n,s){const r=(s=s||this.ngModule)?function(t,e){return{get:(n,s,r)=>{const i=t.get(n,za,r);return i!==za||s===za?i:e.get(n,s,r)}}}(t,s.injector):t,i=r.get(ya,Ve),o=r.get(_a,null),a=i.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=n?function(t,e,n){if(Fe(t))return t.selectRootElement(e,n===ce.ShadowDom);let s="string"==typeof e?t.querySelector(e):e;return s.textContent="",s}(a,n,this.componentDef.encapsulation):Sr(c,i.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),u=this.componentDef.onPush?576:528,h={components:[],scheduler:Gn,clean:ri,playerHandler:null,flags:0},d=Dr(0,-1,null,1,0,null,null,null,null,null),p=Cr(null,d,h,u,null,null,i,a,o,r);let f,m;bn(p,null);try{const t=function(t,e,n,s,r,i){const o=n[1];n[20]=t;const a=Ar(o,null,0,3,null,null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(io(a,c,!0),null!==t&&(jn(r,t,c),null!==a.classes&&Ii(r,t,a.classes),null!==a.styles&&ki(r,t,a.styles)));const l=s.createRenderer(t,e),u=Cr(n,Mr(e),null,e.onPush?64:16,n[20],a,s,l,void 0);return o.firstCreatePass&&(es(Xn(a,n),o,e.type),zr(o,a),$r(a,n.length,1)),Kr(n,u),n[20]=u}(l,this.componentDef,p,i,a);if(l)if(n)jn(a,l,["ng-version",Ca.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let s=1,r=2;for(;s<t.length;){let i=t[s];if("string"==typeof i)2===r?""!==i&&e.push(i,t[++s]):8===r&&n.push(i);else{if(!nr(r))break;r=i}s++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&jn(a,l,t),e&&e.length>0&&Ii(a,l,e.join(" "))}if(m=ze(d,0),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const s=e[n];t.push(null!=s?Array.from(s):null)}}f=function(t,e,n,s,r){const i=n[1],o=function(t,e,n){const s=sn();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Br(t,s,1),Gr(t,e,n));const r=os(e,t,e.length-1,s);Ws(r,e);const i=Be(s,e);return i&&Ws(i,e),r}(i,n,e);s.components.push(o),t[8]=o,r&&r.forEach(t=>t(o,e)),e.contentQueries&&e.contentQueries(1,o,n.length-1);const a=sn();if(i.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){En(a.index-20);const t=n[1];Vr(t,e),qr(t,n,e.hostVars),Ur(e,o)}return o}(t,this.componentDef,p,h,[Zo]),xr(d,p,null)}finally{An()}const g=new Wa(this.componentType,f,Ni(ma,m,p),p,m);return d.node.child=m,g}}class Wa extends class{}{constructor(t,e,n,s,r){super(),this.location=n,this._rootLView=s,this._tNode=r,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Mi(s),function(t,e,n,s){let r=t.node;null==r&&(t.node=r=jr(0,null,2,-1,null,null)),s[6]=r}(s[1],0,0,s),this.componentType=t}get injector(){return new ls(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const Ya=void 0;var Ja=["en",[["a","p"],["AM","PM"],Ya],[["AM","PM"],Ya,Ya],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ya,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ya,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ya,"{1} 'at' {0}",Ya],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Xa={};function Za(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Ka(e);if(n)return n;const s=e.split("-")[0];if(n=Ka(s),n)return n;if("en"===s)return Ja;throw new Error(`Missing locale data for the locale "${t}".`)}function Ka(t){return t in Xa||(Xa[t]=It.ng&&It.ng.common&&It.ng.common.locales&&It.ng.common.locales[t]),Xa[t]}var tc=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});let ec="en-US";function nc(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,s){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(ec=t.toLowerCase().replace(/_/g,"-"))}const sc=new Map;class rc extends Zt{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ha(this);const n=Se(t),s=t[jt]||null;s&&nc(s),this._bootstrapComponents=Qn(n.bootstrap),this._r3Injector=Yi(t,e,[{provide:Zt,useValue:this},{provide:fa,useValue:this.componentFactoryResolver}],wt(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=so.THROW_IF_NOT_FOUND,n=at.Default){return t===so||t===Zt||t===Vt?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ic extends Kt{constructor(t){super(),this.moduleType=t,null!==Se(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${wt(e)} vs ${wt(e.name)}`)})(t,sc.get(t),e),sc.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new rc(this.moduleType,t)}}function oc(t,e,n,s){return cc(tn(),un(),t,e,n,s)}function ac(t,e){const n=t[e];return n===cr?void 0:n}function cc(t,e,n,s,r,i){const o=e+n;return po(t,o,r)?ho(t,o+1,i?s.call(i,r):s(r)):ac(t,o+1)}function lc(t,e){const n=en();let s;const r=t+20;n.firstCreatePass?(s=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const s=e[n];if(t===s.name)return s}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[r]=s,s.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(r,s.onDestroy)):s=n.data[r];const i=s.factory||(s.factory=_e(s.type)),o=Gt(bo),a=Yn(!1),c=i();return Yn(a),Gt(o),function(t,e,n,s){const r=n+20;r>=t.data.length&&(t.data[r]=null,t.blueprint[r]=null),e[r]=s}(n,tn(),t,c),c}function uc(t,e,n){const s=tn(),r=He(s,t);return pc(s,dc(s,t)?cc(s,un(),e,r.transform,n,r):r.transform(n))}function hc(t,e,n,s,r,i){const o=tn(),a=He(o,t);return pc(o,dc(o,t)?function(t,e,n,s,r,i,o,a,c){const l=e+n;return function(t,e,n,s,r,i){const o=fo(t,e,n,s);return fo(t,e+2,r,i)||o}(t,l,r,i,o,a)?ho(t,l+4,c?s.call(c,r,i,o,a):s(r,i,o,a)):ac(t,l+4)}(o,un(),e,a.transform,n,s,r,i,a):a.transform(n,s,r,i))}function dc(t,e){return t[1].data[e+20].pure}function pc(t,e){return co.isWrapped(e)&&(e=co.unwrap(e),t[hn()]=cr),e}const fc=class extends C{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let s,r=t=>null,i=()=>null;t&&"object"==typeof t?(s=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(r=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(i=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(s=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(r=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(i=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const o=super.subscribe(s,r,i);return t instanceof h&&t.add(o),o}};function mc(){return this._results[ao()]()}class gc{constructor(){this.dirty=!0,this._results=[],this.changes=new fc,this.length=0;const t=ao(),e=gc.prototype;e[t]||(e[t]=mc)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let s=0;s<e.length;s++){let r=e[s];Array.isArray(r)?(n===e&&(n=e.slice(0,s)),t(r,n)):n!==e&&n.push(r)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class yc{constructor(t){this.queryList=t,this.matches=null}clone(){return new yc(this.queryList)}setDirty(){this.queryList.setDirty()}}class vc{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,s=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);s.push(this.queries[n.indexInDeclarationView].clone())}return new vc(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Tc(t,e).matches&&this.queries[e].setDirty()}}class bc{constructor(t,e,n,s=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=s}}class wc{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const s=null!==e?e.length:0,r=this.getByIndex(n).embeddedTView(t,s);r&&(r.indexInDeclarationView=n,null!==e?e.push(r):e=[r])}return null!==e?new wc(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class _c{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new _c(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){if(Array.isArray(this.metadata.predicate)){const n=this.metadata.predicate;for(let s=0;s<n.length;s++)this.matchTNodeWithReadOption(t,e,Sc(e,n[s]))}else{const n=this.metadata.predicate;n===Va?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,is(e,t,n,!1,!1))}}matchTNodeWithReadOption(t,e,n){if(null!==n){const s=this.metadata.read;if(null!==s)if(s===ma||s===Ua||s===Va&&0===e.type)this.addMatch(e.index,-2);else{const n=is(e,t,s,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Sc(t,e){const n=t.localNames;if(null!==n)for(let s=0;s<n.length;s+=2)if(n[s]===e)return n[s+1];return null}function Cc(t,e,n,s){return-1===n?function(t,e){return 3===t.type||4===t.type?Ni(ma,t,e):0===t.type?Li(Va,ma,t,e):null}(e,t):-2===n?function(t,e,n){return n===ma?Ni(ma,e,t):n===Va?Li(Va,ma,e,t):n===Ua?Fi(Ua,ma,e,t):void 0}(t,e,s):os(t,t[1],n,e)}function Ac(t,e,n,s){const r=e[19].queries[s];if(null===r.matches){const s=t.data,i=n.matches,o=[];for(let t=0;t<i.length;t+=2){const r=i[t];o.push(r<0?null:Cc(e,s[r],i[t+1],n.metadata.read))}r.matches=o}return r.matches}function xc(t){const e=tn(),n=en(),s=gn();yn(s+1);const r=Tc(n,s);if(t.dirty&&Qe(e)===r.metadata.isStatic){if(null===r.matches)t.reset([]);else{const i=r.crossesNgTemplate?function t(e,n,s,r){const i=e.queries.getByIndex(s),o=i.matches;if(null!==o){const a=Ac(e,n,i,s);for(let e=0;e<o.length;e+=2){const s=o[e];if(s>0)r.push(a[e/2]);else{const i=o[e+1],a=n[-s];for(let e=10;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,i,r)}if(null!==a[9]){const e=a[9];for(let n=0;n<e.length;n++){const s=e[n];t(s[1],s,i,r)}}}}}return r}(n,e,s,[]):Ac(n,e,r,s);t.reset(i),t.notifyOnChanges()}return!0}return!1}function Ec(t,e,n){!function(t,e,n,s,r,i){t.firstCreatePass&&function(t,e,n){null===t.queries&&(t.queries=new wc),t.queries.track(new _c(e,-1))}(t,new bc(n,s,!1,r)),function(t,e){const n=new gc;Rr(t,e,n,n.destroy),null===e[19]&&(e[19]=new vc),e[19].queries.push(new yc(n))}(t,e)}(en(),tn(),t,e,n)}function Oc(){return t=tn(),e=gn(),t[19].queries[e].queryList;var t,e}function Tc(t,e){return t.queries.getByIndex(e)}function kc(t,e){return Li(Va,ma,t,e)}const Ic=new Ft("Application Initializer");let Pc=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();To(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Wt(Ic,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Mc=new Ft("AppId"),Dc={provide:Mc,useFactory:function(){return`${Rc()}${Rc()}${Rc()}`},deps:[]};function Rc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const jc=new Ft("Platform Initializer"),Nc=new Ft("Platform ID"),Lc=new Ft("appBootstrapListener");let Fc=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Vc=new Ft("LocaleId"),qc=new Ft("DefaultCurrencyCode");class Uc{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Bc=function(t){return new ic(t)},zc=Bc,Hc=function(t){return Promise.resolve(Bc(t))},$c=function(t){const e=Bc(t),n=Qn(Se(t).declarations).reduce((t,e)=>{const n=we(e);return n&&t.push(new Qa(n)),t},[]);return new Uc(e,n)},Gc=$c,Qc=function(t){return Promise.resolve($c(t))};let Wc=(()=>{class t{constructor(){this.compileModuleSync=zc,this.compileModuleAsync=Hc,this.compileModuleAndAllComponentsSync=Gc,this.compileModuleAndAllComponentsAsync=Qc}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Yc=(()=>Promise.resolve(0))();function Jc(t){"undefined"==typeof Zone?Yc.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Xc{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new fc(!1),this.onMicrotaskEmpty=new fc(!1),this.onStable=new fc(!1),this.onError=new fc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=It.requestAnimationFrame,e=It.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const s=e[Zone.__symbol__("OriginalDelegate")];s&&(e=s)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(It,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,el(t),tl(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),el(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,s,r,i,o,a)=>{try{return nl(t),n.invokeTask(r,i,o,a)}finally{e&&"eventTask"===i.type&&e(),sl(t)}},onInvoke:(e,n,s,r,i,o,a)=>{try{return nl(t),e.invoke(s,r,i,o,a)}finally{sl(t)}},onHasTask:(e,n,s,r)=>{e.hasTask(s,r),n===s&&("microTask"==r.change?(t._hasPendingMicrotasks=r.microTask,el(t),tl(t)):"macroTask"==r.change&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,n,s,r)=>(e.handleError(s,r),t.runOutsideAngular(()=>t.onError.emit(r)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Xc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Xc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,s){const r=this._inner,i=r.scheduleEventTask("NgZoneEvent: "+s,t,Kc,Zc,Zc);try{return r.runTask(i,e,n)}finally{r.cancelTask(i)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Zc(){}const Kc={};function tl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function el(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function nl(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function sl(t){t._nesting--,tl(t)}class rl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new fc,this.onMicrotaskEmpty=new fc,this.onStable=new fc,this.onError=new fc}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,s){return t.apply(e,n)}}let il=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Xc.assertNotInAngularZone(),Jc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Jc(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let s=-1;e&&e>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==s),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Wt(Xc))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),ol=(()=>{class t{constructor(){this._applications=new Map,ll.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return ll.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class al{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let cl,ll=new al;const ul=new Ft("AllowMultipleToken");class hl{constructor(t,e){this.name=t,this.token=e}}function dl(t,e,n=[]){const s="Platform: "+e,r=new Ft(s);return(e=[])=>{let i=pl();if(!i||i.injector.get(ul,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{const t=n.concat(e).concat({provide:r,useValue:!0},{provide:zi,useValue:"platform"});!function(t){if(cl&&!cl.destroyed&&!cl.injector.get(ul,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");cl=t.get(fl);const e=t.get(jc,null);e&&e.forEach(t=>t())}(so.create({providers:t,name:s}))}return function(t){const e=pl();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function pl(){return cl&&!cl.destroyed?cl:null}let fl=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new rl:("zone.js"===t?void 0:t)||new Xc({enableLongStackTrace:_s(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),s=[{provide:Xc,useValue:n}];return n.run(()=>{const e=so.create({providers:s,parent:this.injector,name:t.moduleType.name}),r=t.create(e),i=r.injector.get(ms,null);if(!i)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return r.onDestroy(()=>yl(this._modules,r)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{i.handleError(t)}})),function(t,e,n){try{const s=n();return To(s)?s.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):s}catch(s){throw e.runOutsideAngular(()=>t.handleError(s)),s}}(i,n,()=>{const t=r.injector.get(Pc);return t.runInitializers(),t.donePromise.then(()=>(nc(r.injector.get(Vc,"en-US")||"en-US"),this._moduleDoBootstrap(r),r))})})}bootstrapModule(t,e=[]){const n=ml({},e);return function(t,e,n){const s=new ic(n);return Promise.resolve(s)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(gl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${wt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Wt(so))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function ml(t,e){return Array.isArray(e)?e.reduce(ml,t):Object.assign(Object.assign({},t),e)}let gl=(()=>{class t{constructor(t,e,n,s,r,i){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=s,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=_s(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new v(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new v(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Xc.assertNotInAngularZone(),Jc(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Xc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=G(o,a.pipe(tt()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof da?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const s=n.isBoundToModule?void 0:this._injector.get(Zt),r=n.create(so.NULL,[],e||n.selector,s);r.onDestroy(()=>{this._unloadComponent(r)});const i=r.injector.get(il,null);return i&&r.injector.get(ol).registerApplication(r.location.nativeElement,i),this._loadComponent(r),_s()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;yl(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Lc,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),yl(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Wt(Xc),Wt(Fc),Wt(so),Wt(ms),Wt(fa),Wt(Pc))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function yl(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class vl{}class bl{}const wl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let _l=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||wl}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,s]=t.split("#");return void 0===s&&(s="default"),n("zn8P")(e).then(t=>t[s]).then(t=>Sl(t,e,s)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,s]=t.split("#"),r="NgFactory";return void 0===s&&(s="default",r=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[s+r]).then(t=>Sl(t,e,s))}}return t.\u0275fac=function(e){return new(e||t)(Wt(Wc),Wt(bl,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function Sl(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Cl=dl(null,"core",[{provide:Nc,useValue:"unknown"},{provide:fl,deps:[so]},{provide:ol,deps:[]},{provide:Fc,deps:[]}]),Al=[{provide:gl,useClass:gl,deps:[Xc,Fc,so,ms,fa,Pc]},{provide:Ga,deps:[Xc],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Pc,useClass:Pc,deps:[[new rt,Ic]]},{provide:Wc,useClass:Wc,deps:[]},Dc,{provide:Ra,useFactory:function(){return La},deps:[]},{provide:ja,useFactory:function(){return Fa},deps:[]},{provide:Vc,useFactory:function(t){return nc(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new st(Vc),new rt,new ot]]},{provide:qc,useValue:"USD"}];let xl=(()=>{class t{constructor(t){}}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)(Wt(gl))},providers:Al}),t})(),El=null;function Ol(){return El}const Tl=new Ft("DocumentToken");let kl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({factory:Il,token:t,providedIn:"platform"}),t})();function Il(){return Wt(Ml)}const Pl=new Ft("Location Initialized");let Ml=(()=>{class t extends kl{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=Ol().getLocation(),this._history=Ol().getHistory()}getBaseHrefFromDOM(){return Ol().getBaseHref(this._doc)}onPopState(t){Ol().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){Ol().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){Dl()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){Dl()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(Wt(Tl))},t.\u0275prov=ut({factory:Rl,token:t,providedIn:"platform"}),t})();function Dl(){return!!window.history.pushState}function Rl(){return new Ml(Wt(Tl))}function jl(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Nl(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ll(t){return t&&"?"!==t[0]?"?"+t:t}let Fl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({factory:Vl,token:t,providedIn:"root"}),t})();function Vl(t){const e=Wt(Tl).location;return new Ul(Wt(kl),e&&e.origin||"")}const ql=new Ft("appBaseHref");let Ul=(()=>{class t extends Fl{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return jl(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+Ll(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,s){const r=this.prepareExternalUrl(n+Ll(s));this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,s){const r=this.prepareExternalUrl(n+Ll(s));this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(Wt(kl),Wt(ql,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Bl=(()=>{class t extends Fl{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=jl(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,s){let r=this.prepareExternalUrl(n+Ll(s));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,s){let r=this.prepareExternalUrl(n+Ll(s));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(Wt(kl),Wt(ql,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),zl=(()=>{class t{constructor(t,e){this._subject=new fc,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=Nl($l(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+Ll(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,$l(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ll(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ll(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(Wt(Fl),Wt(kl))},t.normalizeQueryParams=Ll,t.joinWithSlash=jl,t.stripTrailingSlash=Nl,t.\u0275prov=ut({factory:Hl,token:t,providedIn:"root"}),t})();function Hl(){return new zl(Wt(Fl),Wt(kl))}function $l(t){return t.replace(/\/index.html$/,"")}var Gl=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),Ql=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),Wl=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),Yl=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),Jl=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function Xl(t,e){return nu(Za(t)[tc.DateFormat],e)}function Zl(t,e){return nu(Za(t)[tc.TimeFormat],e)}function Kl(t,e){return nu(Za(t)[tc.DateTimeFormat],e)}function tu(t,e){const n=Za(t),s=n[tc.NumberSymbols][e];if(void 0===s){if(e===Jl.CurrencyDecimal)return n[tc.NumberSymbols][Jl.Decimal];if(e===Jl.CurrencyGroup)return n[tc.NumberSymbols][Jl.Group]}return s}function eu(t){if(!t[tc.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[tc.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function nu(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function su(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const ru=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,iu={},ou=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var au=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),cu=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),lu=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function uu(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function hu(t,e,n="-",s,r){let i="";(t<0||r&&t<=0)&&(r?t=1-t:(t=-t,i=n));let o=String(t);for(;o.length<e;)o="0"+o;return s&&(o=o.substr(o.length-e)),i+o}function du(t,e,n=0,s=!1,r=!1){return function(i,o){let a=function(t,e){switch(t){case cu.FullYear:return e.getFullYear();case cu.Month:return e.getMonth();case cu.Date:return e.getDate();case cu.Hours:return e.getHours();case cu.Minutes:return e.getMinutes();case cu.Seconds:return e.getSeconds();case cu.FractionalSeconds:return e.getMilliseconds();case cu.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,i);if((n>0||a>-n)&&(a+=n),t===cu.Hours)0===a&&-12===n&&(a=12);else if(t===cu.FractionalSeconds)return c=e,hu(a,3).substr(0,c);var c;const l=tu(o,Jl.MinusSign);return hu(a,e,l,s,r)}}function pu(t,e,n=Ql.Format,s=!1){return function(r,i){return function(t,e,n,s,r,i){switch(n){case lu.Months:return function(t,e,n){const s=Za(t),r=nu([s[tc.MonthsFormat],s[tc.MonthsStandalone]],e);return nu(r,n)}(e,r,s)[t.getMonth()];case lu.Days:return function(t,e,n){const s=Za(t),r=nu([s[tc.DaysFormat],s[tc.DaysStandalone]],e);return nu(r,n)}(e,r,s)[t.getDay()];case lu.DayPeriods:const o=t.getHours(),a=t.getMinutes();if(i){const t=function(t){const e=Za(t);return eu(e),(e[tc.ExtraData][2]||[]).map(t=>"string"==typeof t?su(t):[su(t[0]),su(t[1])])}(e),n=function(t,e,n){const s=Za(t);eu(s);const r=nu([s[tc.ExtraData][0],s[tc.ExtraData][1]],e)||[];return nu(r,n)||[]}(e,r,s),i=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,s=o>=e.hours&&a>=e.minutes,r=o<n.hours||o===n.hours&&a<n.minutes;if(e.hours<n.hours){if(s&&r)return!0}else if(s||r)return!0}else if(t.hours===o&&t.minutes===a)return!0;return!1});if(-1!==i)return n[i]}return function(t,e,n){const s=Za(t),r=nu([s[tc.DayPeriodsFormat],s[tc.DayPeriodsStandalone]],e);return nu(r,n)}(e,r,s)[o<12?0:1];case lu.Eras:return function(t,e){return nu(Za(t)[tc.Eras],e)}(e,s)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(r,i,t,e,n,s)}}function fu(t){return function(e,n,s){const r=-1*s,i=tu(n,Jl.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case au.Short:return(r>=0?"+":"")+hu(o,2,i)+hu(Math.abs(r%60),2,i);case au.ShortGMT:return"GMT"+(r>=0?"+":"")+hu(o,1,i);case au.Long:return"GMT"+(r>=0?"+":"")+hu(o,2,i)+":"+hu(Math.abs(r%60),2,i);case au.Extended:return 0===s?"Z":(r>=0?"+":"")+hu(o,2,i)+":"+hu(Math.abs(r%60),2,i);default:throw new Error(`Unknown zone width "${t}"`)}}}function mu(t,e=!1){return function(n,s){let r;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();r=1+Math.floor((e+t)/7)}else{const t=function(t){const e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}(n.getFullYear()),e=(i=n,new Date(i.getFullYear(),i.getMonth(),i.getDate()+(4-i.getDay()))).getTime()-t.getTime();r=1+Math.round(e/6048e5)}var i;return hu(r,t,tu(s,Jl.MinusSign))}}const gu={};function yu(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function vu(t){return t instanceof Date&&!isNaN(t.valueOf())}class bu{}let wu=(()=>{class t extends bu{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return Za(t)[tc.PluralCase]}(e||this.locale)(t)){case Gl.Zero:return"zero";case Gl.One:return"one";case Gl.Two:return"two";case Gl.Few:return"few";case Gl.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(Wt(Vc))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function _u(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[s,r]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(s.trim()===e)return decodeURIComponent(r)}return null}let Su=(()=>{class t{constructor(t,e,n,s){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(lo(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+wt(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(bo(Ra),bo(ja),bo(ma),bo(ba))},t.\u0275dir=ve({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class Cu{constructor(t,e,n,s){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Au=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){_s()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,s)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Cu(null,this._ngForOf,-1,-1),null===s?void 0:s),r=new xu(t,n);e.push(r)}else if(null==s)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const r=this._viewContainer.get(n);this._viewContainer.move(r,s);const i=new xu(t,r);e.push(i)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,s=this._viewContainer.length;n<s;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=s,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(bo(Ua),bo(Va),bo(Ra))},t.\u0275dir=ve({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class xu{constructor(t,e){this.record=t,this.view=e}}let Eu=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new Ou,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Tu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Tu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(bo(Ua),bo(Va))},t.\u0275dir=ve({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class Ou{constructor(){this.$implicit=null,this.ngIf=null}}function Tu(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${wt(e)}'.`)}class ku{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Iu=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ve({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),Pu=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new ku(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(bo(Ua),bo(Va),bo(Iu,1))},t.\u0275dir=ve({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),Mu=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,s]=t.split(".");null!=(e=null!=e&&s?`${e}${s}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(bo(ma),bo(ja),bo(ba))},t.\u0275dir=ve({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})();function Du(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${wt(t)}'`)}class Ru{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class ju{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const Nu=new ju,Lu=new Ru;let Fu=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(To(e))return Nu;if(ko(e))return Lu;throw Du(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(function(t=at.Default){const e=Vi(!0);if(null!=e||t&at.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}())},t.\u0275pipe=be({name:"async",type:t,pure:!1}),t})(),Vu=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",s,r){if(null==e||""===e||e!=e)return null;try{return function(t,e,n,s){let r=function(t){if(vu(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,s]=t.split("-").map(t=>+t);return new Date(e,n-1,s)}let n;if(n=t.match(ru))return function(t){const e=new Date(0);let n=0,s=0;const r=t[8]?e.setUTCFullYear:e.setFullYear,i=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),s=Number(t[9]+t[11])),r.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,a=Number(t[5]||0)-s,c=Number(t[6]||0),l=Math.round(1e3*parseFloat("0."+(t[7]||0)));return i.call(e,o,a,c,l),e}(n)}const e=new Date(t);if(!vu(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=function t(e,n){const s=function(t){return Za(t)[tc.LocaleId]}(e);if(iu[s]=iu[s]||{},iu[s][n])return iu[s][n];let r="";switch(n){case"shortDate":r=Xl(e,Yl.Short);break;case"mediumDate":r=Xl(e,Yl.Medium);break;case"longDate":r=Xl(e,Yl.Long);break;case"fullDate":r=Xl(e,Yl.Full);break;case"shortTime":r=Zl(e,Yl.Short);break;case"mediumTime":r=Zl(e,Yl.Medium);break;case"longTime":r=Zl(e,Yl.Long);break;case"fullTime":r=Zl(e,Yl.Full);break;case"short":const n=t(e,"shortTime"),s=t(e,"shortDate");r=uu(Kl(e,Yl.Short),[n,s]);break;case"medium":const i=t(e,"mediumTime"),o=t(e,"mediumDate");r=uu(Kl(e,Yl.Medium),[i,o]);break;case"long":const a=t(e,"longTime"),c=t(e,"longDate");r=uu(Kl(e,Yl.Long),[a,c]);break;case"full":const l=t(e,"fullTime"),u=t(e,"fullDate");r=uu(Kl(e,Yl.Full),[l,u])}return r&&(iu[s][n]=r),r}(n,e)||e;let i,o=[];for(;e;){if(i=ou.exec(e),!i){o.push(e);break}{o=o.concat(i.slice(1));const t=o.pop();if(!t)break;e=t}}let a=r.getTimezoneOffset();s&&(a=yu(s,a),r=function(t,e,n){const s=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(yu(e,s)-s))}(r,s));let c="";return o.forEach(t=>{const e=function(t){if(gu[t])return gu[t];let e;switch(t){case"G":case"GG":case"GGG":e=pu(lu.Eras,Wl.Abbreviated);break;case"GGGG":e=pu(lu.Eras,Wl.Wide);break;case"GGGGG":e=pu(lu.Eras,Wl.Narrow);break;case"y":e=du(cu.FullYear,1,0,!1,!0);break;case"yy":e=du(cu.FullYear,2,0,!0,!0);break;case"yyy":e=du(cu.FullYear,3,0,!1,!0);break;case"yyyy":e=du(cu.FullYear,4,0,!1,!0);break;case"M":case"L":e=du(cu.Month,1,1);break;case"MM":case"LL":e=du(cu.Month,2,1);break;case"MMM":e=pu(lu.Months,Wl.Abbreviated);break;case"MMMM":e=pu(lu.Months,Wl.Wide);break;case"MMMMM":e=pu(lu.Months,Wl.Narrow);break;case"LLL":e=pu(lu.Months,Wl.Abbreviated,Ql.Standalone);break;case"LLLL":e=pu(lu.Months,Wl.Wide,Ql.Standalone);break;case"LLLLL":e=pu(lu.Months,Wl.Narrow,Ql.Standalone);break;case"w":e=mu(1);break;case"ww":e=mu(2);break;case"W":e=mu(1,!0);break;case"d":e=du(cu.Date,1);break;case"dd":e=du(cu.Date,2);break;case"E":case"EE":case"EEE":e=pu(lu.Days,Wl.Abbreviated);break;case"EEEE":e=pu(lu.Days,Wl.Wide);break;case"EEEEE":e=pu(lu.Days,Wl.Narrow);break;case"EEEEEE":e=pu(lu.Days,Wl.Short);break;case"a":case"aa":case"aaa":e=pu(lu.DayPeriods,Wl.Abbreviated);break;case"aaaa":e=pu(lu.DayPeriods,Wl.Wide);break;case"aaaaa":e=pu(lu.DayPeriods,Wl.Narrow);break;case"b":case"bb":case"bbb":e=pu(lu.DayPeriods,Wl.Abbreviated,Ql.Standalone,!0);break;case"bbbb":e=pu(lu.DayPeriods,Wl.Wide,Ql.Standalone,!0);break;case"bbbbb":e=pu(lu.DayPeriods,Wl.Narrow,Ql.Standalone,!0);break;case"B":case"BB":case"BBB":e=pu(lu.DayPeriods,Wl.Abbreviated,Ql.Format,!0);break;case"BBBB":e=pu(lu.DayPeriods,Wl.Wide,Ql.Format,!0);break;case"BBBBB":e=pu(lu.DayPeriods,Wl.Narrow,Ql.Format,!0);break;case"h":e=du(cu.Hours,1,-12);break;case"hh":e=du(cu.Hours,2,-12);break;case"H":e=du(cu.Hours,1);break;case"HH":e=du(cu.Hours,2);break;case"m":e=du(cu.Minutes,1);break;case"mm":e=du(cu.Minutes,2);break;case"s":e=du(cu.Seconds,1);break;case"ss":e=du(cu.Seconds,2);break;case"S":e=du(cu.FractionalSeconds,1);break;case"SS":e=du(cu.FractionalSeconds,2);break;case"SSS":e=du(cu.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=fu(au.Short);break;case"ZZZZZ":e=fu(au.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=fu(au.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=fu(au.Long);break;default:return null}return gu[t]=e,e}(t);c+=e?e(r,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}(e,n,r||this.locale,s)}catch(i){throw Du(t,i.message)}}}return t.\u0275fac=function(e){return new(e||t)(bo(Vc))},t.\u0275pipe=be({name:"date",type:t,pure:!0}),t})(),qu=(()=>{class t{transform(t){return JSON.stringify(t,null,2)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=be({name:"json",type:t,pure:!1}),t})(),Uu=(()=>{class t{}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},providers:[{provide:bu,useClass:wu}]}),t})(),Bu=(()=>{class t{}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>new zu(Wt(Tl),window,Wt(ms))}),t})();class zu{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,s=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],s-r[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}function Hu(t,e){return new v(n=>{const s=t.length;if(0===s)return void n.complete();const r=new Array(s);let i=0,o=0;for(let a=0;a<s;a++){const c=V(t[a]);let l=!1;n.add(c.subscribe({next:t=>{l||(l=!0,o++),r[a]=t},error:t=>n.error(t),complete:()=>{i++,i!==s&&l||(o===s&&n.next(e?e.reduce((t,e,n)=>(t[e]=r[n],t),{}):r),n.complete())}}))}})}const $u=new Ft("NgValueAccessor"),Gu={provide:$u,useExisting:Ct(()=>Qu),multi:!0};let Qu=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(bo(ba),bo(ma))},t.\u0275dir=ve({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&Io("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[ha([Gu])]}),t})();const Wu={provide:$u,useExisting:Ct(()=>Ju),multi:!0},Yu=new Ft("CompositionEventMode");let Ju=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Ol()?Ol().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(bo(ba),bo(ma),bo(Yu,8))},t.\u0275dir=ve({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&Io("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[ha([Wu])]}),t})(),Xu=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ve({type:t}),t})(),Zu=(()=>{class t extends Xu{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Ku(e||t)},t.\u0275dir=ve({type:t,features:[Ko]}),t})();const Ku=hs(Zu);function th(){throw new Error("unimplemented")}class eh extends Xu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return th()}get asyncValidator(){return th()}}let nh=(()=>{class t extends class{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(bo(eh,2))},t.\u0275dir=ve({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&Bo("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[Ko]}),t})();function sh(t){return null==t||0===t.length}function rh(t){return null!=t&&"number"==typeof t.length}const ih=new Ft("NgValidators"),oh=new Ft("NgAsyncValidators"),ah=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ch{static min(t){return e=>{if(sh(e.value)||sh(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(sh(e.value)||sh(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return sh(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return sh(t.value)||ah.test(t.value)?null:{email:!0}}static minLength(t){return e=>sh(e.value)||!rh(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>rh(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return ch.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(sh(t.value))return null;const s=t.value;return e.test(s)?null:{pattern:{requiredPattern:n,actualValue:s}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(lh);return 0==e.length?null:function(t){return hh(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(lh);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(c(e))return Hu(e,null);if(l(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Hu(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Hu(t=1===t.length&&c(t[0])?t[0]:t,null).pipe(j(t=>e(...t)))}return Hu(t,null)}(function(t,e){return e.map(e=>e(t))}(t,e).map(uh)).pipe(j(hh))}}}function lh(t){return null!=t}function uh(t){const e=To(t)?V(t):t;if(!ko(e))throw new Error("Expected validator to return Promise or Observable.");return e}function hh(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function dh(t){return t.validate?e=>t.validate(e):t}function ph(t){return t.validate?e=>t.validate(e):t}const fh={provide:$u,useExisting:Ct(()=>mh),multi:!0};let mh=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(bo(ba),bo(ma))},t.\u0275dir=ve({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&Io("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[ha([fh])]}),t})();const gh={provide:$u,useExisting:Ct(()=>vh),multi:!0};let yh=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),vh=(()=>{class t{constructor(t,e,n,s){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=s,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(eh),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return t.\u0275fac=function(e){return new(e||t)(bo(ba),bo(ma),bo(yh),bo(so))},t.\u0275dir=ve({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&Io("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[ha([gh])]}),t})();const bh={provide:$u,useExisting:Ct(()=>wh),multi:!0};let wh=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(bo(ba),bo(ma))},t.\u0275dir=ve({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&Io("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[ha([bh])]}),t})();const _h='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Sh='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',Ch={provide:$u,useExisting:Ct(()=>Ah),multi:!0};let Ah=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(bo(ba),bo(ma))},t.\u0275dir=ve({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&Io("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[ha([Ch])]}),t})();const xh={provide:$u,useExisting:Ct(()=>Eh),multi:!0};let Eh=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const s=t.item(e),r=this._getOptionValue(s.value);n.push(r)}}else{const t=e.options;for(let e=0;e<t.length;e++){const s=t.item(e);if(s.selected){const t=this._getOptionValue(s.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(bo(ba),bo(ma))},t.\u0275dir=ve({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&Io("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[ha([xh])]}),t})();function Oh(t,e){return[...e.path,t]}function Th(t,e){t||Ih(e,"Cannot find control with"),e.valueAccessor||Ih(e,"No value accessor for form control with"),t.validator=ch.compose([t.validator,e.validator]),t.asyncValidator=ch.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&kh(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&kh(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function kh(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Ih(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function Ph(t){return null!=t?ch.compose(t.map(dh)):null}function Mh(t){return null!=t?ch.composeAsync(t.map(ph)):null}const Dh=[Qu,wh,mh,Ah,Eh,vh];function Rh(t){const e=Nh(t)?t.validators:t;return Array.isArray(e)?Ph(e):e||null}function jh(t,e){const n=Nh(e)?e.asyncValidators:t;return Array.isArray(n)?Mh(n):n||null}function Nh(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Lh{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=Rh(t)}setAsyncValidators(t){this.asyncValidator=jh(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=uh(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let s=t;return e.forEach(t=>{s=s instanceof Vh?s.controls.hasOwnProperty(t)?s.controls[t]:null:s instanceof qh&&s.at(t)||null}),s}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new fc,this.statusChanges=new fc}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Nh(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class Fh extends Lh{constructor(t=null,e,n){super(Rh(e),jh(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Vh extends Lh{constructor(t,e,n){super(Rh(e),jh(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,s)=>{n.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Fh?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,s)=>{n=e(n,t,s)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class qh extends Lh{constructor(t,e,n){super(Rh(e),jh(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,s)=>{n.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Fh?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Uh={provide:Zu,useExisting:Ct(()=>zh)},Bh=(()=>Promise.resolve(null))();let zh=(()=>{class t extends Zu{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new fc,this.form=new Vh({},Ph(t),Mh(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Bh.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Th(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Bh.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),function(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this._directives,t)})}addFormGroup(t){Bh.then(()=>{const e=this._findContainer(t.path),n=new Vh({});(function(t,e){null==t&&Ih(e,"Cannot find control with"),t.validator=ch.compose([t.validator,e.validator]),t.asyncValidator=ch.composeAsync([t.asyncValidator,e.asyncValidator])})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Bh.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Bh.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(bo(ih,10),bo(oh,10))},t.\u0275dir=ve({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&Io("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ha([Uh]),Ko]}),t})(),Hh=(()=>{class t extends Zu{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Oh(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Ph(this._validators)}get asyncValidator(){return Mh(this._asyncValidators)}_checkParentType(){}}return t.\u0275fac=function(e){return $h(e||t)},t.\u0275dir=ve({type:t,features:[Ko]}),t})();const $h=hs(Hh);class Gh{static modelParentException(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${_h}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${Sh}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${_h}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${Sh}`)}}const Qh={provide:Zu,useExisting:Ct(()=>Wh)};let Wh=(()=>{class t extends Hh{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof t||this._parent instanceof zh||Gh.modelGroupParentException()}}return t.\u0275fac=function(e){return new(e||t)(bo(Zu,5),bo(ih,10),bo(oh,10))},t.\u0275dir=ve({type:t,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[ha([Qh]),Ko]}),t})();const Yh={provide:eh,useExisting:Ct(()=>Xh)},Jh=(()=>Promise.resolve(null))();let Xh=(()=>{class t extends eh{constructor(t,e,n,s){super(),this.control=new Fh,this._registered=!1,this.update=new fc,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||Ih(t,"Value accessor was not provided as an array for form control with");let n=void 0,s=void 0,r=void 0;return e.forEach(e=>{var i;e.constructor===Ju?n=e:(i=e,Dh.some(t=>i.constructor===t)?(s&&Ih(t,"More than one built-in value accessor matches form control with"),s=e):(r&&Ih(t,"More than one custom value accessor matches form control with"),r=e))}),r||s||n||(Ih(t,"No valid value accessor for form control with"),null)}(this,s)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Oh(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Ph(this._rawValidators)}get asyncValidator(){return Mh(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Th(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof Wh)&&this._parent instanceof Hh?Gh.formGroupNameException():this._parent instanceof Wh||this._parent instanceof zh||Gh.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Gh.missingNameException()}_updateValue(t){Jh.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Jh.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(bo(Zu,9),bo(ih,10),bo(oh,10),bo($u,10))},t.\u0275dir=ve({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ha([Yh]),Ko,Pe]}),t})(),Zh=(()=>{class t{}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)}}),t})(),Kh=(()=>{class t{}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},providers:[yh],imports:[Zh]}),t})();class td extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new td,El||(El=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=nd||(nd=document.querySelector("base"),nd)?nd.getAttribute("href"):null;return null==e?null:(n=e,ed||(ed=document.createElement("a")),ed.setAttribute("href",n),"/"===ed.pathname.charAt(0)?ed.pathname:"/"+ed.pathname);var n}resetBaseElement(){nd=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return _u(document.cookie,t)}}let ed,nd=null;const sd=new Ft("TRANSITION_ID"),rd=[{provide:Ic,useFactory:function(t,e,n){return()=>{n.get(Pc).donePromise.then(()=>{const n=Ol();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[sd,Tl,so],multi:!0}];class id{static init(){var t;t=new id,ll=t}addToWindow(t){It.getAngularTestability=(e,n=!0)=>{const s=t.findTestabilityInTree(e,n);if(null==s)throw new Error("Could not find testability for element.");return s},It.getAllAngularTestabilities=()=>t.getAllTestabilities(),It.getAllAngularRootElements=()=>t.getAllRootElements(),It.frameworkStabilizers||(It.frameworkStabilizers=[]),It.frameworkStabilizers.push(t=>{const e=It.getAllAngularTestabilities();let n=e.length,s=!1;const r=function(e){s=s||e,n--,0==n&&t(s)};e.forEach((function(t){t.whenStable(r)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const s=t.getTestability(e);return null!=s?s:n?Ol().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const od=new Ft("EventManagerPlugins");let ad=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let s=0;s<n.length;s++){const e=n[s];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(Wt(od),Wt(Xc))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class cd{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const s=Ol().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${e}`);return this.addEventListener(s,e,n)}}let ld=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),ud=(()=>{class t extends ld{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Ol().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(Wt(Tl))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const hd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},dd=/%COMP%/g;function pd(t,e,n){for(let s=0;s<e.length;s++){let r=e[s];Array.isArray(r)?pd(t,r,n):(r=r.replace(dd,t),n.push(r))}return n}function fd(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let md=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new gd(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case ce.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new yd(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case ce.Native:case ce.ShadowDom:return new vd(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=pd(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(Wt(ad),Wt(ud),Wt(Mc))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class gd{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(hd[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,s){if(s){e=s+":"+e;const r=hd[s];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const s=hd[n];s?t.removeAttributeNS(s,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,s){s&va.DashCase?t.style.setProperty(e,n,s&va.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&va.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,fd(n)):this.eventManager.addEventListener(t,e,fd(n))}}class yd extends gd{constructor(t,e,n,s){super(t),this.component=n;const r=pd(s+"-"+n.id,n.styles,[]);e.addStyles(r),this.contentAttr="_ngcontent-%COMP%".replace(dd,s+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(dd,t)}(s+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class vd extends gd{constructor(t,e,n,s){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=s,this.shadowRoot=s.encapsulation===ce.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const r=pd(s.id,s.styles,[]);for(let i=0;i<r.length;i++){const t=document.createElement("style");t.textContent=r[i],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let bd=(()=>{class t extends cd{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(Wt(Tl))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const wd=["alt","control","meta","shift"],_d={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Sd={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Cd={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Ad=(()=>{class t extends cd{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,s){const r=t.parseEventName(n),i=t.eventCallback(r.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ol().onAndCancel(e,r.domEventName,i))}static parseEventName(e){const n=e.toLowerCase().split("."),s=n.shift();if(0===n.length||"keydown"!==s&&"keyup"!==s)return null;const r=t._normalizeKey(n.pop());let i="";if(wd.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),i+=t+".")}),i+=r,0!=n.length||0===r.length)return null;const o={};return o.domEventName=s,o.fullKey=i,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Sd.hasOwnProperty(e)&&(e=Sd[e]))}return _d[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),wd.forEach(s=>{s!=n&&(0,Cd[s])(t)&&(e+=s+".")}),e+=n,e}static eventCallback(e,n,s){return r=>{t.getEventFullKey(r)===e&&s.runGuarded(()=>n(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(Wt(Tl))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const xd=dl(Cl,"browser",[{provide:Nc,useValue:"browser"},{provide:jc,useValue:function(){td.makeCurrent(),id.init()},multi:!0},{provide:Tl,useFactory:function(){return function(t){Ne=t}(document),document},deps:[]}]),Ed=[[],{provide:zi,useValue:"root"},{provide:ms,useFactory:function(){return new ms},deps:[]},{provide:od,useClass:bd,multi:!0,deps:[Tl,Xc,Nc]},{provide:od,useClass:Ad,multi:!0,deps:[Tl]},[],{provide:md,useClass:md,deps:[ad,ud,Mc]},{provide:ya,useExisting:md},{provide:ld,useExisting:ud},{provide:ud,useClass:ud,deps:[Tl]},{provide:il,useClass:il,deps:[Xc]},{provide:ad,useClass:ad,deps:[od,Xc]},[]];let Od=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:Mc,useValue:e.appId},{provide:sd,useExisting:Mc},rd]}}}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)(Wt(t,12))},providers:Ed,imports:[Uu,xl]}),t})();"undefined"!=typeof window&&window;class Td{}function kd(t,e){return{type:7,name:t,definitions:e,options:{}}}function Id(t,e=null){return{type:4,styles:e,timings:t}}function Pd(t,e=null){return{type:2,steps:t,options:e}}function Md(t){return{type:6,styles:t,offset:null}}function Dd(t,e,n){return{type:0,name:t,styles:e,options:n}}function Rd(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function jd(t){Promise.resolve(null).then(t)}class Nd{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){jd(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Ld{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,s=0;const r=this.players.length;0==r?jd(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==r&&this._onFinish()}),t.onDestroy(()=>{++n==r&&this._onDestroy()}),t.onStart(()=>{++s==r&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Fd(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Vd(t){switch(t.length){case 0:return new Nd;case 1:return t[0];default:return new Ld(t)}}function qd(t,e,n,s,r={},i={}){const o=[],a=[];let c=-1,l=null;if(s.forEach(t=>{const n=t.offset,s=n==c,u=s&&l||{};Object.keys(t).forEach(n=>{let s=n,a=t[n];if("offset"!==n)switch(s=e.normalizePropertyName(s,o),a){case"!":a=r[n];break;case"*":a=i[n];break;default:a=e.normalizeStyleValue(n,s,a,o)}u[s]=a}),s||a.push(u),l=u,c=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function Ud(t,e,n,s){switch(e){case"start":t.onStart(()=>s(n&&Bd(n,"start",t)));break;case"done":t.onDone(()=>s(n&&Bd(n,"done",t)));break;case"destroy":t.onDestroy(()=>s(n&&Bd(n,"destroy",t)))}}function Bd(t,e,n){const s=n.totalTime,r=zd(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==s?t.totalTime:s,!!n.disabled),i=t._data;return null!=i&&(r._data=i),r}function zd(t,e,n,s,r="",i=0,o){return{element:t,triggerName:e,fromState:n,toState:s,phaseName:r,totalTime:i,disabled:!!o}}function Hd(t,e,n){let s;return t instanceof Map?(s=t.get(e),s||t.set(e,s=n)):(s=t[e],s||(s=t[e]=n)),s}function $d(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Gd=(t,e)=>!1,Qd=(t,e)=>!1,Wd=(t,e,n)=>[];const Yd=Fd();(Yd||"undefined"!=typeof Element)&&(Gd=(t,e)=>t.contains(e),Qd=(()=>{if(Yd||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Qd}})(),Wd=(t,e,n)=>{let s=[];if(n)s.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&s.push(n)}return s});let Jd=null,Xd=!1;function Zd(t){Jd||(Jd=("undefined"!=typeof document?document.body:null)||{},Xd=!!Jd.style&&"WebkitAppearance"in Jd.style);let e=!0;return Jd.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Jd.style,!e&&Xd)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Jd.style),e}const Kd=Qd,tp=Gd,ep=Wd;function np(t){const e={};return Object.keys(t).forEach(n=>{const s=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[s]=t[n]}),e}let sp=(()=>{class t{validateStyleProperty(t){return Zd(t)}matchesElement(t,e){return Kd(t,e)}containsElement(t,e){return tp(t,e)}query(t,e,n){return ep(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,s,r,i=[],o){return new Nd(n,s)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),rp=(()=>{class t{}return t.NOOP=new sp,t})();function ip(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:op(parseFloat(e[1]),e[2])}function op(t,e){switch(e){case"s":return 1e3*t;default:return t}}function ap(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let s,r=0,i="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};s=op(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(r=op(parseFloat(o),n[4]));const a=n[5];a&&(i=a)}else s=t;if(!n){let n=!1,i=e.length;s<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(i,0,`The provided timing value "${t}" is invalid.`)}return{duration:s,delay:r,easing:i}}(t,e,n)}function cp(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function lp(t,e,n={}){if(e)for(let s in t)n[s]=t[s];else cp(t,n);return n}function up(t,e,n){return n?e+":"+n+";":""}function hp(t){let e="";for(let n=0;n<t.style.length;n++){const s=t.style.item(n);e+=up(0,s,t.style.getPropertyValue(s))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=up(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function dp(t,e,n){t.style&&(Object.keys(e).forEach(s=>{const r=wp(s);n&&!n.hasOwnProperty(s)&&(n[s]=t.style[r]),t.style[r]=e[s]}),Fd()&&hp(t))}function pp(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=wp(e);t.style[n]=""}),Fd()&&hp(t))}function fp(t){return Array.isArray(t)?1==t.length?t[0]:Pd(t):t}const mp=new RegExp("{{\\s*(.+?)\\s*}}","g");function gp(t){let e=[];if("string"==typeof t){let n;for(;n=mp.exec(t);)e.push(n[1]);mp.lastIndex=0}return e}function yp(t,e,n){const s=t.toString(),r=s.replace(mp,(t,s)=>{let r=e[s];return e.hasOwnProperty(s)||(n.push("Please provide a value for the animation param "+s),r=""),r.toString()});return r==s?t:r}function vp(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const bp=/-+([a-z0-9])/g;function wp(t){return t.replace(bp,(...t)=>t[1].toUpperCase())}function _p(t,e){return 0===t||0===e}function Sp(t,e,n){const s=Object.keys(n);if(s.length&&e.length){let i=e[0],o=[];if(s.forEach(t=>{i.hasOwnProperty(t)||o.push(t),i[t]=n[t]}),o.length)for(var r=1;r<e.length;r++){let n=e[r];o.forEach((function(e){n[e]=Ap(t,e)}))}}return e}function Cp(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function Ap(t,e){return window.getComputedStyle(t)[e]}function xp(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const s=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof s)return void e.push(s);t=s}const s=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==s||s.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const r=s[1],i=s[2],o=s[3];e.push(Tp(r,o)),"<"!=i[0]||"*"==r&&"*"==o||e.push(Tp(o,r))}(t,n,e)):n.push(t),n}const Ep=new Set(["true","1"]),Op=new Set(["false","0"]);function Tp(t,e){const n=Ep.has(t)||Op.has(t),s=Ep.has(e)||Op.has(e);return(r,i)=>{let o="*"==t||t==r,a="*"==e||e==i;return!o&&n&&"boolean"==typeof r&&(o=r?Ep.has(t):Op.has(t)),!a&&s&&"boolean"==typeof i&&(a=i?Ep.has(e):Op.has(e)),o&&a}}const kp=new RegExp("s*:selfs*,?","g");function Ip(t,e,n){return new Pp(t).build(e,n)}class Pp{constructor(t){this._driver=t}build(t,e){const n=new Mp(e);return this._resetContextStyleTimingState(n),Cp(this,fp(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,s=e.depCount=0;const r=[],i=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,s=n.name;s.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,r.push(this.visitState(n,e))}),n.name=s}else if(1==t.type){const r=this.visitTransition(t,e);n+=r.queryCount,s+=r.depCount,i.push(r)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:i,queryCount:n,depCount:s,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),s=t.options&&t.options.params||null;if(n.containsDynamicStyles){const r=new Set,i=s||{};if(n.styles.forEach(t=>{if(Dp(t)){const e=t;Object.keys(e).forEach(t=>{gp(e[t]).forEach(t=>{i.hasOwnProperty(t)||r.add(t)})})}}),r.size){const n=vp(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:s?{params:s}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Cp(this,fp(t.animation),e);return{type:1,matchers:xp(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Rp(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Cp(this,t,e)),options:Rp(t.options)}}visitGroup(t,e){const n=e.currentTime;let s=0;const r=t.steps.map(t=>{e.currentTime=n;const r=Cp(this,t,e);return s=Math.max(s,e.currentTime),r});return e.currentTime=s,{type:3,steps:r,options:Rp(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return jp(ap(t,e).duration,0,"");const s=t;if(s.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=jp(0,0,"");return t.dynamic=!0,t.strValue=s,t}return n=n||ap(s,e),jp(n.duration,n.delay,n.easing)}(t.timings,e.errors);let s;e.currentAnimateTimings=n;let r=t.styles?t.styles:Md({});if(5==r.type)s=this.visitKeyframes(r,e);else{let r=t.styles,i=!1;if(!r){i=!0;const t={};n.easing&&(t.easing=n.easing),r=Md(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(r,e);o.isEmptyStep=i,s=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:s,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let s=!1,r=null;return n.forEach(t=>{if(Dp(t)){const e=t,n=e.easing;if(n&&(r=n,delete e.easing),!s)for(let t in e)if(e[t].toString().indexOf("{{")>=0){s=!0;break}}}),{type:6,styles:n,easing:r,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let s=e.currentTime,r=e.currentTime;n&&r>0&&(r-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const i=e.collectedStyles[e.currentQuerySelector],o=i[n];let a=!0;o&&(r!=s&&r>=o.startTime&&s<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${s}ms"`),a=!1),r=o.startTime),a&&(i[n]={startTime:r,endTime:s}),e.options&&function(t,e,n){const s=e.params||{},r=gp(t);r.length&&r.forEach(t=>{s.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let s=0;const r=[];let i=!1,o=!1,a=0;const c=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let c=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Dp(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Dp(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),l=0;return null!=c&&(s++,l=n.offset=c),o=o||l<0||l>1,i=i||l<a,a=l,r.push(l),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),i&&e.errors.push("Please ensure that all keyframe offsets are in order");const l=t.steps.length;let u=0;s>0&&s<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(u=1/(l-1));const h=l-1,d=e.currentTime,p=e.currentAnimateTimings,f=p.duration;return c.forEach((t,s)=>{const i=u>0?s==h?1:u*s:r[s],o=i*f;e.currentTime=d+p.delay+o,p.duration=o,this._validateStyleAst(t,e),t.offset=i,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Cp(this,fp(t.animation),e),options:Rp(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Rp(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Rp(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,s=t.options||{};e.queryCount++,e.currentQuery=t;const[r,i]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(kp,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+r:r,Hd(e.collectedStyles,e.currentQuerySelector,{});const o=Cp(this,fp(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:r,limit:s.limit||0,optional:!!s.optional,includeSelf:i,animation:o,originalSelector:t.selector,options:Rp(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:ap(t.timings,e.errors,!0);return{type:12,animation:Cp(this,fp(t.animation),e),timings:n,options:null}}}class Mp{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Dp(t){return!Array.isArray(t)&&"object"==typeof t}function Rp(t){var e;return t?(t=cp(t)).params&&(t.params=(e=t.params)?cp(e):null):t={},t}function jp(t,e,n){return{duration:t,delay:e,easing:n}}function Np(t,e,n,s,r,i,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:s,duration:r,delay:i,totalTime:r+i,easing:o,subTimeline:a}}class Lp{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Fp=new RegExp(":enter","g"),Vp=new RegExp(":leave","g");function qp(t,e,n,s,r,i={},o={},a,c,l=[]){return(new Up).buildKeyframes(t,e,n,s,r,i,o,a,c,l)}class Up{buildKeyframes(t,e,n,s,r,i,o,a,c,l=[]){c=c||new Lp;const u=new zp(t,e,c,s,r,l,[]);u.options=a,u.currentTimeline.setStyles([i],null,u.errors,a),Cp(this,n,u);const h=u.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,u.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[Np(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const s=e.createSubContext(t.options),r=e.currentTimeline.currentTime,i=this._visitSubInstructions(n,s,s.options);r!=i&&e.transformIntoNewTimeline(i)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let s=e.currentTimeline.currentTime;const r=null!=n.duration?ip(n.duration):null,i=null!=n.delay?ip(n.delay):null;return 0!==r&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,r,i);s=Math.max(s,n.duration+n.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Cp(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let s=e;const r=t.options;if(r&&(r.params||r.delay)&&(s=e.createSubContext(r),s.transformIntoNewTimeline(),null!=r.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=Bp);const t=ip(r.delay);s.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Cp(this,t,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>n&&s.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let s=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?ip(t.options.delay):0;t.steps.forEach(i=>{const o=e.createSubContext(t.options);r&&o.delayNextStep(r),Cp(this,i,o),s=Math.max(s,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(s),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return ap(e.params?yp(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),s=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),s.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),s.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,s=e.currentAnimateTimings;!s&&n.getCurrentStyleProperties().length&&n.forwardFrame();const r=s&&s.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,s=e.currentTimeline.duration,r=n.duration,i=e.createSubContext().currentTimeline;i.easing=n.easing,t.styles.forEach(t=>{i.forwardTime((t.offset||0)*r),i.setStyles(t.styles,t.easing,e.errors,e.options),i.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(i),e.transformIntoNewTimeline(s+r),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,s=t.options||{},r=s.delay?ip(s.delay):0;r&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Bp);let i=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!s.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,s)=>{e.currentQueryIndex=s;const o=e.createSubContext(t.options,n);r&&o.delayNextStep(r),n===e.element&&(a=o.currentTimeline),Cp(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),i=Math.max(i,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(i),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,s=e.currentTimeline,r=t.timings,i=Math.abs(r.duration),o=i*(e.currentQueryTotal-1);let a=i*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const c=e.currentTimeline;a&&c.delayNextStep(a);const l=c.currentTime;Cp(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=s.currentTime-l+(s.startTime-n.currentTimeline.startTime)}}const Bp={};class zp{constructor(t,e,n,s,r,i,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=s,this._leaveClassName=r,this.errors=i,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Bp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Hp(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let s=this.options;null!=n.duration&&(s.duration=ip(n.duration)),null!=n.delay&&(s.delay=ip(n.delay));const r=n.params;if(r){let t=s.params;t||(t=this.options.params={}),Object.keys(r).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=yp(r[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const s=e||this.element,r=new zp(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=Bp,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const s={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},r=new $p(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,s,t.stretchStartingKeyframe);return this.timelines.push(r),s}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,s,r,i){let o=[];if(s&&o.push(this.element),t.length>0){t=(t=t.replace(Fp,"."+this._enterClassName)).replace(Vp,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return r||0!=o.length||i.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class Hp{constructor(t,e,n,s){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Hp(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,s){e&&(this._previousKeyframe.easing=e);const r=s&&s.params||{},i=function(t,e){const n={};let s;return t.forEach(t=>{"*"===t?(s=s||Object.keys(e),s.forEach(t=>{n[t]="*"})):lp(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(i).forEach(t=>{const e=yp(i[t],r,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],s=t._styleSummary[e];(!n||s.time>n.time)&&this._updateStyle(e,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((r,i)=>{const o=lp(r,!0);Object.keys(o).forEach(n=>{const s=o[n];"!"==s?t.add(n):"*"==s&&e.add(n)}),n||(o.offset=i/this.duration),s.push(o)});const r=t.size?vp(t.values()):[],i=e.size?vp(e.values()):[];if(n){const t=s[0],e=cp(t);t.offset=0,e.offset=1,s=[t,e]}return Np(this.element,s,r,i,this.duration,this.startTime,this.easing,!1)}}class $p extends Hp{constructor(t,e,n,s,r,i,o=!1){super(t,e,i.delay),this.element=e,this.keyframes=n,this.preStyleProps=s,this.postStyleProps=r,this._stretchStartingKeyframe=o,this.timings={duration:i.duration,delay:i.delay,easing:i.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:s}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],i=n+e,o=e/i,a=lp(t[0],!1);a.offset=0,r.push(a);const c=lp(t[0],!1);c.offset=Gp(o),r.push(c);const l=t.length-1;for(let s=1;s<=l;s++){let o=lp(t[s],!1);o.offset=Gp((e+o.offset*n)/i),r.push(o)}n=i,e=0,s="",t=r}return Np(this.element,t,this.preStyleProps,this.postStyleProps,n,e,s,!0)}}function Gp(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Qp{}class Wp extends Qp{normalizePropertyName(t,e){return wp(t)}normalizeStyleValue(t,e,n,s){let r="";const i=n.toString().trim();if(Yp[e]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&s.push(`Please provide a CSS unit value for ${t}:${n}`)}return i+r}}const Yp=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Jp(t,e,n,s,r,i,o,a,c,l,u,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:i,toState:s,toStyles:o,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:h,errors:d}}const Xp={};class Zp{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,s){return function(t,e,n,s,r){return t.some(t=>t(e,n,s,r))}(this.ast.matchers,t,e,n,s)}buildStyles(t,e,n){const s=this._stateStyles["*"],r=this._stateStyles[t],i=s?s.buildStyles(e,n):{};return r?r.buildStyles(e,n):i}build(t,e,n,s,r,i,o,a,c,l){const u=[],h=this.ast.options&&this.ast.options.params||Xp,d=this.buildStyles(n,o&&o.params||Xp,u),p=a&&a.params||Xp,f=this.buildStyles(s,p,u),m=new Set,g=new Map,y=new Map,v="void"===s,b={params:Object.assign(Object.assign({},h),p)},w=l?[]:qp(t,e,this.ast.animation,r,i,d,f,b,c,u);let _=0;if(w.forEach(t=>{_=Math.max(t.duration+t.delay,_)}),u.length)return Jp(e,this._triggerName,n,s,v,d,f,[],[],g,y,_,u);w.forEach(t=>{const n=t.element,s=Hd(g,n,{});t.preStyleProps.forEach(t=>s[t]=!0);const r=Hd(y,n,{});t.postStyleProps.forEach(t=>r[t]=!0),n!==e&&m.add(n)});const S=vp(m.values());return Jp(e,this._triggerName,n,s,v,d,f,w,S,g,y,_)}}class Kp{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},s=cp(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(s[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const r=t;Object.keys(r).forEach(t=>{let i=r[t];i.length>1&&(i=yp(i,s,e)),n[t]=i})}}),n}}class tf{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Kp(t.style,t.options&&t.options.params||{})}),ef(this.states,"true","1"),ef(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new Zp(t,e,this.states))}),this.fallbackTransition=new Zp(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,s){return this.transitionFactories.find(r=>r.match(t,e,n,s))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function ef(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const nf=new Lp;class sf{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],s=Ip(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=s}_buildPlayer(t,e,n){const s=t.element,r=qd(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(s,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const s=[],r=this._animations[t];let i;const o=new Map;if(r?(i=qp(this._driver,e,r,"ng-enter","ng-leave",{},{},n,nf,s),i.forEach(t=>{const e=Hd(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(s.push("The requested animation doesn't exist or has already been destroyed"),i=[]),s.length)throw new Error("Unable to create the animation due to the following errors: "+s.join("\n"));o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=Vd(i.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,s){const r=zd(e,"","","");return Ud(this._getPlayer(t),n,r,s),()=>{}}command(t,e,n,s){if("register"==n)return void this.register(t,s[0]);if("create"==n)return void this.create(t,e,s[0]||{});const r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(t)}}}const rf=[],of={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},af={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class cf{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(s=n?t.value:t)?s:null,n){const e=cp(t);delete e.value,this.options=e}else this.options={};var s;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const lf=new cf("void");class uf{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,yf(e,this._hostClassName)}listen(t,e,n,s){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(r=n)&&"done"!=r)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var r;const i=Hd(this._elementListeners,t,[]),o={name:e,phase:n,callback:s};i.push(o);const a=Hd(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(yf(t,"ng-trigger"),yf(t,"ng-trigger-"+e),a[e]=lf),()=>{this._engine.afterFlush(()=>{const t=i.indexOf(o);t>=0&&i.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,s=!0){const r=this._getTrigger(e),i=new df(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(yf(t,"ng-trigger"),yf(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const c=new cf(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),o[e]=c,a||(a=lf),"void"!==c.value&&a.value===c.value){if(!function(t,e){const n=Object.keys(t),s=Object.keys(e);if(n.length!=s.length)return!1;for(let r=0;r<n.length;r++){const s=n[r];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}(a.params,c.params)){const e=[],n=r.matchStyles(a.value,a.params,e),s=r.matchStyles(c.value,c.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{pp(t,n),dp(t,s)})}return}const l=Hd(this._engine.playersByElement,t,[]);l.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let u=r.matchTransition(a.value,c.value,t,c.params),h=!1;if(!u){if(!s)return;u=r.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:u,fromState:a,toState:c,player:i,isFallbackTransition:h}),h||(yf(t,"ng-animate-queued"),i.onStart(()=>{vf(t,"ng-animate-queued")})),i.onDone(()=>{let e=this.players.indexOf(i);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(i);t>=0&&n.splice(t,1)}}),this.players.push(i),l.push(i),i}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,s){const r=this._engine.statesByElement.get(t);if(r){const i=[];if(Object.keys(r).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",s);n&&i.push(n)}}),i.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Vd(i).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const s=e.name;if(n.has(s))return;n.add(s);const r=this._triggers[s].fallbackTransition,i=this._engine.statesByElement.get(t)[s]||lf,o=new cf("void"),a=new df(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:r,fromState:i,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let s=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)s=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(t),s)n.markElementAsRemoved(this.id,t,!1,e);else{const s=t.__ng_removed;s&&s!==of||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){yf(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const s=n.player;if(s.destroyed)return;const r=n.element,i=this._elementListeners.get(r);i&&i.forEach(e=>{if(e.name==n.triggerName){const s=zd(r,n.triggerName,n.fromState.value,n.toState.value);s._data=t,Ud(n.player,e.phase,s,e.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,s=e.transition.ast.depCount;return 0==n||0==s?n-s:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class hf{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new uf(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let s=!1;for(let r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),s=!0;break}s||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let s=this._namespaceLookup[t];s&&s.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let s=0;s<t.length;s++){const r=n[t[s]].namespaceId;if(r){const t=this._fetchNamespace(r);t&&e.add(t)}}}return e}trigger(t,e,n,s){if(pf(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,n,s),!0}return!1}insertNode(t,e,n,s){if(!pf(e))return;const r=e.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,n)}s&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),yf(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),vf(t,"ng-animate-disabled"))}removeNode(t,e,n,s){if(pf(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,s):this.markElementAsRemoved(t,e,!1,s),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,s)}}else this._onRemovalComplete(e,s)}markElementAsRemoved(t,e,n,s){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:s,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,s,r){return pf(e)?this._fetchNamespace(t).listen(e,n,s,r):()=>{}}_buildInstruction(t,e,n,s,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,s,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Vd(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=of,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)yf(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Vd(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new Lp,s=[],r=new Map,i=[],o=new Map,a=new Map,c=new Map,l=new Set;this.disabledNodes.forEach(t=>{l.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)l.add(e[n])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=gf(h,this.collectedEnterElements),p=new Map;let f=0;d.forEach((t,e)=>{const n="ng-enter"+f++;p.set(e,n),t.forEach(t=>yf(t,n))});const m=[],g=new Set,y=new Set;for(let I=0;I<this.collectedLeaveElements.length;I++){const t=this.collectedLeaveElements[I],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const v=new Map,b=gf(h,Array.from(g));b.forEach((t,e)=>{const n="ng-leave"+f++;v.set(e,n),t.forEach(t=>yf(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=p.get(e);t.forEach(t=>vf(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>vf(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const w=[],_=[];for(let I=this._namespaceList.length-1;I>=0;I--)this._namespaceList[I].drainQueuedTransitions(e).forEach(t=>{const e=t.player,r=t.element;if(w.push(e),this.collectedEnterElements.length){const t=r.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const l=!u||!this.driver.containsElement(u,r),h=v.get(r),d=p.get(r),f=this._buildInstruction(t,n,d,h,l);if(f.errors&&f.errors.length)_.push(f);else{if(l)return e.onStart(()=>pp(r,f.fromStyles)),e.onDestroy(()=>dp(r,f.toStyles)),void s.push(e);if(t.isFallbackTransition)return e.onStart(()=>pp(r,f.fromStyles)),e.onDestroy(()=>dp(r,f.toStyles)),void s.push(e);f.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(r,f.timelines),i.push({instruction:f,player:e,element:r}),f.queriedElements.forEach(t=>Hd(o,t,[]).push(e)),f.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),f.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let s=c.get(e);s||c.set(e,s=new Set),n.forEach(t=>s.add(t))})}});if(_.length){const t=[];_.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),w.forEach(t=>t.destroy()),this.reportError(t)}const S=new Map,C=new Map;i.forEach(t=>{const e=t.element;n.has(e)&&(C.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,S))}),s.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Hd(S,e,[]).push(t),t.destroy()})});const A=m.filter(t=>wf(t,a,c)),x=new Map;mf(x,this.driver,y,c,"*").forEach(t=>{wf(t,a,c)&&A.push(t)});const E=new Map;d.forEach((t,e)=>{mf(E,this.driver,new Set(t),a,"!")}),A.forEach(t=>{const e=x.get(t),n=E.get(t);x.set(t,Object.assign(Object.assign({},e),n))});const O=[],T=[],k={};i.forEach(t=>{const{element:e,player:i,instruction:o}=t;if(n.has(e)){if(l.has(e))return i.onDestroy(()=>dp(e,o.toStyles)),i.disabled=!0,i.overrideTotalTime(o.totalTime),void s.push(i);let t=k;if(C.size>1){let n=e;const s=[];for(;n=n.parentNode;){const e=C.get(n);if(e){t=e;break}s.push(n)}s.forEach(e=>C.set(e,t))}const n=this._buildAnimation(i.namespaceId,o,S,r,E,x);if(i.setRealPlayer(n),t===k)O.push(i);else{const e=this.playersByElement.get(t);e&&e.length&&(i.parentPlayer=Vd(e)),s.push(i)}}else pp(e,o.fromStyles),i.onDestroy(()=>dp(e,o.toStyles)),T.push(i),l.has(e)&&s.push(i)}),T.forEach(t=>{const e=r.get(t.element);if(e&&e.length){const n=Vd(e);t.setRealPlayer(n)}}),s.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let I=0;I<m.length;I++){const t=m[I],e=t.__ng_removed;if(vf(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let s=this.driver.query(t,".ng-animating",!0);for(let t=0;t<s.length;t++){let e=o.get(s[t]);e&&e.length&&n.push(...e)}}const s=n.filter(t=>!t.destroyed);s.length?bf(this,t,s):this.processLeaveNode(t)}return m.length=0,O.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),O}elementContainsData(t,e){let n=!1;const s=e.__ng_removed;return s&&s.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,s,r){let i=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(i=e)}else{const e=this.playersByElement.get(t);if(e){const t=!r||"void"==r;e.forEach(e=>{e.queued||(t||e.triggerName==s)&&i.push(e)})}}return(n||s)&&(i=i.filter(t=>!(n&&n!=t.namespaceId||s&&s!=t.triggerName))),i}_beforeAnimationBuild(t,e,n){const s=e.element,r=e.isRemovalTransition?void 0:t,i=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==s,c=Hd(n,t,[]);this._getPreviousPlayers(t,a,r,i,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})}pp(s,e.fromStyles)}_buildAnimation(t,e,n,s,r,i){const o=e.triggerName,a=e.element,c=[],l=new Set,u=new Set,h=e.timelines.map(e=>{const h=e.element;l.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new Nd(e.duration,e.delay);const p=h!==a,f=function(t){const e=[];return function t(e,n){for(let s=0;s<e.length;s++){const r=e[s];r instanceof Ld?t(r.players,n):n.push(r)}}(t,e),e}((n.get(h)||rf).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=r.get(h),g=i.get(h),y=qd(0,this._normalizer,0,e.keyframes,m,g),v=this._buildPlayer(e,y,f);if(e.subTimeline&&s&&u.add(h),p){const e=new df(t,o,h);e.setRealPlayer(v),c.push(e)}return v});c.forEach(t=>{Hd(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let s;if(t instanceof Map){if(s=t.get(e),s){if(s.length){const t=s.indexOf(n);s.splice(t,1)}0==s.length&&t.delete(e)}}else if(s=t[e],s){if(s.length){const t=s.indexOf(n);s.splice(t,1)}0==s.length&&delete t[e]}return s}(this.playersByQueriedElement,t.element,t))}),l.forEach(t=>yf(t,"ng-animating"));const d=Vd(h);return d.onDestroy(()=>{l.forEach(t=>vf(t,"ng-animating")),dp(a,e.toStyles)}),u.forEach(t=>{Hd(s,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Nd(t.duration,t.delay)}}class df{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Nd,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Ud(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Hd(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function pf(t){return t&&1===t.nodeType}function ff(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function mf(t,e,n,s,r){const i=[];n.forEach(t=>i.push(ff(t)));const o=[];s.forEach((n,s)=>{const i={};n.forEach(t=>{const n=i[t]=e.computeStyle(s,t,r);n&&0!=n.length||(s.__ng_removed=af,o.push(s))}),t.set(s,i)});let a=0;return n.forEach(t=>ff(t,i[a++])),o}function gf(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const s=new Set(e),r=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let i=r.get(e);if(i)return i;const o=e.parentNode;return i=n.has(o)?o:s.has(o)?1:t(o),r.set(e,i),i}(t);1!==e&&n.get(e).push(t)}),n}function yf(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function vf(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function bf(t,e,n){Vd(n).onDone(()=>t.processLeaveNode(e))}function wf(t,e,n){const s=n.get(t);if(!s)return!1;let r=e.get(t);return r?s.forEach(t=>r.add(t)):e.set(t,s),n.delete(t),!0}class _f{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new hf(t,e,n),this._timelineEngine=new sf(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,s,r){const i=t+"-"+s;let o=this._triggerCache[i];if(!o){const t=[],e=Ip(this._driver,r,t);if(t.length)throw new Error(`The animation trigger "${s}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new tf(t,e)}(s,e),this._triggerCache[i]=o}this._transitionEngine.registerTrigger(e,s,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,s){this._transitionEngine.insertNode(t,e,n,s)}onRemove(t,e,n,s){this._transitionEngine.removeNode(t,e,s||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,s){if("@"==n.charAt(0)){const[t,r]=$d(n);this._timelineEngine.command(t,e,r,s)}else this._transitionEngine.trigger(t,e,n,s)}listen(t,e,n,s,r){if("@"==n.charAt(0)){const[t,s]=$d(n);return this._timelineEngine.listen(t,e,s,r)}return this._transitionEngine.listen(t,e,n,s,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Sf(t,e){let n=null,s=null;return Array.isArray(e)&&e.length?(n=Af(e[0]),e.length>1&&(s=Af(e[e.length-1]))):e&&(n=Af(e)),n||s?new Cf(t,n,s):null}let Cf=(()=>{class t{constructor(e,n,s){this._element=e,this._startStyles=n,this._endStyles=s,this._state=0;let r=t.initialStylesByElement.get(e);r||t.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&dp(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(dp(this._element,this._initialStyles),this._endStyles&&(dp(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(pp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(pp(this._element,this._endStyles),this._endStyles=null),dp(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Af(t){let e=null;const n=Object.keys(t);for(let s=0;s<n.length;s++){const r=n[s];xf(r)&&(e=e||{},e[r]=t[r])}return e}function xf(t){return"display"===t||"position"===t}class Ef{constructor(t,e,n,s,r,i,o){this._element=t,this._name=e,this._duration=n,this._delay=s,this._easing=r,this._fillMode=i,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Mf(t,"").trim();n.length&&(function(t,e){let n=0;for(let s=0;s<t.length;s++)","===t.charAt(s)&&n++}(n),e=`${n}, ${e}`),Pf(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),If(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Of(this._element,this._name,"paused")}resume(){Of(this._element,this._name,"running")}setPosition(t){const e=Tf(this._element,this._name);this._position=t*this._duration,Pf(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),If(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Mf(t,"").split(","),s=kf(n,e);s>=0&&(n.splice(s,1),Pf(t,"",n.join(",")))}(this._element,this._name))}}function Of(t,e,n){Pf(t,"PlayState",n,Tf(t,e))}function Tf(t,e){const n=Mf(t,"");return n.indexOf(",")>0?kf(n.split(","),e):kf([n],e)}function kf(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function If(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function Pf(t,e,n,s){const r="animation"+e;if(null!=s){const e=t.style[r];if(e.length){const t=e.split(",");t[s]=n,n=t.join(",")}}t.style[r]=n}function Mf(t,e){return t.style["animation"+e]}class Df{constructor(t,e,n,s,r,i,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=s,this._delay=r,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=i||"linear",this.totalTime=s+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Ef(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:Ap(this.element,n))})}this.currentSnapshot=t}}class Rf extends Nd{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=np(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class jf{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return Zd(t)}matchesElement(t,e){return Kd(t,e)}containsElement(t,e){return tp(t,e)}query(t,e,n){return ep(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>np(t));let s=`@keyframes ${e} {\n`,r="";n.forEach(t=>{r=" ";const e=parseFloat(t.offset);s+=`${r}${100*e}% {\n`,r+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(s+=`${r}animation-timing-function: ${n};\n`));default:return void(s+=`${r}${e}: ${n};\n`)}}),s+=r+"}\n"}),s+="}\n";const i=document.createElement("style");return i.innerHTML=s,i}animate(t,e,n,s,r,i=[],o){o&&this._notifyFaultyScrubber();const a=i.filter(t=>t instanceof Df),c={};_p(n,s)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const l=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Sp(t,e,c));if(0==n)return new Rf(t,l);const u="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,u,e);document.querySelector("head").appendChild(h);const d=Sf(t,e),p=new Df(t,e,u,n,s,r,l,d);return p.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),p}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class Nf{constructor(t,e,n,s){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Ap(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Lf{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Ff().toString()),this._cssKeyframesDriver=new jf}validateStyleProperty(t){return Zd(t)}matchesElement(t,e){return Kd(t,e)}containsElement(t,e){return tp(t,e)}query(t,e,n){return ep(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,s,r,i=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,s,r,i);const a={duration:n,delay:s,fill:0==s?"both":"forwards"};r&&(a.easing=r);const c={},l=i.filter(t=>t instanceof Nf);_p(n,s)&&l.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const u=Sf(t,e=Sp(t,e=e.map(t=>lp(t,!1)),c));return new Nf(t,e,a,u)}}function Ff(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let Vf=(()=>{class t extends Td{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:ce.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Pd(t):t;return Bf(this._renderer,null,e,"register",[n]),new qf(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(Wt(ya),Wt(Tl))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class qf extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Uf(this._id,t,e||{},this._renderer)}}class Uf{constructor(t,e,n,s){this.id=t,this.element=e,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Bf(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function Bf(t,e,n,s,r){return t.setProperty(e,`@@${n}:${s}`,r)}let zf=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Hf("",n,this.engine),this._rendererCache.set(n,t)),t}const s=e.id,r=e.id+"-"+this._currentId;this._currentId++,this.engine.register(r,t);const i=e=>{Array.isArray(e)?e.forEach(i):this.engine.registerTrigger(s,r,t,e.name,e)};return e.data.animation.forEach(i),new $f(this,r,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(Wt(ya),Wt(_f),Wt(Xc))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class Hf{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,s){this.delegate.setAttribute(t,e,n,s)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,s){this.delegate.setStyle(t,e,n,s)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class $f extends Hf{constructor(t,e,n,s){super(e,n,s),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const s=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let r=e.substr(1),i="";return"@"!=r.charAt(0)&&([r,i]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(r)),this.engine.listen(this.namespaceId,s,r,i,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let Gf=(()=>{class t extends _f{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(Wt(Tl),Wt(rp),Wt(Qp))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Qf=[{provide:rp,useFactory:function(){return"function"==typeof Ff()?new Lf:new jf}},{provide:new Ft("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:Td,useClass:Vf},{provide:Qp,useFactory:function(){return new Wp}},{provide:_f,useClass:Gf},{provide:ya,useFactory:function(t,e,n){return new zf(t,e,n)},deps:[md,_f,Xc]}];let Wf=(()=>{class t{}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},providers:Qf,imports:[Od]}),t})();function Yf(t,e,n,s){return new(n||(n=Promise))((function(r,i){function o(t){try{c(s.next(t))}catch(e){i(e)}}function a(t){try{c(s.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}c((s=s.apply(t,e||[])).next())}))}var Jf=n("sL7M");class Xf extends C{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new w;return this._value}next(t){super.next(this._value=t)}}const Zf={};function Kf(...t){let e=null,n=null;return x(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&c(t[0])&&(t=t[0]),$(t,n).lift(new tm(e))}class tm{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new em(t,this.resultSelector))}}class em extends R{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Zf),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(D(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,s,r){const i=this.values,o=this.toRespond?i[n]===Zf?--this.toRespond:this.toRespond:0;i[n]=e,0===o&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function nm(...t){let e=t[t.length-1];return x(e)?(t.pop(),F(t,e)):$(t)}const sm=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function rm(t,e){return function(n){return n.lift(new im(t,e))}}class im{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new om(t,this.predicate,this.thisArg))}}class om extends f{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const am=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})(),cm=new v(t=>t.complete());function lm(t){return t?function(t){return new v(e=>t.schedule(()=>e.complete()))}(t):cm}function um(t){return e=>0===t?lm():e.lift(new hm(t))}class hm{constructor(t){if(this.total=t,this.total<0)throw new am}call(t,e){return e.subscribe(new dm(t,this.total))}}class dm extends f{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function pm(t=null){return e=>e.lift(new fm(t))}class fm{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new mm(t,this.defaultValue))}}class mm extends f{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function gm(t=bm){return e=>e.lift(new ym(t))}class ym{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new vm(t,this.errorFactory))}}class vm extends f{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function bm(){return new sm}function wm(t,e){const n=arguments.length>=2;return s=>s.pipe(t?rm((e,n)=>t(e,n,s)):z,um(1),n?pm(e):gm(()=>new sm))}class _m extends h{constructor(t,e){super()}schedule(t,e=0){return this}}class Sm extends _m{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,s=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(s,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,s=void 0;try{this.work(t)}catch(r){n=!0,s=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),s}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,s=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==s&&n.splice(s,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let Cm=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class Am extends Cm{constructor(t,e=Cm.now){super(t,()=>Am.delegate&&Am.delegate!==this?Am.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return Am.delegate&&Am.delegate!==this?Am.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const xm=new Am(Sm);function Em(t,e=xm){return n=>n.lift(new Om(t,e))}class Om{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new Tm(t,this.dueTime,this.scheduler))}}class Tm extends f{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(km,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function km(t){t.debouncedNext()}function Im(t){return e=>e.lift(new Pm(t))}class Pm{constructor(t){this.notifier=t}call(t,e){const n=new Mm(t),s=D(n,this.notifier);return s&&!n.seenValue?(n.add(s),e.subscribe(n)):n}}class Mm extends R{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,s,r){this.seenValue=!0,this.complete()}notifyComplete(){}}function Dm(t){return t instanceof Date&&!isNaN(+t)}function Rm(t,e){return new v(e?n=>e.schedule(jm,0,{error:t,subscriber:n}):e=>e.error(t))}function jm({error:t,subscriber:e}){e.error(t)}let Nm=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return nm(this.value);case"E":return Rm(this.error);case"C":return lm()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();class Lm{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new Fm(t,this.delay,this.scheduler))}}class Fm extends f{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,s=t.scheduler,r=t.destination;for(;n.length>0&&n[0].time-s.now()<=0;)n.shift().notification.observe(r);if(n.length>0){const e=Math.max(0,n[0].time-s.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(Fm.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new Vm(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(Nm.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(Nm.createComplete()),this.unsubscribe()}}class Vm{constructor(t,e){this.time=t,this.notification=e}}function qm(t,e){return n=>n.lift(new Um(t,e))}class Um{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Bm(t,this.compare,this.keySelector))}}class Bm extends f{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(s){return this.destination.error(s)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(s){return this.destination.error(s)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}const zm=(()=>{function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t})();class Hm{constructor(t,e,n,s){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=n,this.scheduler=s}call(t,e){return e.subscribe(new $m(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class $m extends R{constructor(t,e,n,s,r){super(t),this.absoluteTimeout=e,this.waitFor=n,this.withObservable=s,this.scheduler=r,this.action=null,this.scheduleTimeout()}static dispatchTimeout(t){const{withObservable:e}=t;t._unsubscribeAndRecycle(),t.add(D(t,e))}scheduleTimeout(){const{action:t}=this;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule($m.dispatchTimeout,this.waitFor,this))}_next(t){this.absoluteTimeout||this.scheduleTimeout(),super._next(t)}_unsubscribe(){this.action=null,this.scheduler=null,this.withObservable=null}}function Gm(t){return function(e){const n=new Qm(t),s=e.lift(n);return n.caught=s}}class Qm{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Wm(t,this.selector,this.caught))}}class Wm extends R{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const s=new E(this,void 0,void 0);this.add(s);const r=D(this,n,void 0,void 0,s);r!==s&&this.add(r)}}}function Ym(t,e){return q(t,e,1)}class Jm{}class Xm{}class Zm{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),s=n.toLowerCase(),r=t.slice(e+1).trim();this.maybeSetNormalizedName(n,s),this.headers.has(s)?this.headers.get(s).push(r):this.headers.set(s,[r])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const s=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(s,n),this.maybeSetNormalizedName(e,s))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Zm?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Zm;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Zm?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const s=("a"===t.op?this.headers.get(e):void 0)||[];s.push(...n),this.headers.set(e,s);break;case"d":const r=t.value;if(r){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===r.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Km{encodeKey(t){return tg(t)}encodeValue(t){return tg(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function tg(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class eg{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Km,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const s=t.indexOf("="),[r,i]=-1==s?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,s)),e.decodeValue(t.slice(s+1))],o=n.get(r)||[];o.push(i),n.set(r,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new eg({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function ng(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function sg(t){return"undefined"!=typeof Blob&&t instanceof Blob}function rg(t){return"undefined"!=typeof FormData&&t instanceof FormData}class ig{constructor(t,e,n,s){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==n?n:null,r=s):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new Zm),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new eg,this.urlWithParams=e}serializeBody(){return null===this.body?null:ng(this.body)||sg(this.body)||rg(this.body)||"string"==typeof this.body?this.body:this.body instanceof eg?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||rg(this.body)?null:sg(this.body)?this.body.type||null:ng(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof eg?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,s=t.responseType||this.responseType,r=void 0!==t.body?t.body:this.body,i=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new ig(e,n,r,{params:c,headers:a,reportProgress:o,responseType:s,withCredentials:i})}}var og=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class ag{constructor(t,e=200,n="OK"){this.headers=t.headers||new Zm,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class cg extends ag{constructor(t={}){super(t),this.type=og.ResponseHeader}clone(t={}){return new cg({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class lg extends ag{constructor(t={}){super(t),this.type=og.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new lg({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ug extends ag{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function hg(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let dg=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let s;if(t instanceof ig)s=t;else{let r=void 0;r=n.headers instanceof Zm?n.headers:new Zm(n.headers);let i=void 0;n.params&&(i=n.params instanceof eg?n.params:new eg({fromObject:n.params})),s=new ig(t,e,void 0!==n.body?n.body:null,{headers:r,params:i,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const r=nm(s).pipe(Ym(t=>this.handler.handle(t)));if(t instanceof ig||"events"===n.observe)return r;const i=r.pipe(rm(t=>t instanceof lg));switch(n.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return i.pipe(j(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return i.pipe(j(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return i.pipe(j(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return i.pipe(j(t=>t.body))}case"response":return i;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new eg).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,hg(n,e))}post(t,e,n={}){return this.request("POST",t,hg(n,e))}put(t,e,n={}){return this.request("PUT",t,hg(n,e))}}return t.\u0275fac=function(e){return new(e||t)(Wt(Jm))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class pg{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const fg=new Ft("HTTP_INTERCEPTORS");let mg=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const gg=/^\)\]\}',?\n/;class yg{}let vg=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),bg=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new v(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const s=t.serializeBody();let r=null;const i=()=>{if(null!==r)return r;const e=1223===n.status?204:n.status,s=n.statusText||"OK",i=new Zm(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return r=new cg({headers:i,status:e,statusText:s,url:o}),r},o=()=>{let{headers:s,status:r,statusText:o,url:a}=i(),c=null;204!==r&&(c=void 0===n.response?n.responseText:n.response),0===r&&(r=c?200:0);let l=r>=200&&r<300;if("json"===t.responseType&&"string"==typeof c){const t=c;c=c.replace(gg,"");try{c=""!==c?JSON.parse(c):null}catch(u){c=t,l&&(l=!1,c={error:u,text:c})}}l?(e.next(new lg({body:c,headers:s,status:r,statusText:o,url:a||void 0})),e.complete()):e.error(new ug({error:c,headers:s,status:r,statusText:o,url:a||void 0}))},a=t=>{const{url:s}=i(),r=new ug({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:s||void 0});e.error(r)};let c=!1;const l=s=>{c||(e.next(i()),c=!0);let r={type:og.DownloadProgress,loaded:s.loaded};s.lengthComputable&&(r.total=s.total),"text"===t.responseType&&n.responseText&&(r.partialText=n.responseText),e.next(r)},u=t=>{let n={type:og.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",l),null!==s&&n.upload&&n.upload.addEventListener("progress",u)),n.send(s),e.next({type:og.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),t.reportProgress&&(n.removeEventListener("progress",l),null!==s&&n.upload&&n.upload.removeEventListener("progress",u)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(Wt(yg))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const wg=new Ft("XSRF_COOKIE_NAME"),_g=new Ft("XSRF_HEADER_NAME");class Sg{}let Cg,Ag=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=_u(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(Wt(Tl),Wt(Nc),Wt(wg))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),xg=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const s=this.tokenService.getToken();return null===s||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,s)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(Wt(Sg),Wt(_g))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Eg=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(fg,[]);this.chain=t.reduceRight((t,e)=>new pg(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(Wt(Xm),Wt(so))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Og=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:xg,useClass:mg}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:wg,useValue:e.cookieName}:[],e.headerName?{provide:_g,useValue:e.headerName}:[]]}}}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},providers:[xg,{provide:fg,useExisting:xg,multi:!0},{provide:Sg,useClass:Ag},{provide:wg,useValue:"XSRF-TOKEN"},{provide:_g,useValue:"X-XSRF-TOKEN"}]}),t})(),Tg=(()=>{class t{}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},providers:[dg,{provide:Jm,useClass:Eg},bg,{provide:Xm,useExisting:bg},vg,{provide:yg,useExisting:vg}],imports:[[Og.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();try{Cg="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(NS){Cg=!1}let kg=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Cg)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(Wt(Nc))},t.\u0275prov=ut({factory:function(){return new t(Wt(Nc))},token:t,providedIn:"root"}),t})(),Ig=(()=>{class t{}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)}}),t})();function Pg(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}class Mg{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Dg(t,this.durationSelector))}}class Dg extends R{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const s=D(this,n);!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,s){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function Rg(t){return!c(t)&&t-parseFloat(t)+1>=0}function jg(t){const{index:e,period:n,subscriber:s}=t;if(s.next(e),!s.closed){if(-1===n)return s.complete();t.index=e+1,this.schedule(t,n)}}let Ng=(()=>{class t{constructor(t,e,n,s){this._elementRef=t,this._platform=e,this._ngZone=n,this._destroyed=new C,this._enabled=!0,this._previousMinRows=-1,this._document=s,this._textareaElement=this._elementRef.nativeElement,this._measuringClass=e.FIREFOX?"cdk-textarea-autosize-measuring-firefox":"cdk-textarea-autosize-measuring"}get minRows(){return this._minRows}set minRows(t){this._minRows=Pg(t),this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(t){this._maxRows=Pg(t),this._setMaxHeight()}get enabled(){return this._enabled}set enabled(t){t=function(t){return null!=t&&""+t!="false"}(t),this._enabled!==t&&((this._enabled=t)?this.resizeToFitContent(!0):this.reset())}_setMinHeight(){const t=this.minRows&&this._cachedLineHeight?this.minRows*this._cachedLineHeight+"px":null;t&&(this._textareaElement.style.minHeight=t)}_setMaxHeight(){const t=this.maxRows&&this._cachedLineHeight?this.maxRows*this._cachedLineHeight+"px":null;t&&(this._textareaElement.style.maxHeight=t)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{(function t(e,n,r,i){return s(r)&&(i=r,r=void 0),i?t(e,n,r).pipe(j(t=>c(t)?i(...t):i(t))):new v(t=>{!function t(e,n,s,r,i){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,s,i),o=()=>t.removeEventListener(n,s,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,s),o=()=>t.off(n,s)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,s),o=()=>t.removeListener(n,s)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let o=0,a=e.length;o<a;o++)t(e[o],n,s,r,i)}r.add(o)}(e,n,(function(e){t.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),t,r)})})(this._getWindow(),"resize").pipe(function(t,e=xm){return n=()=>function(t=0,e,n){let s=-1;return Rg(e)?s=Number(e)<1?1:Number(e):x(e)&&(n=e),x(n)||(n=xm),new v(e=>{const r=Rg(t)?t:+t-n.now();return n.schedule(jg,r,{index:0,period:s,subscriber:e})})}(t,e),function(t){return t.lift(new Mg(n))};var n}(16),Im(this._destroyed)).subscribe(()=>this.resizeToFitContent(!0))}))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let t=this._textareaElement.cloneNode(!1);t.rows=1,t.style.position="absolute",t.style.visibility="hidden",t.style.border="none",t.style.padding="0",t.style.height="",t.style.minHeight="",t.style.maxHeight="",t.style.overflow="hidden",this._textareaElement.parentNode.appendChild(t),this._cachedLineHeight=t.clientHeight,this._textareaElement.parentNode.removeChild(t),this._setMinHeight(),this._setMaxHeight()}ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(t=!1){if(!this._enabled)return;if(this._cacheTextareaLineHeight(),!this._cachedLineHeight)return;const e=this._elementRef.nativeElement,n=e.value;if(!t&&this._minRows===this._previousMinRows&&n===this._previousValue)return;const s=e.placeholder;e.classList.add(this._measuringClass),e.placeholder="",e.style.height=e.scrollHeight-4+"px",e.classList.remove(this._measuringClass),e.placeholder=s,this._ngZone.runOutsideAngular(()=>{"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(()=>this._scrollToCaretPosition(e)):setTimeout(()=>this._scrollToCaretPosition(e))}),this._previousValue=n,this._previousMinRows=this._minRows}reset(){void 0!==this._initialHeight&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollToCaretPosition(t){const{selectionStart:e,selectionEnd:n}=t,s=this._getDocument();this._destroyed.isStopped||s.activeElement!==t||t.setSelectionRange(e,n)}}return t.\u0275fac=function(e){return new(e||t)(bo(ma),bo(kg),bo(Xc),bo(Tl,8))},t.\u0275dir=ve({type:t,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(t,e){1&t&&Io("input",(function(){return e._noopInputHandler()}))},inputs:{minRows:["cdkAutosizeMinRows","minRows"],maxRows:["cdkAutosizeMaxRows","maxRows"],enabled:["cdkTextareaAutosize","enabled"]},exportAs:["cdkTextareaAutosize"]}),t})(),Lg=(()=>{class t{}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},imports:[[Ig]]}),t})();function Fg(t){return new v(e=>{let n;try{n=t()}catch(s){return void e.error(s)}return(n?V(n):lm()).subscribe(e)})}function Vg(){return H(1)}function qg(t){return function(e){return 0===t?lm():e.lift(new Ug(t))}}class Ug{constructor(t){if(this.total=t,this.total<0)throw new am}call(t,e){return e.subscribe(new Bg(t,this.total))}}class Bg extends f{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,s=this.count++;e.length<n?e.push(t):e[s%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,s=this.ring;for(let r=0;r<n;r++){const r=e++%n;t.next(s[r])}}t.complete()}}function zg(t,e,n){return function(s){return s.lift(new Hg(t,e,n))}}class Hg{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new $g(t,this.nextOrObserver,this.error,this.complete))}}class $g extends f{constructor(t,e,n,r){super(t),this._tapNext=y,this._tapError=y,this._tapComplete=y,this._tapError=n||y,this._tapComplete=r||y,s(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||y,this._tapError=e.error||y,this._tapComplete=e.complete||y)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class Gg{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new Qg(t,this.predicate,this.thisArg,this.source))}}class Qg extends f{constructor(t,e,n,s){super(t),this.predicate=e,this.thisArg=n,this.source=s,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Wg(t,e){return"function"==typeof e?n=>n.pipe(Wg((n,s)=>V(t(n,s)).pipe(j((t,r)=>e(n,t,s,r))))):e=>e.lift(new Yg(t))}class Yg{constructor(t){this.project=t}call(t,e){return e.subscribe(new Jg(t,this.project))}}class Jg extends R{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(s){return void this.destination.error(s)}this._innerSub(e,t,n)}_innerSub(t,e,n){const s=this.innerSubscription;s&&s.unsubscribe();const r=new E(this,e,n),i=this.destination;i.add(r),this.innerSubscription=D(this,t,void 0,void 0,r),this.innerSubscription!==r&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,s,r){this.destination.next(e)}}function Xg(...t){return Vg()(nm(...t))}class Zg{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Kg(t,this.accumulator,this.seed,this.hasSeed))}}class Kg extends f{constructor(t,e,n,s){super(t),this.accumulator=e,this._seed=n,this.hasSeed=s,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(s){this.destination.error(s)}this.seed=n,this.destination.next(n)}}class ty{constructor(t){this.callback=t}call(t,e){return e.subscribe(new ey(t,this.callback))}}class ey extends f{constructor(t,e){super(t),this.add(new h(e))}}class ny{constructor(t,e){this.id=t,this.url=e}}class sy extends ny{constructor(t,e,n="imperative",s=null){super(t,e),this.navigationTrigger=n,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ry extends ny{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class iy extends ny{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class oy extends ny{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ay extends ny{constructor(t,e,n,s){super(t,e),this.urlAfterRedirects=n,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cy extends ny{constructor(t,e,n,s){super(t,e),this.urlAfterRedirects=n,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ly extends ny{constructor(t,e,n,s,r){super(t,e),this.urlAfterRedirects=n,this.state=s,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class uy extends ny{constructor(t,e,n,s){super(t,e),this.urlAfterRedirects=n,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hy extends ny{constructor(t,e,n,s){super(t,e),this.urlAfterRedirects=n,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dy{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class py{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fy{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class my{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gy{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yy{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vy{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class by{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function wy(t){return new by(t)}function _y(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Sy(t,e,n){const s=n.path.split("/");if(s.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||s.length<t.length))return null;const r={};for(let i=0;i<s.length;i++){const e=s[i],n=t[i];if(e.startsWith(":"))r[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,s.length),posParams:r}}function Cy(t,e){const n=Object.keys(t),s=Object.keys(e);if(!n||!s||n.length!=s.length)return!1;let r;for(let i=0;i<n.length;i++)if(r=n[i],!Ay(t[r],e[r]))return!1;return!0}function Ay(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function xy(t){return Array.prototype.concat.apply([],t)}function Ey(t){return t.length>0?t[t.length-1]:null}function Oy(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Ty(t){return ko(t)?t:To(t)?V(Promise.resolve(t)):nm(t)}function ky(t,e,n){return n?function(t,e){return Cy(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Dy(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const s in n.children){if(!e.children[s])return!1;if(!t(e.children[s],n.children[s]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Ay(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,s,r){if(n.segments.length>r.length)return!!Dy(n.segments.slice(0,r.length),r)&&!s.hasChildren();if(n.segments.length===r.length){if(!Dy(n.segments,r))return!1;for(const e in s.children){if(!n.children[e])return!1;if(!t(n.children[e],s.children[e]))return!1}return!0}{const t=r.slice(0,n.segments.length),i=r.slice(n.segments.length);return!!Dy(n.segments,t)&&!!n.children.primary&&e(n.children.primary,s,i)}}(e,n,n.segments)}(t.root,e.root)}class Iy{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wy(this.queryParams)),this._queryParamMap}toString(){return Ly.serialize(this)}}class Py{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Oy(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fy(this)}}class My{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=wy(this.parameters)),this._parameterMap}toString(){return Hy(this)}}function Dy(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Ry(t,e){let n=[];return Oy(t.children,(t,s)=>{"primary"===s&&(n=n.concat(e(t,s)))}),Oy(t.children,(t,s)=>{"primary"!==s&&(n=n.concat(e(t,s)))}),n}class jy{}class Ny{parse(t){const e=new Yy(t);return new Iy(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return Fy(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",s=[];return Oy(e.children,(e,n)=>{"primary"!==n&&s.push(`${n}:${t(e,!1)}`)}),s.length>0?`${n}(${s.join("//")})`:n}{const n=Ry(e,(n,s)=>"primary"===s?[t(e.children.primary,!1)]:[`${s}:${t(n,!1)}`]);return`${Fy(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${qy(e)}=${qy(t)}`).join("&"):`${qy(e)}=${qy(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const Ly=new Ny;function Fy(t){return t.segments.map(t=>Hy(t)).join("/")}function Vy(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qy(t){return Vy(t).replace(/%3B/gi,";")}function Uy(t){return Vy(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function By(t){return decodeURIComponent(t)}function zy(t){return By(t.replace(/\+/g,"%20"))}function Hy(t){return`${Uy(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Uy(t)}=${Uy(e[t])}`).join("")}`;var e}const $y=/^[^\/()?;=#]+/;function Gy(t){const e=t.match($y);return e?e[0]:""}const Qy=/^[^=?&#]+/,Wy=/^[^?&#]+/;class Yy{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Py([],{}):new Py([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Py(t,e)),n}parseSegment(){const t=Gy(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new My(By(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Gy(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Gy(this.remaining);t&&(n=t,this.capture(n))}t[By(e)]=By(n)}parseQueryParam(t){const e=function(t){const e=t.match(Qy);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Wy);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const s=zy(e),r=zy(n);if(t.hasOwnProperty(s)){let e=t[s];Array.isArray(e)||(e=[e],t[s]=e),e.push(r)}else t[s]=r}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Gy(this.remaining),s=this.remaining[n.length];if("/"!==s&&")"!==s&&";"!==s)throw new Error(`Cannot parse url '${this.url}'`);let r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r="primary");const i=this.parseChildren();e[r]=1===Object.keys(i).length?i.primary:new Py([],i),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Jy{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Xy(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Xy(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Zy(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Zy(t,this._root).map(t=>t.value)}}function Xy(t,e){if(t===e.value)return e;for(const n of e.children){const e=Xy(t,n);if(e)return e}return null}function Zy(t,e){if(t===e.value)return[e];for(const n of e.children){const s=Zy(t,n);if(s.length)return s.unshift(e),s}return[]}class Ky{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function tv(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class ev extends Jy{constructor(t,e){super(t),this.snapshot=e,av(this,t)}toString(){return this.snapshot.toString()}}function nv(t,e){const n=function(t,e){const n=new iv([],{},{},"",{},"primary",e,null,t.root,-1,{});return new ov("",new Ky(n,[]))}(t,e),s=new Xf([new My("",{})]),r=new Xf({}),i=new Xf({}),o=new Xf({}),a=new Xf(""),c=new sv(s,r,o,a,i,"primary",e,n.root);return c.snapshot=n.root,new ev(new Ky(c,[]),n)}class sv{constructor(t,e,n,s,r,i,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=s,this.data=r,this.outlet=i,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(j(t=>wy(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(j(t=>wy(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function rv(t,e="emptyOnly"){const n=t.pathFromRoot;let s=0;if("always"!==e)for(s=n.length-1;s>=1;){const t=n[s],e=n[s-1];if(t.routeConfig&&""===t.routeConfig.path)s--;else{if(e.component)break;s--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(s))}class iv{constructor(t,e,n,s,r,i,o,a,c,l,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=s,this.data=r,this.outlet=i,this.component=o,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=wy(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wy(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ov extends Jy{constructor(t,e){super(e),this.url=t,av(this,e)}toString(){return cv(this._root)}}function av(t,e){e.value._routerState=t,e.children.forEach(e=>av(t,e))}function cv(t){const e=t.children.length>0?` { ${t.children.map(cv).join(", ")} } `:"";return`${t.value}${e}`}function lv(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Cy(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Cy(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Cy(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Cy(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function uv(t,e){var n,s;return Cy(t.params,e.params)&&Dy(n=t.url,s=e.url)&&n.every((t,e)=>Cy(t.parameters,s[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||uv(t.parent,e.parent))}function hv(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function dv(t,e,n,s,r){let i={};return s&&Oy(s,(t,e)=>{i[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Iy(n.root===t?e:function t(e,n,s){const r={};return Oy(e.children,(e,i)=>{r[i]=e===n?s:t(e,n,s)}),new Py(e.segments,r)}(n.root,t,e),i,r)}class pv{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&hv(n[0]))throw new Error("Root segment cannot have matrix parameters");const s=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(s&&s!==Ey(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fv{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function mv(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function gv(t,e,n){if(t||(t=new Py([],{})),0===t.segments.length&&t.hasChildren())return yv(t,e,n);const s=function(t,e,n){let s=0,r=e;const i={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(s>=n.length)return i;const e=t.segments[r],o=mv(n[s]),a=s<n.length-1?n[s+1]:null;if(r>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!_v(o,a,e))return i;s+=2}else{if(!_v(o,{},e))return i;s++}r++}return{match:!0,pathIndex:r,commandIndex:s}}(t,e,n),r=n.slice(s.commandIndex);if(s.match&&s.pathIndex<t.segments.length){const e=new Py(t.segments.slice(0,s.pathIndex),{});return e.children.primary=new Py(t.segments.slice(s.pathIndex),t.children),yv(e,0,r)}return s.match&&0===r.length?new Py(t.segments,{}):s.match&&!t.hasChildren()?vv(t,e,n):s.match?yv(t,0,r):vv(t,e,n)}function yv(t,e,n){if(0===n.length)return new Py(t.segments,{});{const s=function(t){return"object"==typeof t[0]&&null!==t[0]&&t[0].outlets?t[0].outlets:{primary:t}}(n),r={};return Oy(s,(n,s)=>{null!==n&&(r[s]=gv(t.children[s],e,n))}),Oy(t.children,(t,e)=>{void 0===s[e]&&(r[e]=t)}),new Py(t.segments,r)}}function vv(t,e,n){const s=t.segments.slice(0,e);let r=0;for(;r<n.length;){if("object"==typeof n[r]&&null!==n[r]&&void 0!==n[r].outlets){const t=bv(n[r].outlets);return new Py(s,t)}if(0===r&&hv(n[0])){s.push(new My(t.segments[e].path,n[0])),r++;continue}const i=mv(n[r]),o=r<n.length-1?n[r+1]:null;i&&o&&hv(o)?(s.push(new My(i,wv(o))),r+=2):(s.push(new My(i,{})),r++)}return new Py(s,{})}function bv(t){const e={};return Oy(t,(t,n)=>{null!==t&&(e[n]=vv(new Py([],{}),0,t))}),e}function wv(t){const e={};return Oy(t,(t,n)=>e[n]=""+t),e}function _v(t,e,n){return t==n.path&&Cy(e,n.parameters)}class Sv{constructor(t,e,n,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=s}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),lv(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const s=tv(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,s[e],n),delete s[e]}),Oy(s,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const s=t.value,r=e?e.value:null;if(s===r)if(s.component){const r=n.getContext(s.outlet);r&&this.deactivateChildRoutes(t,e,r.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),s=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:s})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const s=tv(t),r=t.value.component?n.children:e;Oy(s,(t,e)=>this.deactivateRouteAndItsChildren(t,r)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const s=tv(e);t.children.forEach(t=>{this.activateRoutes(t,s[t.value.outlet],n),this.forwardEvent(new yy(t.value.snapshot))}),t.children.length&&this.forwardEvent(new my(t.value.snapshot))}activateRoutes(t,e,n){const s=t.value,r=e?e.value:null;if(lv(s),s===r)if(s.component){const r=n.getOrCreateContext(s.outlet);this.activateChildRoutes(t,e,r.children)}else this.activateChildRoutes(t,e,n);else if(s.component){const e=n.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const t=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Cv(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(s.snapshot),r=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=s,e.resolver=r,e.outlet&&e.outlet.activateWith(s,r),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Cv(t){lv(t.value),t.children.forEach(Cv)}class Av{constructor(t,e){this.routes=t,this.module=e}}function xv(t){return"function"==typeof t}function Ev(t){return t instanceof Iy}class Ov{constructor(t){this.segmentGroup=t||null}}class Tv{constructor(t){this.urlTree=t}}function kv(t){return new v(e=>e.error(new Ov(t)))}function Iv(t){return new v(e=>e.error(new Tv(t)))}function Pv(t){return new v(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Mv{constructor(t,e,n,s,r){this.configLoader=e,this.urlSerializer=n,this.urlTree=s,this.config=r,this.allowRedirects=!0,this.ngModule=t.get(Zt)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(j(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Gm(t=>{if(t instanceof Tv)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Ov)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(j(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Gm(t=>{if(t instanceof Ov)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const s=t.segments.length>0?new Py([],{primary:t}):t;return new Iy(s,e,n)}expandSegmentGroup(t,e,n,s){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(j(t=>new Py([],t))):this.expandSegment(t,n,e,n.segments,s,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return nm({});const n=[],s=[],r={};return Oy(t,(t,i)=>{const o=e(i,t).pipe(j(t=>r[i]=t));"primary"===i?n.push(o):s.push(o)}),nm.apply(null,n.concat(s)).pipe(Vg(),function(t,e){const n=arguments.length>=2;return s=>s.pipe(t?rm((e,n)=>t(e,n,s)):z,qg(1),n?pm(e):gm(()=>new sm))}(),j(()=>r))}(n.children,(n,s)=>this.expandSegmentGroup(t,e,s,n))}expandSegment(t,e,n,s,r,i){return nm(...n).pipe(j(o=>this.expandSegmentAgainstRoute(t,e,n,o,s,r,i).pipe(Gm(t=>{if(t instanceof Ov)return nm(null);throw t}))),Vg(),wm(t=>!!t),Gm((t,n)=>{if(t instanceof sm||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,s,r))return nm(new Py([],{}));throw new Ov(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,s,r,i,o){return Nv(s)!==i?kv(e):void 0===s.redirectTo?this.matchSegmentAgainstRoute(t,e,s,r):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,s,r,i):kv(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,s,r,i){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,s,i):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,s,r,i)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,s){const r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Iv(r):this.lineralizeSegments(n,r).pipe(q(n=>{const r=new Py(n,{});return this.expandSegment(t,r,e,n,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,s,r,i){const{matched:o,consumedSegments:a,lastChild:c,positionalParamSegments:l}=Dv(e,s,r);if(!o)return kv(e);const u=this.applyRedirectCommands(a,s.redirectTo,l);return s.redirectTo.startsWith("/")?Iv(u):this.lineralizeSegments(s,u).pipe(q(s=>this.expandSegment(t,e,n,s.concat(r.slice(c)),i,!1)))}matchSegmentAgainstRoute(t,e,n,s){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(j(t=>(n._loadedConfig=t,new Py(s,{})))):nm(new Py(s,{}));const{matched:r,consumedSegments:i,lastChild:o}=Dv(e,n,s);if(!r)return kv(e);const a=s.slice(o);return this.getChildConfig(t,n,s).pipe(q(t=>{const n=t.module,s=t.routes,{segmentGroup:r,slicedSegments:o}=function(t,e,n,s){return n.length>0&&function(t,e,n){return n.some(n=>jv(t,e,n)&&"primary"!==Nv(n))}(t,n,s)?{segmentGroup:Rv(new Py(e,function(t,e){const n={};n.primary=e;for(const s of t)""===s.path&&"primary"!==Nv(s)&&(n[Nv(s)]=new Py([],{}));return n}(s,new Py(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>jv(t,e,n))}(t,n,s)?{segmentGroup:Rv(new Py(t.segments,function(t,e,n,s){const r={};for(const i of n)jv(t,e,i)&&!s[Nv(i)]&&(r[Nv(i)]=new Py([],{}));return Object.assign(Object.assign({},s),r)}(t,n,s,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,i,a,s);return 0===o.length&&r.hasChildren()?this.expandChildren(n,s,r).pipe(j(t=>new Py(i,t))):0===s.length&&0===o.length?nm(new Py(i,{})):this.expandSegment(n,r,s,o,"primary",!0).pipe(j(t=>new Py(i.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?nm(new Av(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?nm(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(q(n=>n?this.configLoader.load(t.injector,e).pipe(j(t=>(e._loadedConfig=t,t))):function(t){return new v(e=>e.error(_y(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):nm(new Av([],t))}runCanLoadGuards(t,e,n){const s=e.canLoad;return s&&0!==s.length?V(s).pipe(j(s=>{const r=t.get(s);let i;if(function(t){return t&&xv(t.canLoad)}(r))i=r.canLoad(e,n);else{if(!xv(r))throw new Error("Invalid CanLoad guard");i=r(e,n)}return Ty(i)})).pipe(Vg(),zg(t=>{if(!Ev(t))return;const e=_y(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),(r=t=>!0===t,t=>t.lift(new Gg(r,void 0,t)))):nm(!0);var r}lineralizeSegments(t,e){let n=[],s=e.root;for(;;){if(n=n.concat(s.segments),0===s.numberOfChildren)return nm(n);if(s.numberOfChildren>1||!s.children.primary)return Pv(t.redirectTo);s=s.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,s){const r=this.createSegmentGroup(t,e.root,n,s);return new Iy(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Oy(t,(t,s)=>{if("string"==typeof t&&t.startsWith(":")){const r=t.substring(1);n[s]=e[r]}else n[s]=t}),n}createSegmentGroup(t,e,n,s){const r=this.createSegments(t,e.segments,n,s);let i={};return Oy(e.children,(e,r)=>{i[r]=this.createSegmentGroup(t,e,n,s)}),new Py(r,i)}createSegments(t,e,n,s){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,s):this.findOrReturn(e,n))}findPosParam(t,e,n){const s=n[e.path.substring(1)];if(!s)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return s}findOrReturn(t,e){let n=0;for(const s of e){if(s.path===t.path)return e.splice(n),s;n++}return t}}function Dv(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const s=(e.matcher||Sy)(n,t,e);return s?{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,positionalParamSegments:s.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Rv(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Py(t.segments.concat(e.segments),e.children)}return t}function jv(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Nv(t){return t.outlet||"primary"}class Lv{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Fv{constructor(t,e){this.component=t,this.route=e}}function Vv(t,e,n){const s=t._root;return function t(e,n,s,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=tv(n);return e.children.forEach(e=>{!function(e,n,s,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,a=n?n.value:null,c=s?s.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const l=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Dy(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Dy(t.url,e.url)||!Cy(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!uv(t,e)||!Cy(t.queryParams,e.queryParams);case"paramsChange":default:return!uv(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Lv(r)):(o.data=a.data,o._resolvedData=a._resolvedData),t(e,n,o.component?c?c.children:null:s,r,i),l&&i.canDeactivateChecks.push(new Fv(c&&c.outlet&&c.outlet.component||null,a))}else a&&Uv(n,c,i),i.canActivateChecks.push(new Lv(r)),t(e,null,o.component?c?c.children:null:s,r,i)}(e,o[e.value.outlet],s,r.concat([e.value]),i),delete o[e.value.outlet]}),Oy(o,(t,e)=>Uv(t,s.getContext(e),i)),i}(s,e?e._root:null,n,[s.value])}function qv(t,e,n){const s=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(s?s.module.injector:n).get(t)}function Uv(t,e,n){const s=tv(t),r=t.value;Oy(s,(t,s)=>{Uv(t,r.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new Fv(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}const Bv=Symbol("INITIAL_VALUE");function zv(){return Wg(t=>Kf(...t.map(t=>t.pipe(um(1),function(...t){const e=t[t.length-1];return x(e)?(t.pop(),n=>Xg(t,n,e)):e=>Xg(t,e)}(Bv)))).pipe(function(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(s){return s.lift(new Zg(t,e,n))}}((t,e)=>{let n=!1;return e.reduce((t,s,r)=>{if(t!==Bv)return t;if(s===Bv&&(n=!0),!n){if(!1===s)return s;if(r===e.length-1||Ev(s))return s}return t},t)},Bv),rm(t=>t!==Bv),j(t=>Ev(t)?t:!0===t),um(1)))}function Hv(t,e){return null!==t&&e&&e(new gy(t)),nm(!0)}function $v(t,e){return null!==t&&e&&e(new fy(t)),nm(!0)}function Gv(t,e,n){const s=e.routeConfig?e.routeConfig.canActivate:null;return s&&0!==s.length?nm(s.map(s=>Fg(()=>{const r=qv(s,e,n);let i;if(function(t){return t&&xv(t.canActivate)}(r))i=Ty(r.canActivate(e,t));else{if(!xv(r))throw new Error("Invalid CanActivate guard");i=Ty(r(e,t))}return i.pipe(wm())}))).pipe(zv()):nm(!0)}function Qv(t,e,n){const s=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Fg(()=>nm(e.guards.map(r=>{const i=qv(r,e.node,n);let o;if(function(t){return t&&xv(t.canActivateChild)}(i))o=Ty(i.canActivateChild(s,t));else{if(!xv(i))throw new Error("Invalid CanActivateChild guard");o=Ty(i(s,t))}return o.pipe(wm())})).pipe(zv())));return nm(r).pipe(zv())}class Wv{}class Yv{constructor(t,e,n,s,r,i){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=s,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=i}recognize(){try{const t=Zv(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new iv([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),s=new Ky(n,e),r=new ov(this.url,s);return this.inheritParamsAndData(r._root),nm(r)}catch(t){return new v(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=rv(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Ry(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),s=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${s}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,s){for(const i of t)try{return this.processSegmentAgainstRoute(i,e,n,s)}catch(r){if(!(r instanceof Wv))throw r}if(this.noLeftoversInUrl(e,n,s))return[];throw new Wv}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,s){if(t.redirectTo)throw new Wv;if((t.outlet||"primary")!==s)throw new Wv;let r,i=[],o=[];if("**"===t.path){const i=n.length>0?Ey(n).parameters:{};r=new iv(n,i,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,eb(t),s,t.component,t,Jv(e),Xv(e)+n.length,nb(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Wv;return{consumedSegments:[],lastChild:0,parameters:{}}}const s=(e.matcher||Sy)(n,t,e);if(!s)throw new Wv;const r={};Oy(s.posParams,(t,e)=>{r[e]=t.path});const i=s.consumed.length>0?Object.assign(Object.assign({},r),s.consumed[s.consumed.length-1].parameters):r;return{consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:i}}(e,t,n);i=a.consumedSegments,o=n.slice(a.lastChild),r=new iv(i,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,eb(t),s,t.component,t,Jv(e),Xv(e)+i.length,nb(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:l}=Zv(e,i,o,a,this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const t=this.processChildren(a,c);return[new Ky(r,t)]}if(0===a.length&&0===l.length)return[new Ky(r,[])];const u=this.processSegment(a,c,l,"primary");return[new Ky(r,u)]}}function Jv(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Xv(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Zv(t,e,n,s,r){if(n.length>0&&function(t,e,n){return n.some(n=>Kv(t,e,n)&&"primary"!==tb(n))}(t,n,s)){const r=new Py(e,function(t,e,n,s){const r={};r.primary=s,s._sourceSegment=t,s._segmentIndexShift=e.length;for(const i of n)if(""===i.path&&"primary"!==tb(i)){const n=new Py([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,r[tb(i)]=n}return r}(t,e,s,new Py(n,t.children)));return r._sourceSegment=t,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Kv(t,e,n))}(t,n,s)){const i=new Py(t.segments,function(t,e,n,s,r,i){const o={};for(const a of s)if(Kv(t,n,a)&&!r[tb(a)]){const n=new Py([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===i?t.segments.length:e.length,o[tb(a)]=n}return Object.assign(Object.assign({},r),o)}(t,e,n,s,t.children,r));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}const i=new Py(t.segments,t.children);return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}function Kv(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function tb(t){return t.outlet||"primary"}function eb(t){return t.data||{}}function nb(t){return t.resolve||{}}function sb(t){return function(e){return e.pipe(Wg(e=>{const n=t(e);return n?V(n).pipe(j(()=>e)):V([e])}))}}class rb{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let ib=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=de({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Ao(0,"router-outlet")},directives:function(){return[_b]},encapsulation:2}),t})();function ob(t,e=""){for(let n=0;n<t.length;n++){const s=t[n];ab(s,cb(e,s))}}function ab(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&ob(t.children,e)}function cb(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function lb(t){const e=t.children&&t.children.map(lb),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=ib),n}const ub=new Ft("ROUTES");class hb{constructor(t,e,n,s){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=s}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(j(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const s=n.create(t);return new Av(xy(s.injector.get(ub)).map(lb),s)}))}loadModuleFactory(t){return"string"==typeof t?V(this.loader.load(t)):Ty(t()).pipe(q(t=>t instanceof Kt?nm(t):V(this.compiler.compileModuleAsync(t))))}}class db{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new pb,this.attachRef=null}}class pb{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new db,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class fb{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function mb(t){throw t}function gb(t,e,n){return e.parse("/")}function yb(t,e){return nm(null)}let vb=(()=>{class t{constructor(t,e,n,s,r,i,o,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=s,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new C,this.errorHandler=mb,this.malformedUriErrorHandler=gb,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:yb,afterPreactivation:yb},this.urlHandlingStrategy=new fb,this.routeReuseStrategy=new rb,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=r.get(Zt),this.console=r.get(Fc);const c=r.get(Xc);this.isNgZoneEnabled=c instanceof Xc,this.resetConfig(a),this.currentUrlTree=new Iy(new Py([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new hb(i,o,t=>this.triggerEvent(new dy(t)),t=>this.triggerEvent(new py(t))),this.routerState=nv(this.currentUrlTree,this.rootComponentType),this.transitions=new Xf({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(rm(t=>0!==t.id),j(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Wg(t=>{let n=!1,s=!1;return nm(t).pipe(zg(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Wg(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return nm(t).pipe(Wg(t=>{const n=this.transitions.getValue();return e.next(new sy(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?cm:[t]}),Wg(t=>Promise.resolve(t)),(s=this.ngModule.injector,r=this.configLoader,i=this.urlSerializer,o=this.config,function(t){return t.pipe(Wg(t=>function(t,e,n,s,r){return new Mv(t,e,n,s,r).apply()}(s,r,i,t.extractedUrl,o).pipe(j(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),zg(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,s,r){return function(i){return i.pipe(q(i=>function(t,e,n,s,r="emptyOnly",i="legacy"){return new Yv(t,e,n,s,r,i).recognize()}(t,e,i.urlAfterRedirects,n(i.urlAfterRedirects),s,r).pipe(j(t=>Object.assign(Object.assign({},i),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),zg(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),zg(t=>{const n=new ay(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var s,r,i,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:s,source:r,restoredState:i,extras:o}=t,a=new sy(n,this.serializeUrl(s),r,i);e.next(a);const c=nv(s,this.rootComponentType).snapshot;return nm(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:s,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),cm}),sb(t=>{const{targetSnapshot:e,id:n,extractedUrl:s,rawUrl:r,extras:{skipLocationChange:i,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:s,rawUrlTree:r,skipLocationChange:!!i,replaceUrl:!!o})}),zg(t=>{const e=new cy(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),j(t=>Object.assign(Object.assign({},t),{guards:Vv(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(q(n=>{const{targetSnapshot:s,currentSnapshot:r,guards:{canActivateChecks:i,canDeactivateChecks:o}}=n;return 0===o.length&&0===i.length?nm(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,s){return V(t).pipe(q(t=>function(t,e,n,s,r){const i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return i&&0!==i.length?nm(i.map(i=>{const o=qv(i,e,r);let a;if(function(t){return t&&xv(t.canDeactivate)}(o))a=Ty(o.canDeactivate(t,e,n,s));else{if(!xv(o))throw new Error("Invalid CanDeactivate guard");a=Ty(o(t,e,n,s))}return a.pipe(wm())})).pipe(zv()):nm(!0)}(t.component,t.route,n,e,s)),wm(t=>!0!==t,!0))}(o,s,r,t).pipe(q(n=>n&&"boolean"==typeof n?function(t,e,n,s){return V(e).pipe(Ym(e=>V([$v(e.route.parent,s),Hv(e.route,s),Qv(t,e.path,n),Gv(t,e.route,n)]).pipe(Vg(),wm(t=>!0!==t,!0))),wm(t=>!0!==t,!0))}(s,i,t,e):nm(n)),j(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),zg(t=>{if(Ev(t.guardsResult)){const e=_y(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),zg(t=>{const e=new ly(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),rm(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new iy(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),sb(t=>{if(t.guards.canActivateChecks.length)return nm(t).pipe(zg(t=>{const e=new uy(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Wg(t=>{let n=!1;return nm(t).pipe((s=this.paramsInheritanceStrategy,r=this.ngModule.injector,function(t){return t.pipe(q(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return nm(t);let i=0;return V(n).pipe(Ym(t=>function(t,e,n,s){return function(t,e,n,s){const r=Object.keys(t);if(0===r.length)return nm({});const i={};return V(r).pipe(q(r=>function(t,e,n,s){const r=qv(t,e,s);return Ty(r.resolve?r.resolve(e,n):r(e,n))}(t[r],e,n,s).pipe(zg(t=>{i[r]=t}))),qg(1),q(()=>Object.keys(i).length===r.length?nm(i):cm))}(t._resolve,t,e,s).pipe(j(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),rv(t,n).resolve),null)))}(t.route,e,s,r)),zg(()=>i++),qg(1),q(e=>i===n.length?nm(t):cm))}))}),zg({next:()=>n=!0,complete:()=>{if(!n){const n=new iy(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var s,r}),zg(t=>{const e=new hy(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),sb(t=>{const{targetSnapshot:e,id:n,extractedUrl:s,rawUrl:r,extras:{skipLocationChange:i,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:s,rawUrlTree:r,skipLocationChange:!!i,replaceUrl:!!o})}),j(t=>{const e=function(t,e,n){const s=function t(e,n,s){if(s&&e.shouldReuseRoute(n.value,s.value.snapshot)){const r=s.value;r._futureSnapshot=n.value;const i=function(e,n,s){return n.children.map(n=>{for(const r of s.children)if(e.shouldReuseRoute(r.value.snapshot,n.value))return t(e,n,r);return t(e,n)})}(e,n,s);return new Ky(r,i)}{const s=e.retrieve(n.value);if(s){const t=s.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let s=0;s<e.children.length;++s)t(e.children[s],n.children[s])}(n,t),t}{const s=new sv(new Xf((r=n.value).url),new Xf(r.params),new Xf(r.queryParams),new Xf(r.fragment),new Xf(r.data),r.outlet,r.component,r),i=n.children.map(n=>t(e,n));return new Ky(s,i)}}var r}(t,e._root,n?n._root:void 0);return new ev(s,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),zg(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),j(t=>(new Sv(o,t.targetRouterState,t.currentRouterState,a).activate(i),t))),zg({next(){n=!0},complete(){n=!0}}),(r=()=>{if(!n&&!s){this.resetUrlToCurrentUrlTree();const n=new iy(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new ty(r))),Gm(n=>{if(s=!0,(r=n)&&r.ngNavigationCancelingError){const s=Ev(n.url);s||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const r=new iy(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(r),s?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const s=new oy(t.id,this.serializeUrl(t.extractedUrl),n);e.next(s);try{t.resolve(this.errorHandler(n))}catch(i){t.reject(i)}}var r;return cm}));var r,i,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",s=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,s,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ob(t),this.config=t.map(lb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:s,fragment:r,preserveQueryParams:i,queryParamsHandling:o,preserveFragment:a}=e;_s()&&i&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const c=n||this.routerState.root,l=a?this.currentUrlTree.fragment:r;let u=null;if(o)switch(o){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}else u=i?this.currentUrlTree.queryParams:s||null;return null!==u&&(u=this.removeEmptyProps(u)),function(t,e,n,s,r){if(0===n.length)return dv(e.root,e.root,e,s,r);const i=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new pv(!0,0,t);let e=0,n=!1;const s=t.reduce((t,s,r)=>{if("object"==typeof s&&null!=s){if(s.outlets){const e={};return Oy(s.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(s.segmentPath)return[...t,s.segmentPath]}return"string"!=typeof s?[...t,s]:0===r?(s.split("/").forEach((s,r)=>{0==r&&"."===s||(0==r&&""===s?n=!0:".."===s?e++:""!=s&&t.push(s))}),t):[...t,s]},[]);return new pv(n,e,s)}(n);if(i.toRoot())return dv(e.root,new Py([],{}),e,s,r);const o=function(t,e,n){if(t.isAbsolute)return new fv(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new fv(t,t===e.root,0)}const s=hv(t.commands[0])?0:1;return function(t,e,n){let s=t,r=e,i=n;for(;i>r;){if(i-=r,s=s.parent,!s)throw new Error("Invalid number of '../'");r=s.segments.length}return new fv(s,!1,r-i)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+s,t.numberOfDoubleDots)}(i,e,t),a=o.processChildren?yv(o.segmentGroup,o.index,i.commands):gv(o.segmentGroup,o.index,i.commands);return dv(o.segmentGroup,a,e,s,r)}(c,this.currentUrlTree,t,u,l)}navigateByUrl(t,e={skipLocationChange:!1}){_s()&&this.isNgZoneEnabled&&!Xc.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Ev(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Ev(t))return ky(this.currentUrlTree,t,e);const n=this.parseUrl(t);return ky(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const s=t[n];return null!=s&&(e[n]=s),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new ry(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,s,r){const i=this.getTransition();if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"popstate"==e&&"hashchange"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);let o,a,c;r?(o=r.resolve,a=r.reject,c=r.promise):c=new Promise((t,e)=>{o=t,a=e});const l=++this.navigationId;return this.setTransition({id:l,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:o,reject:a,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,s){const r=this.urlSerializer.serialize(t);s=s||{},this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",Object.assign(Object.assign({},s),{navigationId:n})):this.location.go(r,"",Object.assign(Object.assign({},s),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(Wt(Bi),Wt(jy),Wt(pb),Wt(zl),Wt(so),Wt(vl),Wt(Wc),Wt(void 0))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),bb=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof ry&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){_s()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,s){if(0!==t||e||n||s)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const r={skipLocationChange:wb(this.skipLocationChange),replaceUrl:wb(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,r),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:wb(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:wb(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(bo(vb),bo(sv),bo(Fl))},t.\u0275dir=ve({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&Io("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)})),2&t&&(Xo("href",e.href,Gs),mo("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[Pe]}),t})();function wb(t){return""===t||!!t}let _b=(()=>{class t{constructor(t,e,n,s,r){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new fc,this.deactivateEvents=new fc,this.name=s||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),s=this.parentContexts.getOrCreateContext(this.name).children,r=new Sb(t,s,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(bo(pb),bo(Ua),bo(fa),("name",function(t,e){const n=t.attrs;if(n){const t=n.length;let e=0;for(;e<t;){const s=n[e];if(Nn(s))break;if(0===s)e+=2;else if("number"==typeof s)for(e++;e<t&&"string"==typeof n[e];)e++;else{if("name"===s)return n[e+1];e+=2}}}return null}(sn())),bo(qi))},t.\u0275dir=ve({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Sb{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===sv?this.route:t===pb?this.childContexts:this.parent.get(t,e)}}class Cb{}class Ab{preload(t,e){return nm(null)}}let xb=(()=>{class t{constructor(t,e,n,s,r){this.router=t,this.injector=s,this.preloadingStrategy=r,this.loader=new hb(e,n,e=>t.triggerEvent(new dy(e)),e=>t.triggerEvent(new py(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(rm(t=>t instanceof ry),Ym(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Zt);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const s of e)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const t=s._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else s.loadChildren&&!s.canLoad?n.push(this.preloadConfig(t,s)):s.children&&n.push(this.processRoutes(t,s.children));return V(n).pipe(H(),j(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(q(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(Wt(vb),Wt(vl),Wt(Wc),Wt(so),Wt(Cb))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Eb=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof sy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ry&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof vy&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new vy(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Wt(vb),Wt(Bu),Wt(void 0))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Ob=new Ft("ROUTER_CONFIGURATION"),Tb=new Ft("ROUTER_FORROOT_GUARD"),kb=[zl,{provide:jy,useClass:Ny},{provide:vb,useFactory:function(t,e,n,s,r,i,o,a={},c,l){const u=new vb(null,t,e,n,s,r,i,xy(o));if(c&&(u.urlHandlingStrategy=c),l&&(u.routeReuseStrategy=l),a.errorHandler&&(u.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(u.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const t=Ol();u.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return a.onSameUrlNavigation&&(u.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(u.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(u.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(u.relativeLinkResolution=a.relativeLinkResolution),u},deps:[jy,pb,zl,so,vl,Wc,ub,Ob,[class{},new rt],[class{},new rt]]},pb,{provide:sv,useFactory:function(t){return t.routerState.root},deps:[vb]},{provide:vl,useClass:_l},xb,Ab,class{preload(t,e){return e().pipe(Gm(()=>nm(null)))}},{provide:Ob,useValue:{enableTracing:!1}}];function Ib(){return new hl("Router",vb)}let Pb=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[kb,jb(e),{provide:Tb,useFactory:Rb,deps:[[vb,new rt,new ot]]},{provide:Ob,useValue:n||{}},{provide:Fl,useFactory:Db,deps:[kl,[new st(ql),new rt],Ob]},{provide:Eb,useFactory:Mb,deps:[vb,Bu,Ob]},{provide:Cb,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Ab},{provide:hl,multi:!0,useFactory:Ib},[Nb,{provide:Ic,multi:!0,useFactory:Lb,deps:[Nb]},{provide:Vb,useFactory:Fb,deps:[Nb]},{provide:Lc,multi:!0,useExisting:Vb}]]}}static forChild(e){return{ngModule:t,providers:[jb(e)]}}}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)(Wt(Tb,8),Wt(vb,8))}}),t})();function Mb(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Eb(t,e,n)}function Db(t,e,n={}){return n.useHash?new Bl(t,e):new Ul(t,e)}function Rb(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function jb(t){return[{provide:ro,multi:!0,useValue:t},{provide:ub,multi:!0,useValue:t}]}let Nb=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new C}appInitializer(){return this.injector.get(Pl,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(vb),s=this.injector.get(Ob);if(this.isLegacyDisabled(s)||this.isLegacyEnabled(s))t(!0);else if("disabled"===s.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==s.initialNavigation)throw new Error(`Invalid initialNavigation options: '${s.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?nm(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Ob),n=this.injector.get(xb),s=this.injector.get(Eb),r=this.injector.get(vb),i=this.injector.get(gl);t===i.components[0]&&(this.isLegacyEnabled(e)?r.initialNavigation():this.isLegacyDisabled(e)&&r.setUpLocationChangeListener(),n.setUpPreloading(),s.init(),r.resetRootComponentType(i.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(Wt(so))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function Lb(t){return t.appInitializer.bind(t)}function Fb(t){return t.bootstrapListener.bind(t)}const Vb=new Ft("Router Initializer"),qb=["*"],Ub=["chatInput"],Bb=["messageArea"];function zb(t,e){if(1&t&&Ao(0,"ngx-chat-message",9),2&t){const t=e.$implicit,n=Do(2);Bo("chat-message--in",t.direction===n.Direction.in)("chat-message--out",t.direction===n.Direction.out),wo("id","message-"+t.id)("avatar",n.contact.avatar)("contact",n.contact)("message",t)("nick",t.direction===n.Direction.in?n.contact.name:"")("showAvatars",n.showAvatars)}}function Hb(t,e){if(1&t&&(xo(0),So(1,"div",7),Qo(2),lc(3,"date"),Co(),yo(4,zb,1,10,"ngx-chat-message",8),Eo()),2&t){const t=e.$implicit,n=Do();pr(2),Wo(hc(3,2,t.date,n.chatService.translations.dateFormat,void 0,n.chatService.translations.locale)),pr(2),wo("ngForOf",t.messages)}}function $b(t,e){if(1&t&&(So(0,"div",10),Qo(1),Co()),2&t){const t=Do();pr(1),Yo(" ",t.chatService.translations.noMessages," ")}}function Gb(t,e){if(1&t&&(So(0,"span",16),Qo(1),Co()),2&t){const t=Do(2);pr(1),Wo(t.chatService.translations.acceptSubscriptionRequest)}}function Qb(t,e){if(1&t){const t=Oo();So(0,"a",17),Io("click",(function(e){return nn(t),Do(2).acceptSubscriptionRequest(e)})),Qo(1),Co()}if(2&t){const t=Do(2);pr(1),Wo(t.chatService.translations.acceptSubscriptionRequest)}}function Wb(t,e){if(1&t&&(So(0,"span",16),Qo(1),Co()),2&t){const t=Do(2);pr(1),Wo(t.chatService.translations.denySubscriptionRequest)}}function Yb(t,e){if(1&t){const t=Oo();So(0,"a",17),Io("click",(function(e){return nn(t),Do(2).denySubscriptionRequest(e)})),Qo(1),Co()}if(2&t){const t=Do(2);pr(1),Wo(t.chatService.translations.denySubscriptionRequest)}}function Jb(t,e){if(1&t){const t=Oo();So(0,"li"),So(1,"a",17),Io("click",(function(e){return nn(t),Do(3).blockContactAndReport(e)})),Qo(2),Co(),Co()}if(2&t){const t=Do(3);pr(2),Wo(t.chatService.translations.blockAndReport)}}function Xb(t,e){if(1&t){const t=Oo();So(0,"ul",18),So(1,"li"),So(2,"a",17),Io("click",(function(e){return nn(t),Do(2).blockContact(e)})),Qo(3),Co(),Co(),yo(4,Jb,3,1,"li",19),So(5,"li"),So(6,"a",17),Io("click",(function(e){return nn(t),Do(2).dismissOptions(e)})),Qo(7),Co(),Co(),Co()}if(2&t){const t=Do(2);pr(3),Wo(t.chatService.translations.block),pr(1),wo("ngIf",t.reportUserService),pr(3),Wo(t.chatService.translations.dismiss)}}function Zb(t,e){if(1&t&&(So(0,"ngx-chat-message-simple",11),So(1,"span"),Qo(2),Co(),So(3,"ul",12),So(4,"li"),yo(5,Gb,2,1,"span",13),yo(6,Qb,2,1,"a",14),Co(),So(7,"li"),yo(8,Wb,2,1,"span",13),yo(9,Yb,2,1,"a",14),Co(),Co(),yo(10,Xb,8,3,"ul",15),lc(11,"async"),Co()),2&t){const t=Do();wo("direction",t.Direction.in)("avatar",t.showAvatars?t.contact.avatar:void 0)("footerHidden",!0),pr(2),Yo(" ",t.chatService.translations.subscriptionRequestMessage," "),pr(3),wo("ngIf",t.subscriptionAction===t.SubscriptionAction.SHOW_BLOCK_ACTIONS),pr(1),wo("ngIf",t.subscriptionAction===t.SubscriptionAction.PENDING_REQUEST),pr(2),wo("ngIf",t.subscriptionAction===t.SubscriptionAction.SHOW_BLOCK_ACTIONS),pr(1),wo("ngIf",t.subscriptionAction===t.SubscriptionAction.PENDING_REQUEST),pr(1),wo("ngIf",!0===uc(11,9,t.blockPlugin.supportsBlock$)&&t.subscriptionAction===t.SubscriptionAction.SHOW_BLOCK_ACTIONS)}}function Kb(t,e){if(1&t){const t=Oo();So(0,"div",6),So(1,"ngx-chat-avatar",7),Io("click",(function(){return nn(t),Do().avatarClickHandler.emit()})),Co(),Co()}if(2&t){const t=Do();pr(1),Bo("has-click-handler",t.avatarInteractive),wo("imageUrl",t.avatar)}}function tw(t,e){if(1&t){const t=Oo();So(0,"div",8),So(1,"img",9),Io("load",(function(){return nn(t),Do().showImagePlaceholder=!1})),Co(),Co()}if(2&t){const t=Do();Bo("chat-message-image-wrapper--placeholder",t.showImagePlaceholder),pr(1),wo("src",t.imageLink,Gs)}}function ew(t,e){1&t&&(xo(0),Qo(1,"\u2713"),Eo())}function nw(t,e){1&t&&(xo(0),Qo(1,"\u2713\u2713"),Eo())}function sw(t,e){1&t&&(xo(0),So(1,"span",16),Qo(2,"\u2713\u2713"),Co(),Eo())}function rw(t,e){if(1&t&&(xo(0,14),yo(1,ew,2,0,"ng-container",15),yo(2,nw,2,0,"ng-container",15),yo(3,sw,3,0,"ng-container",15),Eo()),2&t){const t=Do(2);wo("ngSwitch",t.messageState),pr(1),wo("ngSwitchCase",t.MessageState.SENT),pr(1),wo("ngSwitchCase",t.MessageState.RECIPIENT_RECEIVED),pr(1),wo("ngSwitchCase",t.MessageState.RECIPIENT_SEEN)}}function iw(t,e){if(1&t&&(So(0,"div",10),So(1,"small",11),Qo(2),yo(3,rw,4,4,"ng-container",12),Co(),So(4,"small",13),Qo(5),Co(),Co()),2&t){const t=Do();pr(1),Lo("title",t.nick),pr(1),Yo(" ",t.nick," "),pr(1),wo("ngIf","out"===t.direction),pr(2),Wo(t.formattedDate)}}function ow(t,e){if(1&t&&Ao(0,"ngx-chat-message",6),2&t){const t=e.$implicit,n=Do(2);Bo("chat-message--in",t.direction===n.Direction.in)("chat-message--out",t.direction===n.Direction.out),wo("message",t)("avatar",n.getOrCreateContactWithFullJid(t.from).avatar)("showAvatars",!0)("id","message-"+t.id)("nick",n.getOrCreateContactWithFullJid(t.from).name)}}function aw(t,e){if(1&t&&(xo(0),So(1,"div",4),Qo(2),lc(3,"date"),Co(),yo(4,ow,1,9,"ngx-chat-message",5),Eo()),2&t){const t=e.$implicit,n=Do();pr(2),Wo(hc(3,2,t.date,n.chatService.translations.dateFormat,void 0,n.chatService.translations.locale)),pr(2),wo("ngForOf",t.messages)}}function cw(t,e){if(1&t&&(So(0,"div",7),Qo(1),Co()),2&t){const t=Do();pr(1),Yo(" ",t.chatService.translations.noMessages," ")}}function lw(t,e){if(1&t){const t=Oo();So(0,"div",8),Io("click",(function(e){return nn(t),Do().onContactClick(e)})),Ao(1,"ngx-chat-avatar",9),Co()}if(2&t){const t=Do();pr(1),wo("imageUrl",t.chatWindowState.contact.avatar)}}function uw(t,e){if(1&t&&(So(0,"div",10),So(1,"span",11),Qo(2),lc(3,"async"),Co(),Co()),2&t){const t=Do();pr(2),Yo(" ",t.chatService.translations.presence[uc(3,1,t.chatWindowState.contact.presence$)]," ")}}function hw(t,e){if(1&t){const t=Oo();So(0,"div",18),Io("click",(function(){nn(t);const n=e.$implicit;return Do(2).onActionClick(n)})),Co()}if(2&t){const t=e.$implicit;wo("ngClass",t.cssClass)("innerHTML",t.html,$s)}}function dw(t,e){if(1&t){const t=Oo();So(0,"ngx-chat-filedrop",12),Io("fileUpload",(function(e){return nn(t),Do().uploadFile(e)})),So(1,"div",13),Io("click",(function(){return nn(t),Do().onFocus()})),Ao(2,"ngx-chat-message-list",14),So(3,"div",15),So(4,"ngx-chat-message-input",16),Io("messageSent",(function(){return nn(t),Do().afterSendMessage()})),Co(),yo(5,hw,1,2,"div",17),Co(),Co(),Co()}if(2&t){const t=Do();wo("enabled",t.httpFileUploadPlugin.fileUploadSupported)("dropMessage",t.chatService.translations.dropMessage),pr(2),wo("contact",t.chatWindowState.contact)("showAvatars",!1),pr(2),wo("contact",t.chatWindowState.contact),pr(1),wo("ngForOf",t.chatService.chatActions)}}const pw=function(t){return{"has-click-handler":t}};function fw(t,e){1&t&&Ao(0,"ngx-chat-window-list",2),2&t&&wo("rosterState",Do().rosterState)}function mw(t,e){if(1&t){const t=Oo();So(0,"ngx-chat-roster-list",3),Io("rosterStateChanged",(function(e){return nn(t),Do().onRosterStateChanged(e)})),Co()}if(2&t){const t=Do();wo("rosterState",t.rosterState)("contacts",t.contacts)("contactRequestsReceived$",t.contactRequestsReceived$)("contactRequestsSent$",t.contactRequestsSent$)("contactsUnaffiliated$",t.contactsUnaffiliated$)}}function gw(t,e){1&t&&Ao(0,"br")}function yw(t,e){if(1&t&&(So(0,"span"),Qo(1),yo(2,gw,1,0,"br",1),Co()),2&t){const t=e.$implicit,n=e.last;pr(1),Wo(t),pr(1),wo("ngIf",!n)}}const vw=function(t){return{backgroundImage:t}},bw=["video"];function ww(t,e){if(1&t){const t=Oo();So(0,"div",3),Io("click",(function(){return nn(t),Do().closeClick.emit()})),Qo(1," \xd7 "),Co()}}const _w=[[["",8,"window-header-content"]],[["",8,"window-content"]]],Sw=[".window-header-content",".window-content"];function Cw(t,e){1&t&&Ao(0,"ngx-chat-video-window",3),2&t&&wo("track",e.$implicit)}function Aw(t,e){1&t&&Ao(0,"ngx-chat-window",4),2&t&&wo("chatWindowState",e.$implicit)}function xw(t,e){if(1&t&&(So(0,"div",7),Qo(1),Co()),2&t){const t=Do();pr(1),Wo(t.unreadCount)}}function Ew(t,e){1&t&&(So(0,"div",8),lc(1,"async"),Qo(2,"\u25cf "),Co()),2&t&&wo("ngClass","roster-presence--"+uc(1,1,Do().contact.presence$))}function Ow(t,e){1&t&&(So(0,"div",6),Qo(1,"\xbb"),Co())}function Tw(t,e){1&t&&(So(0,"div",6),Qo(1,"\xab"),Co())}function kw(t,e){if(1&t){const t=Oo();So(0,"ngx-chat-roster-contact",10),Io("click",(function(){nn(t);const n=e.$implicit;return Do(2).onClickContact(n)})),Co()}2&t&&wo("contact",e.$implicit)}function Iw(t,e){if(1&t&&(xo(0),So(1,"div",7),Qo(2),Co(),So(3,"div",8),yo(4,kw,1,1,"ngx-chat-roster-contact",9),lc(5,"async"),Co(),Eo()),2&t){const t=Do();pr(2),Wo(t.chatService.translations.contacts),pr(2),wo("ngForOf",uc(5,2,t.contacts))}}function Pw(t,e){if(1&t){const t=Oo();So(0,"ngx-chat-roster-contact",10),Io("click",(function(){nn(t);const n=e.$implicit;return Do(2).onClickContact(n)})),Co()}2&t&&wo("contact",e.$implicit)}function Mw(t,e){if(1&t&&(xo(0),So(1,"div",7),Qo(2),Co(),So(3,"div",8),yo(4,Pw,1,1,"ngx-chat-roster-contact",9),lc(5,"async"),Co(),Eo()),2&t){const t=Do();pr(2),Wo(t.chatService.translations.contactRequestIn),pr(2),wo("ngForOf",uc(5,2,t.contactRequestsReceived$))}}function Dw(t,e){if(1&t){const t=Oo();So(0,"ngx-chat-roster-contact",10),Io("click",(function(){nn(t);const n=e.$implicit;return Do(2).onClickContact(n)})),Co()}2&t&&wo("contact",e.$implicit)}function Rw(t,e){if(1&t&&(xo(0),So(1,"div",7),Qo(2),Co(),So(3,"div",8),yo(4,Dw,1,1,"ngx-chat-roster-contact",9),lc(5,"async"),Co(),Eo()),2&t){const t=Do();pr(2),Wo(t.chatService.translations.contactRequestOut),pr(2),wo("ngForOf",uc(5,2,t.contactRequestsSent$))}}function jw(t,e){if(1&t){const t=Oo();So(0,"ngx-chat-roster-contact",10),Io("click",(function(){nn(t);const e=Do().$implicit;return Do(2).onClickContact(e)})),Co()}2&t&&wo("contact",Do().$implicit)}function Nw(t,e){if(1&t&&(xo(0),yo(1,jw,1,1,"ngx-chat-roster-contact",12),Eo()),2&t){const t=e.$implicit;pr(1),wo("ngIf",t.messages.length>0)}}function Lw(t,e){if(1&t&&(xo(0),So(1,"div",7),Qo(2),Co(),So(3,"div",8),yo(4,Nw,2,1,"ng-container",11),lc(5,"async"),Co(),Eo()),2&t){const t=Do();pr(2),Wo(t.chatService.translations.contactsUnaffiliated),pr(2),wo("ngForOf",uc(5,2,t.contactsUnaffiliated$))}}function Fw(t,e){if(1&t&&(So(0,"div",13),Qo(1),Co()),2&t){const t=Do();pr(1),Yo(" ",t.chatService.translations.noContacts," ")}}function Vw(t,e){if(1&t&&(So(0,"div",20),Qo(1),Co()),2&t){const t=e.$implicit;pr(1),Yo(" ",t.name," ")}}function qw(t,e){if(1&t&&(So(0,"div",21),Qo(1),Co()),2&t){const t=e.$implicit;pr(1),Yo(" ",t.name," ")}}function Uw(t,e){if(1&t&&(So(0,"p",22),So(1,"em"),Qo(2),Co(),Ao(3,"br"),Qo(4),lc(5,"async"),Ao(6,"br"),Qo(7),lc(8,"async"),Ao(9,"br"),Qo(10),lc(11,"async"),Ao(12,"br"),Qo(13),lc(14,"async"),Co()),2&t){const t=e.$implicit;pr(2),Yo("",t.name,":"),pr(2),Yo(" subscription=",uc(5,5,t.subscription$),""),pr(3),Yo(" presence=",uc(8,7,t.presence$),""),pr(3),Yo(" pendingIn=",uc(11,9,t.pendingIn$),""),pr(3),Yo(" pendingOut=",uc(14,11,t.pendingOut$)," ")}}function Bw(t,e){if(1&t&&(xo(0),Ao(1,"hr"),So(2,"div",14),Qo(3," debug contact requests in: "),yo(4,Vw,2,1,"div",15),lc(5,"async"),Co(),Ao(6,"hr"),So(7,"div",16),Qo(8," debug contact requests out: "),yo(9,qw,2,1,"div",17),lc(10,"async"),Co(),Ao(11,"hr"),So(12,"p"),Qo(13),lc(14,"async"),Ao(15,"br"),Co(),yo(16,Uw,15,13,"p",18),lc(17,"async"),So(18,"p",19),Qo(19),lc(20,"async"),Co(),Eo()),2&t){const t=Do();pr(4),wo("ngForOf",uc(5,5,t.chatService.contactRequestsReceived$)),pr(5),wo("ngForOf",uc(10,7,t.chatService.contactRequestsSent$)),pr(4),Yo(" debug contacts (count: ",uc(14,9,t.chatService.contacts$).length,")"),pr(3),wo("ngForOf",uc(17,11,t.chatService.contacts$)),pr(3),Yo("state: ",uc(20,13,t.chatService.state$),"")}}let zw=(()=>{class t{constructor(){this.fileUpload=new fc,this.enabled=!0,this.isDropTarget=!1}ngOnInit(){}onDragOver(t){this.enabled&&(t.preventDefault(),t.stopPropagation(),this.isDropTarget=!0)}onDragLeave(t){t.preventDefault(),t.stopPropagation(),this.isDropTarget=!1}onDrop(t){return Yf(this,void 0,void 0,(function*(){if(this.enabled){t.preventDefault(),t.stopPropagation(),this.isDropTarget=!1;for(let e=0;e<t.dataTransfer.items.length;e++){const n=t.dataTransfer.items[e];"file"===n.kind&&this.fileUpload.emit(n.getAsFile())}}}))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=de({type:t,selectors:[["ngx-chat-filedrop"]],hostBindings:function(t,e){1&t&&Io("dragover",(function(t){return e.onDragOver(t)}))("dragenter",(function(t){return e.onDragOver(t)}))("dragleave",(function(t){return e.onDragLeave(t)}))("dragexit",(function(t){return e.onDragLeave(t)}))("drop",(function(t){return e.onDrop(t)}))},inputs:{enabled:"enabled",dropMessage:"dropMessage"},outputs:{fileUpload:"fileUpload"},ngContentSelectors:qb,decls:5,vars:3,consts:[[1,"drop-message"]],template:function(t,e){1&t&&(jo(),So(0,"div"),So(1,"div",0),Qo(2),Co(),So(3,"div"),No(4),Co(),Co()),2&t&&(pr(1),Bo("drop-message--visible",e.isDropTarget),pr(1),Yo(" ",e.dropMessage," "))},styles:[".drop-message[_ngcontent-%COMP%]{display:none;pointer-events:none}.drop-message--visible[_ngcontent-%COMP%]{align-content:center;background-color:hsla(0,0%,100%,.6);bottom:0;display:flex;flex-direction:column;font-size:1.5em;justify-content:center;left:0;padding:1em;position:absolute;right:0;text-align:center;top:0;z-index:999}"]}),t})();var Hw=function(t){return t.SENDING="sending",t.SENT="sent",t.RECIPIENT_RECEIVED="recipientReceived",t.RECIPIENT_SEEN="recipientSeen",t}({}),$w=function(t){return t.in="in",t.out="out",t}({});const Gw=t=>t.toString();function Qw(t,e,n=Gw){e.splice(Ww(n(t),e,n),0,t)}function Ww(t,e,n=Gw){let s=0,r=e.length;for(;s!==r;){const i=Math.floor(s+(r-s)/2);t<n(e[i])?r=i:s=i+1}return s}function Yw(t,e){return t[function(t,e){for(let n=t.length-1;n>=0;n--)if(e(t[n]))return n;return-1}(t,e)]}function Jw(t){const e=t.toISOString();return e.slice(0,e.indexOf("T"))}class Xw{constructor(t){this.logService=t,this.messages=[],this.dateMessageGroups=[],this.messageIdToMessage={},this.messages$=new C}addMessage(t){return t.id&&this.messageIdToMessage[t.id]?(this.logService&&this.logService.warn(`message with id ${t.id} already exists`),!1):(Qw(t,this.messages,t=>t.datetime),this.addToDateMessageGroups(t),this.messageIdToMessage[t.id]=t,this.messages$.next(t),!0)}addToDateMessageGroups(t){const e=Jw(t.datetime),n=function(t,e,n=Gw){let s=0,r=e.length;for(;s!==r;){const i=Math.floor(s+(r-s)/2),o=n(e[i]);if(t<o)r=i;else{if(!(t>o))return i;s=i+1}}return-1}(e,this.dateMessageGroups,t=>Jw(t.date));if(-1!==n)Qw(t,this.dateMessageGroups[n].messages,t=>t.datetime);else{const n={date:t.datetime,messages:[t]},s=Ww(e,this.dateMessageGroups,t=>Jw(t.date));this.dateMessageGroups.splice(s,0,n)}}}class Zw{}class Kw{onBeforeOnline(){return Promise.resolve()}onOffline(){}afterSendMessage(t,e){}beforeSendMessage(t,e){}handleStanza(t){return!1}afterReceiveMessage(t,e,n){}}class t_{constructor(){this.discard=!1}}class e_ extends Kw{constructor(t,e){super(),this.xmppChatAdapter=t,this.logService=e}handleStanza(t){return!!this.isMessageStanza(t)&&(this.handleMessageStanza(t),!0)}isMessageStanza(t){return"message"===t.name&&"groupchat"!==t.attrs.type&&"error"!==t.attrs.type&&!!t.getChildText("body")}handleMessageStanza(t){this.logService.debug("message received <=",t.getChildText("body"));const e={body:t.getChildText("body"),direction:$w.in,datetime:new Date,delayed:!!t.getChild("delay")},n=new t_;if(this.xmppChatAdapter.plugins.forEach(s=>s.afterReceiveMessage(e,t,n)),!n.discard){const n=this.xmppChatAdapter.getOrCreateContactById(t.attrs.from);n.addMessage(e),this.xmppChatAdapter.message$.next(n)}}sendMessage(t,e){const n=Object(Jf.xml)("message",{to:t,from:this.xmppChatAdapter.chatConnectionService.userJid.toString(),type:"chat"},Object(Jf.xml)("body",{},e)),s={direction:$w.out,body:e,datetime:new Date,delayed:!1};this.xmppChatAdapter.plugins.forEach(t=>t.beforeSendMessage(n,s)),this.xmppChatAdapter.getOrCreateContactById(t).addMessage(s),this.xmppChatAdapter.chatConnectionService.send(n).then(()=>{this.xmppChatAdapter.plugins.forEach(t=>t.afterSendMessage(s,n))},t=>{this.logService.error("rejected message "+s.id,t)})}}class n_ extends Zw{constructor(t,e){super(),this.xmlns=t,this.to=e}toStanza(){const t={type:"get"};return this.to&&(t.to=this.to),Object(Jf.xml)("iq",t,Object(Jf.xml)("query",{xmlns:this.xmlns}))}}let s_=(()=>{class t extends Kw{constructor(t){super(),this.chatAdapter=t,this.servicesInitialized$=new Xf(!1),this.hostedServices=[],this.resourceCache={}}onBeforeOnline(){return Yf(this,void 0,void 0,(function*(){yield this.discoverServices(this.chatAdapter.chatConnectionService.userJid.domain),this.servicesInitialized$.next(!0)}))}onOffline(){this.servicesInitialized$.next(!1),this.hostedServices=[],this.resourceCache={}}supportsFeature(t,e){return new Promise((n,s)=>{this.servicesInitialized$.pipe(wm(t=>!!t)).subscribe(()=>Yf(this,void 0,void 0,(function*(){try{const r=this.resourceCache[t]||(yield this.discoverServiceInformation(t));r||s(new Error("no service found for jid "+t)),n(r.features.indexOf(e)>=0)}catch(r){s(r)}})))})}findService(t,e){return new Promise((n,s)=>{this.servicesInitialized$.pipe(wm(t=>!!t)).subscribe(()=>{const r=this.hostedServices.filter(n=>n.identities.filter(n=>n.category===t&&n.type===e).length>0);if(0===r.length)s(`no service matching category ${t} and type ${e} found!`);else{if(!(r.length>1))return n(r[0]);s(`multiple services matching category ${t} and type ${e} found! ${JSON.stringify(r)}`)}})})}discoverServices(e){return Yf(this,void 0,void 0,(function*(){const n=(yield this.chatAdapter.chatConnectionService.sendIq(new n_(t.DISCO_ITEMS,this.chatAdapter.chatConnectionService.userJid.domain).toStanza())).getChild("query").getChildren("item").map(t=>t.attrs.jid);n.push(e);const s=Object.keys(n.reduce((t,e)=>(t[e]=!0,t),{})),r=yield Promise.all(s.map(t=>this.discoverServiceInformation(t)));this.hostedServices.push(...r)}))}discoverServiceInformation(e){return Yf(this,void 0,void 0,(function*(){const n=yield this.chatAdapter.chatConnectionService.sendIq(new n_(t.DISCO_INFO,e).toStanza()),s=n.getChild("query"),r=s.getChildren("feature").map(t=>t.attrs.var),i={identities:s.getChildren("identity").map(t=>t.attrs),features:r,jid:n.attrs.from};return this.resourceCache[n.attrs.from]=i,i}))}}return t.DISCO_INFO="http://jabber.org/protocol/disco#info",t.DISCO_ITEMS="http://jabber.org/protocol/disco#items",t})();class r_{constructor(t,e){this.roomJid=t.bare(),this.occupantJid=t,this.messageStore=new Xw(e)}get messages(){return this.messageStore.messages}get messages$(){return this.messageStore.messages$}get mostRecentMessage(){return this.messageStore.messages[this.messageStore.messages.length-1]}addMessage(t){this.messageStore.addMessage(t)}get dateMessagesGroups(){return this.messageStore.dateMessageGroups}}class i_ extends Zw{constructor(t,e,n,s){super(),this.roomJid=t,this.from=e,this.body=n,this.thread=s}toStanza(){const t=Object(Jf.xml)("message",{from:this.from,to:this.roomJid,type:"groupchat"},Object(Jf.xml)("body",{},this.body));return this.thread&&t.children.push(Object(Jf.xml)("thread",{},this.thread)),t}}var o_=function(t){return t[t.none=0]="none",t[t.member=1]="member",t[t.admin=2]="admin",t[t.owner=3]="owner",t[t.outcast=4]="outcast",t}({});class a_ extends Zw{constructor(t,e){super(),this.roomJid=t,this.affiliation=e}static build(t,e){return new a_(t,e).toStanza()}toStanza(){return Object(Jf.xml)("iq",{type:"get",to:this.roomJid},Object(Jf.xml)("query",{xmlns:"http://jabber.org/protocol/muc#admin"},Object(Jf.xml)("item",{affiliation:this.affiliation})))}}class c_ extends Zw{constructor(t,e){super(),this.roomJid=t,this.modifications=e}static build(t,e){return new c_(t,e).toStanza()}toStanza(){return Object(Jf.xml)("iq",{to:this.roomJid,type:"set"},Object(Jf.xml)("query",{xmlns:"http://jabber.org/protocol/muc#admin"},...this.modifications.map(t=>this.buildItem(t))))}buildItem(t){const e=Object(Jf.xml)("item",{jid:t.jid,affiliation:o_[t.affiliation]});return t.nick&&(e.attrs.nick=t.nick),e}}class l_ extends Kw{constructor(t,e,n){super(),this.xmppChatAdapter=t,this.logService=e,this.serviceDiscoveryPlugin=n,this.rooms$=new Xf([]),this.message$=new C,this.roomJoinPromises={}}onOffline(){this.roomJoinPromises={},this.rooms$.next([])}handleStanza(t){return this.isRoomPresenceStanza(t)?this.handleRoomPresenceStanza(t):!!this.isRoomMessageStanza(t)&&this.handleRoomMessageStanza(t)}isRoomPresenceStanza(t){return"presence"===t.name&&(t.getChild("x","http://jabber.org/protocol/muc")||t.getChild("x","http://jabber.org/protocol/muc#user"))}handleRoomPresenceStanza(t){const e=this.roomJoinPromises[t.attrs.from];return!!e&&(delete this.roomJoinPromises[t.attrs.from],e(t),!0)}createRoom(t){return Yf(this,void 0,void 0,(function*(){const e=t.roomId,n=yield this.serviceDiscoveryPlugin.findService("conference","text"),s=Object(Jf.jid)(e,n.jid,t.nick),{presenceResponse:r,room:i}=yield this.joinRoomInternal(s,t.name);if("owner"!==r.getChild("x").getChild("item").attrs.affiliation)throw new Error("error creating room, user is not owner: "+r.toString());const o=(yield this.xmppChatAdapter.chatConnectionService.sendIq(Object(Jf.xml)("iq",{type:"get",to:i.roomJid.toString()},Object(Jf.xml)("query",{xmlns:"http://jabber.org/protocol/muc#owner"})))).getChild("query").getChild("x");if(!o)throw new Error("room not configurable");const a=Object.assign(Object.assign({},this.extractDefaultConfiguration(o.getChildren("field"))),this.extractRoomCreationRequestConfiguration(t));try{return yield this.xmppChatAdapter.chatConnectionService.sendIq(Object(Jf.xml)("iq",{type:"set",to:i.roomJid.toString()},Object(Jf.xml)("query",{xmlns:"http://jabber.org/protocol/muc#owner"},Object(Jf.xml)("x",{xmlns:"jabber:x:data",type:"submit"},Object(Jf.xml)("field",{var:"FORM_TYPE"},Object(Jf.xml)("value",{},"http://jabber.org/protocol/muc#roomconfig")),...this.convertConfiguration(a))))),i}catch(c){throw new Error("room configuration rejected: "+c.toString())}}))}destroyRoom(t){return Yf(this,void 0,void 0,(function*(){const e=yield this.xmppChatAdapter.chatConnectionService.sendIq(Object(Jf.xml)("iq",{type:"set",to:t.toString()},Object(Jf.xml)("query",{xmlns:"http://jabber.org/protocol/muc#owner"},Object(Jf.xml)("destroy")))),n=e.getChild("error");if(n)throw new Error("error destroying room:"+n.attrs.type);const s=this.rooms$.getValue().filter(e=>!e.roomJid.equals(t));return this.rooms$.next(s),e}))}joinRoomInternal(t,e){return Yf(this,void 0,void 0,(function*(){const n=this.xmppChatAdapter.chatConnectionService.userJid,s=Object(Jf.jid)(t.local,t.domain,t.resource||n.local),r=new Promise(t=>this.roomJoinPromises[s.toString()]=t);yield this.xmppChatAdapter.chatConnectionService.send(Object(Jf.xml)("presence",{from:n.toString(),to:s.toString()},Object(Jf.xml)("x",{xmlns:"http://jabber.org/protocol/muc"})));const i=yield r;if(i.getChild("error"))throw new Error("error joining room: "+i.toString());let o;try{o=this.getRoomByJid(t)}catch(NS){o=new r_(s,this.logService),o.name=e,this.rooms$.next([o].concat(this.rooms$.getValue()))}return{presenceResponse:i,room:o}}))}joinRoom(t){return Yf(this,void 0,void 0,(function*(){return(yield this.joinRoomInternal(t)).room}))}queryAllRooms(){return Yf(this,void 0,void 0,(function*(){const t=yield this.serviceDiscoveryPlugin.findService("conference","text"),e=[];let n=yield this.xmppChatAdapter.chatConnectionService.sendIq(Object(Jf.xml)("iq",{type:"get",to:t.jid.toString()},Object(Jf.xml)("query",{xmlns:s_.DISCO_ITEMS})));e.push(...this.convertRoomQueryResponse(n));const s=n.getChild("fin");for(;s&&"true"!==s.attrs.complete;){const r=s.getChild("set").getChildText("last");n=yield this.xmppChatAdapter.chatConnectionService.sendIq(Object(Jf.xml)("iq",{type:"get",to:t.jid.toString()},Object(Jf.xml)("query",{xmlns:"urn:xmpp:mam:2"},Object(Jf.xml)("set",{xmlns:s_.DISCO_ITEMS},Object(Jf.xml)("max",{},250),Object(Jf.xml)("after",{},r))))),e.push(...yield this.convertRoomQueryResponse(n))}return e}))}convertRoomQueryResponse(t){const e=t.getChild("query",s_.DISCO_ITEMS);return(e&&e.getChildren("item")).map(t=>t.attrs)}queryMemberList(t){return Yf(this,void 0,void 0,(function*(){const e=[this.xmppChatAdapter.chatConnectionService.sendIq(a_.build(t.roomJid.toString(),"admin")),this.xmppChatAdapter.chatConnectionService.sendIq(a_.build(t.roomJid.toString(),"member")),this.xmppChatAdapter.chatConnectionService.sendIq(a_.build(t.roomJid.toString(),"owner")),this.xmppChatAdapter.chatConnectionService.sendIq(a_.build(t.roomJid.toString(),"outcast"))],n=yield Promise.all(e);let s=[];for(const t of n){const e=t.getChild("query").getChildren("item").map(t=>({jid:t.attrs.jid,nick:t.attrs.nick,affiliation:this.reverseMapAffiliation(t.attrs.affiliation)}));s=s.concat(e)}return s}))}reverseMapAffiliation(t){if(t&&"none"!==t){if("member"===t)return o_.member;if("admin"===t)return o_.admin;if("owner"===t)return o_.owner;if("outcast"===t)return o_.outcast;{const e="unexpected affilation: "+t;throw this.logService.error(e),new Error(e)}}return o_.none}modifyMemberList(t,e,n,s){return Yf(this,void 0,void 0,(function*(){return yield this.xmppChatAdapter.chatConnectionService.sendIq(c_.build(t,[{jid:e,affiliation:n,nick:s}]))}))}sendMessage(t,e,n){return Yf(this,void 0,void 0,(function*(){const s=this.xmppChatAdapter.chatConnectionService.userJid,r=new i_(t.roomJid.toString(),s.toString(),e,n).toStanza();for(const t of this.xmppChatAdapter.plugins)t.beforeSendMessage(r);return this.xmppChatAdapter.chatConnectionService.send(r)}))}convertConfiguration(t){const e=[];for(const n in t)if(t.hasOwnProperty(n)){const s=t[n].map(t=>Object(Jf.xml)("value",{},t));e.push(Object(Jf.xml)("field",{var:n},...s))}return e}extractDefaultConfiguration(t){const e={};for(const n of t)e[n.attrs.var]=n.getChildren("value").map(t=>t.getText());return e}extractRoomCreationRequestConfiguration(t){const e={};return e["muc#roomconfig_whois"]=[t.nonAnonymous?"anyone":"moderators"],e["muc#roomconfig_publicroom"]=[t.public?"1":"0"],e["muc#roomconfig_membersonly"]=[t.membersOnly?"1":"0"],e["muc#roomconfig_persistentroom"]=[t.persistentRoom?"1":"0"],void 0!==t.allowSubscription&&(e.allow_subscription=[!0===t.allowSubscription?"1":"0"]),e}isRoomMessageStanza(t){return"message"===t.name&&"groupchat"===t.attrs.type&&!!t.getChildText("body")}handleRoomMessageStanza(t){let e;const n=t.getChild("delay");e=n&&n.attrs.stamp?new Date(n.attrs.stamp):new Date;const s=Object(Jf.jid)(t.attrs.from),r=this.getRoomByJid(s.bare()),i={body:t.getChildText("body"),datetime:e,id:t.attrs.id,from:s,direction:s.equals(r.occupantJid)?$w.out:$w.in,delayed:!!t.getChild("delay")},o=new t_;for(const a of this.xmppChatAdapter.plugins)a.afterReceiveMessage(i,t,o);return o.discard||r.addMessage(i),i.delayed||this.message$.next(r),!0}getRoomByJid(t){for(const e of this.rooms$.getValue())if(e.roomJid.equals(t))return e;throw new Error("no room with given jid found: "+t.toString())}}const u_=new Ft("pazznetworkNgxChatService");let h_=(()=>{class t{constructor(t){this.chatService=t,this.messageSent=new fc,this.message=""}ngOnInit(){}onSendMessage(){return this.message.trim().length>0&&(this.room?this.chatService.getPlugin(l_).sendMessage(this.room,this.message):this.chatService.sendMessage(this.contact.jidBare.toString(),this.message),this.message=""),this.messageSent.emit(),!1}focus(){this.chatInput.nativeElement.focus()}}return t.\u0275fac=function(e){return new(e||t)(bo(u_))},t.\u0275cmp=de({type:t,selectors:[["ngx-chat-message-input"]],viewQuery:function(t,e){var n;1&t&&Ec(Ub,!0),2&t&&xc(n=Oc())&&(e.chatInput=n.first)},inputs:{contact:"contact",room:"room"},outputs:{messageSent:"messageSent"},decls:2,vars:2,consts:[["cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5",1,"chat-input",3,"ngModel","placeholder","ngModelChange","keydown.enter"],["chatInput",""]],template:function(t,e){1&t&&(So(0,"textarea",0,1),Io("ngModelChange",(function(t){return e.message=t}))("keydown.enter",(function(){return e.onSendMessage()})),Co()),2&t&&(Lo("placeholder",e.chatService.translations.placeholder),wo("ngModel",e.message))},directives:[Ng,Ju,nh,Xh],styles:["@-webkit-keyframes ngx-chat-message-in{0%{opacity:0;transform:translateX(50px)}to{opacity:1;transform:none}}@keyframes ngx-chat-message-in{0%{opacity:0;transform:translateX(50px)}to{opacity:1;transform:none}}@-webkit-keyframes ngx-chat-message-out{0%{opacity:0;transform:translateX(-50px)}to{opacity:1;transform:none}}@keyframes ngx-chat-message-out{0%{opacity:0;transform:translateX(-50px)}to{opacity:1;transform:none}}*[_ngcontent-%COMP%]{box-sizing:border-box;font-family:Helvetica,Arial,serif;margin:0;padding:0}.chat-input[_ngcontent-%COMP%]{border:none;display:block;font-size:1em;outline:none;overflow-x:hidden;padding:0;resize:none;width:100%}"]}),t})();class d_ extends Kw{constructor(t,e){super(),this.xmppChatAdapter=t,this.serviceDiscoveryPlugin=e,this.supportsBlock$=new Xf("unknown")}onBeforeOnline(){return Yf(this,void 0,void 0,(function*(){const t=yield this.determineSupportForBlock();this.supportsBlock$.next(t),t&&(yield this.requestBlockedJids())}))}determineSupportForBlock(){return Yf(this,void 0,void 0,(function*(){try{return yield this.serviceDiscoveryPlugin.supportsFeature(this.xmppChatAdapter.chatConnectionService.userJid.domain,"urn:xmpp:blocking")}catch(t){return!1}}))}onOffline(){this.supportsBlock$.next("unknown"),this.xmppChatAdapter.blockedContactIds$.next([])}blockJid(t){return this.xmppChatAdapter.chatConnectionService.sendIq(Object(Jf.xml)("iq",{type:"set"},Object(Jf.xml)("block",{xmlns:"urn:xmpp:blocking"},Object(Jf.xml)("item",{jid:t}))))}unblockJid(t){return this.xmppChatAdapter.chatConnectionService.sendIq(Object(Jf.xml)("iq",{type:"set"},Object(Jf.xml)("unblock",{xmlns:"urn:xmpp:blocking"},Object(Jf.xml)("item",{jid:t}))))}requestBlockedJids(){return Yf(this,void 0,void 0,(function*(){const t=(yield this.xmppChatAdapter.chatConnectionService.sendIq(Object(Jf.xml)("iq",{type:"get"},Object(Jf.xml)("blocklist",{xmlns:"urn:xmpp:blocking"})))).getChild("blocklist").getChildren("item").map(t=>t.attrs.jid);this.xmppChatAdapter.blockedContactIds$.next(t)}))}handleStanza(t){var e;const{from:n}=t.attrs;if(n&&n===(null===(e=this.xmppChatAdapter.chatConnectionService.userJid)||void 0===e?void 0:e.bare().toString())){const e=t.getChild("block","urn:xmpp:blocking"),n=t.getChild("unblock","urn:xmpp:blocking"),s=this.xmppChatAdapter.blockedContactIds$.getValue();if(e){const t=e.getChildren("item").map(t=>t.attrs.jid).filter(t=>-1===s.indexOf(t));return this.xmppChatAdapter.blockedContactIds$.next(s.concat(t)),!0}if(n){const t=n.getChildren("item").map(t=>t.attrs.jid);if(0===t.length)this.xmppChatAdapter.blockedContactIds$.next([]);else{const e=s.filter(e=>-1===t.indexOf(e));this.xmppChatAdapter.blockedContactIds$.next(e)}return!0}}return!1}}class p_ extends Kw{static extractIdFromStanza(t){const e=t.getChild("origin-id"),n=t.getChild("stanza-id");return t.attrs.id||e&&e.attrs.id||n&&n.attrs.id}beforeSendMessage(t,e){const n=function(){let t;for(;!t;)t=Math.random().toString(36).substr(2,12);return t}();t.children.push(Object(Jf.xml)("origin-id",{xmlns:"urn:xmpp:sid:0",id:n})),e&&(e.id=n)}afterSendMessage(t,e){t.id=p_.extractIdFromStanza(e)}afterReceiveMessage(t,e){t.id=p_.extractIdFromStanza(e)}}class f_ extends Kw{constructor(t,e,n){super(),this.chatService=t,this.serviceDiscoveryPlugin=e,this.logService=n,this.mamMessageReceived$=new C,this.chatService.state$.pipe(rm(t=>"online"===t)).subscribe(()=>Yf(this,void 0,void 0,(function*(){(yield this.supportsMessageArchiveManagement())&&this.requestNewestMessages()}))),this.mamMessageReceived$.pipe(Em(10)).subscribe(()=>this.chatService.contacts$.next(this.chatService.contacts$.getValue()))}requestNewestMessages(){this.chatService.chatConnectionService.sendIq(Object(Jf.xml)("iq",{type:"set"},Object(Jf.xml)("query",{xmlns:"urn:xmpp:mam:2"},Object(Jf.xml)("set",{xmlns:"http://jabber.org/protocol/rsm"},Object(Jf.xml)("max",{},250),Object(Jf.xml)("before")))))}loadMostRecentUnloadedMessages(t){return Yf(this,void 0,void 0,(function*(){const e=Object(Jf.xml)("iq",{type:"set"},Object(Jf.xml)("query",{xmlns:"urn:xmpp:mam:2"},Object(Jf.xml)("x",{xmlns:"jabber:x:data",type:"submit"},Object(Jf.xml)("field",{var:"FORM_TYPE",type:"hidden"},Object(Jf.xml)("value",{},"urn:xmpp:mam:2")),Object(Jf.xml)("field",{var:"with"},Object(Jf.xml)("value",{},t.jidBare)),t.oldestMessage?Object(Jf.xml)("field",{var:"end"},Object(Jf.xml)("value",{},t.oldestMessage.datetime.toISOString())):void 0),Object(Jf.xml)("set",{xmlns:"http://jabber.org/protocol/rsm"},Object(Jf.xml)("max",{},100),Object(Jf.xml)("before"))));yield this.chatService.chatConnectionService.sendIq(e)}))}loadAllMessages(){return Yf(this,void 0,void 0,(function*(){if(!(yield this.supportsMessageArchiveManagement()))throw new Error("message archive management not suppported");let t=yield this.chatService.chatConnectionService.sendIq(Object(Jf.xml)("iq",{type:"set"},Object(Jf.xml)("query",{xmlns:"urn:xmpp:mam:2"})));for(;"true"!==t.getChild("fin").attrs.complete;){const e=t.getChild("fin").getChild("set").getChildText("last");t=yield this.chatService.chatConnectionService.sendIq(Object(Jf.xml)("iq",{type:"set"},Object(Jf.xml)("query",{xmlns:"urn:xmpp:mam:2"},Object(Jf.xml)("set",{xmlns:"http://jabber.org/protocol/rsm"},Object(Jf.xml)("max",{},250),Object(Jf.xml)("after",{},e)))))}}))}supportsMessageArchiveManagement(){return Yf(this,void 0,void 0,(function*(){const t=yield this.serviceDiscoveryPlugin.supportsFeature(this.chatService.chatConnectionService.userJid.bare().toString(),"urn:xmpp:mam:2");return t||this.logService.info("server doesnt support MAM"),t}))}handleStanza(t){return!!this.isMamMessageStanza(t)&&(this.handleMamMessageStanza(t),!0)}isMamMessageStanza(t){const e=t.getChild("result");return"message"===t.name&&e&&"urn:xmpp:mam:2"===e.attrs.xmlns}handleMamMessageStanza(t){const e=t.getChild("result").getChild("forwarded").getChild("message"),n=this.chatService.chatConnectionService.userJid.bare().equals(Object(Jf.jid)(e.attrs.to).bare()),s=e.getChildText("body");if(s&&s.trim()){const r=this.chatService.getOrCreateContactById(n?e.attrs.from:e.attrs.to),i=new Date(t.getChild("result").getChild("forwarded").getChild("delay").attrs.stamp);r.addMessage({direction:n?$w.in:$w.out,datetime:i,body:s,id:p_.extractIdFromStanza(e),delayed:!0}),this.mamMessageReceived$.next()}}}class m_{constructor(t,e){this.contact=t,this.isCollapsed=e}}let g_=(()=>{class t{constructor(t){this.chatService=t,this.openChats$=new Xf([]),this.openTracks$=new Xf([]),this.chatService.state$.pipe(rm(t=>"disconnected"===t)).subscribe(()=>{this.openChats$.next([])}),this.chatService.contactRequestsReceived$.subscribe(t=>{for(const e of t)this.openChat(e)})}openChatCollapsed(t){if(!this.isChatWithContactOpen(t)){const e=this.openChats$.getValue(),n=[new m_(t,!0)].concat(e);this.openChats$.next(n)}}openChat(t){this.openChatCollapsed(t),this.findChatWindowStateByContact(t).isCollapsed=!1}closeChat(t){const e=this.openChats$.getValue(),n=this.findChatWindowStateIndexByContact(t);if(n>=0){const t=e.slice();t.splice(n,1),this.openChats$.next(t)}}openTrack(t){this.openTracks$.next(this.openTracks$.getValue().concat([t]))}closeTrack(t){this.openTracks$.next(this.openTracks$.getValue().filter(e=>e!==t))}isChatWithContactOpen(t){return this.findChatWindowStateIndexByContact(t)>=0}findChatWindowStateIndexByContact(t){return this.openChats$.getValue().findIndex(e=>e.contact.equalsBareJid(t))}findChatWindowStateByContact(t){return this.openChats$.getValue().find(e=>e.contact.equalsBareJid(t))}}return t.\u0275fac=function(e){return new(e||t)(Wt(u_))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),y_=(()=>{class t{constructor(){this.openChats$=new Xf(new Set),this.chatOpened$=new C,this.contactToOpenMessageListCount=new Map}isChatOpen(t){return this.getOrDefault(t,0)>0}incrementOpenWindowCount(t){const e=this.isChatOpen(t);this.contactToOpenMessageListCount.set(t,this.getOrDefault(t,0)+1);const n=this.openChats$.getValue();n.add(t),this.openChats$.next(n),e||this.chatOpened$.next(t)}decrementOpenWindowCount(t){const e=this.getOrDefault(t,0)-1;if(e<=0){this.contactToOpenMessageListCount.set(t,0);const e=this.openChats$.getValue();e.delete(t),this.openChats$.next(e)}else this.contactToOpenMessageListCount.set(t,e)}getOrDefault(t,e){return this.contactToOpenMessageListCount.get(t)||e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const v_=new Ft("ReportUserService"),b_=/(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim;function w_(t){return t.match(b_)||[]}class __ extends Kw{constructor(t,e,n,s,r){super(),this.publishSubscribePlugin=t,this.xmppChatAdapter=e,this.chatMessageListRegistry=n,this.logService=s,this.entityTimePlugin=r,this.jidToMessageStateDate={},this.chatMessageListRegistry.openChats$.pipe(rm(()=>"online"===e.state$.getValue())).subscribe(t=>{t.forEach(t=>Yf(this,void 0,void 0,(function*(){t.mostRecentMessageReceived&&(yield this.sendMessageStateNotification(t.jidBare,t.mostRecentMessageReceived.id,Hw.RECIPIENT_SEEN))})))}),this.publishSubscribePlugin.publish$.subscribe(t=>this.handlePubSubEvent(t))}onBeforeOnline(){return Yf(this,void 0,void 0,(function*(){this.parseContactMessageStates().catch(t=>this.logService.error("error parsing contact message states",t))}))}parseContactMessageStates(){return Yf(this,void 0,void 0,(function*(){const t=yield this.publishSubscribePlugin.retrieveNodeItems("ngxchat:contactmessagestates");this.processPubSub(t)}))}processPubSub(t){const e={};if(1===t.length)for(const n of t[0].getChild("entries").getChildren("contact-message-state")){const{lastRecipientReceived:t,lastRecipientSeen:s,lastSent:r,jid:i}=n.attrs;e[i]={lastRecipientSeen:new Date(+s||0),lastRecipientReceived:new Date(+t||0),lastSent:new Date(+r||0)}}this.jidToMessageStateDate=e}persistContactMessageStates(){return Yf(this,void 0,void 0,(function*(){const t=Object(Jf.xml)("entries");for(const e in this.jidToMessageStateDate)if(this.jidToMessageStateDate.hasOwnProperty(e)){const n=this.jidToMessageStateDate[e];t.c("contact-message-state",{jid:e,lastRecipientReceived:n.lastRecipientReceived.getTime(),lastRecipientSeen:n.lastRecipientSeen.getTime(),lastSent:n.lastSent.getTime()})}yield this.publishSubscribePlugin.storePrivatePayloadPersistent("ngxchat:contactmessagestates","current",t)}))}onOffline(){this.jidToMessageStateDate={}}beforeSendMessage(t,e){const{type:n}=t.attrs;"chat"===n&&e&&(e.state=Hw.SENDING)}afterSendMessage(t,e){return Yf(this,void 0,void 0,(function*(){const{type:n,to:s}=e.attrs;"chat"===n&&(this.updateContactMessageState(Object(Jf.jid)(s).bare().toString(),Hw.SENT,new Date(yield this.entityTimePlugin.getNow())),delete t.state)}))}afterReceiveMessage(t,e,n){e.getChild("message-state","ngxchat:contactmessagestates")?n.discard=!0:t.direction===$w.in&&"groupchat"!==e.attrs.type&&this.acknowledgeReceivedMessage(e)}acknowledgeReceivedMessage(t){const{from:e}=t.attrs,n=this.chatMessageListRegistry.isChatOpen(this.xmppChatAdapter.getOrCreateContactById(e))?Hw.RECIPIENT_SEEN:Hw.RECIPIENT_RECEIVED,s=p_.extractIdFromStanza(t);this.sendMessageStateNotification(Object(Jf.jid)(e),s,n).catch(t=>this.logService.error("error sending state notification",t))}sendMessageStateNotification(t,e,n){return Yf(this,void 0,void 0,(function*(){const s=Object(Jf.xml)("message",{to:t.bare().toString(),from:this.xmppChatAdapter.chatConnectionService.userJid.toString(),type:"chat"},Object(Jf.xml)("message-state",{xmlns:"ngxchat:contactmessagestates",messageId:e,date:new Date(yield this.entityTimePlugin.getNow()).toISOString(),state:n}));yield this.xmppChatAdapter.chatConnectionService.send(s)}))}handleStanza(t){const{type:e,from:n}=t.attrs,s=t.getChild("message-state","ngxchat:contactmessagestates");if("chat"===e&&s)return this.handleStateNotificationStanza(s,n),!0}handleStateNotificationStanza(t,e){const{state:n,date:s}=t.attrs,r=this.xmppChatAdapter.getOrCreateContactById(e),i=new Date(s);this.updateContactMessageState(r.jidBare.toString(),n,i)}updateContactMessageState(t,e,n){const s=this.getContactMessageState(t);let r=!1;e===Hw.RECIPIENT_RECEIVED&&s.lastRecipientReceived<n?(s.lastRecipientReceived=n,r=!0):e===Hw.RECIPIENT_SEEN&&s.lastRecipientSeen<n?(s.lastRecipientReceived=n,s.lastRecipientSeen=n,r=!0):e===Hw.SENT&&s.lastSent<n&&(s.lastSent=n,r=!0),r&&this.persistContactMessageStates().catch(t=>this.logService.error("error persisting contact message states",t))}getContactMessageState(t){return this.jidToMessageStateDate[t]||(this.jidToMessageStateDate[t]={lastRecipientReceived:new Date(0),lastRecipientSeen:new Date(0),lastSent:new Date(0)}),this.jidToMessageStateDate[t]}handlePubSubEvent(t){const e=t.getChild("items"),n=e&&e.attrs.node,s=e&&e.getChildren("item");"ngxchat:contactmessagestates"===n&&s&&this.processPubSub(s)}}const S_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAoAAAAKACAIAAACDr150AAA63klEQVR42u3d61oa2Rbu8dz/PewP+4MgQlEHjiIoAVQQEREkgAiIHOrsvoQ9q9B00un0SiceiuK/nt+Tp1c6h46Behlzjjnmp8VqDQAA3tknvgQAABDAAAAQwAAAgAAGAIAABgAABDAAAAQwAAAggAEAIIABAAABDAAAAQwAAAEMAAAIYAAACGAAAEAAAwBAAAMAAAIYAAACGAAAEMAAABDAAAAQwAAAgAAGAIAABgAABDAAAAQwAAAggAEAIIABAAABDAAAAQwAAAEMAAAIYAAACGAAAEAAAwBAAAMAAAIYAAACGAAAEMAAABDAAAAQwAAAgAAGAIAABgAABDAAAAQwAAAggAEAIIABAAABDAAAAQwAAAEMAAAIYAAACGAAAEAAAwBAAAMAAAIYAAACGAAAEMAAABDAAAAQwAAAgAAGAIAABgAABDAAAAQwAAAggAEAIIABAAABDAAAAQwAAAEMAAAIYAAACGAAAEAAAwBAAAMAAAIYAAACGAAAEMAAABDAAAAQwAAAgAAGAIAABgAABDAAAAQwAAAggAEAIIABAAABDAAAAQwAAAHMVwEAAAIYAAACGAAAEMAAABDAAACAAAYAgAAGAAAEMAAABDAAACCAAQAggAEAIIABAAABDAAAAQwAAAhgAAAIYAAAQAADAEAAAwAAAhgAAAIYAAACGAAAEMAAABDAAACAAAYAgAAGAAAEMAAABDAAACCAAQAggAEAIIABAAABDAAAAQwAAAhgAAAIYAAAQAADAEAAAwAAAhgAAAIYAAACGAAAEMAAABDAAACAAAYAgAAGAAAEMBAyc2Gx/C/4ogEEMIBfTNlvEnTzPcv1eqUba8PQTcuwbNN2LJ/9Tzb/SvwY07LFj18bpvi5ws9+cQAEMLDTifvo/7NISpGaIj5tR/zPtRzHsESIGsvV+uFxOZ7OBqPx7WDY/TK46fXb3durTrfZ7lxcXYtvW51u+6Z33et3+4PeYNgf3d1NprP5QvyyXngbpmmLgHYFkdDeL/sSzJTLAAEM7FDifh+3XtbqpjlfrkRq9r4Mm1fXlfPG4fHn9GFJzh4mtOyBkorJqaikRBLyXkLZk55FXnz9HvFvxY+JSup+Uj1Q0olUWsnkU4VivlQ+qZ01Wu2bfn90P3lYLEUwi1QWSS++Ef8l3+Yxf00AAQyELXQ3lajluCL/prMHEbdnl1fFk6qaO4yrGZGakYSfqUl1X9ZE7ia0jJBM5zaU7OGvkF9+/Oane/mtpLxf3E/o/aT3K4tgzh+Xa/ULUTffTWbLlW56pbcrviWMAQIY2O7cfVyuvNC1bNsVoWs/rtaD0bh+eXV4XBb5F5M1Ua1G/Go17iXl3yP2a+7+uR9/WRHMoqoWSS/qZvEfIKWzueKxyOPeYCj+y03L+lsY8xcKEMBA0HN3U+x6jVHu02qtb0I3XyonUtmov2IsqttNXSti+NWz9r+k8l+/u5fHipfH4jOBqMUzR89hvFiuRL1uu94y9XNZzN8yQAADQctd3TREVonEmi9WN/3+cfU0mcn5e7eKKDefQ/fjEvd/5LH/aUDO5BPp3MFLGCfUTKFcubrpzeYLb8fadb8mMX/pAAEMBGCd2Ra56zw8Llud7uFxWRSREW+3Vf0mdPMBDN2fhrH/3+yFsebtTO9JyoGsibK40WpPpg9+Enur048kMUAAAx9S8m6aqpa6ftMfFMpVUTj6W6reCrPsF5RbFLr/sn8s/izJTVnsf6rIFY/F54yHxVJ85vD3idfz5YqXBEAAA29rU/KKElBkz/BuXD6rS+ncJplESoUmd38kZ3KbP9rmc4ao8oufq70vw7X31XjSRUG8XD0ueYUABDDwyrnrRa/u9Qe7q7Xe7t6mj0pR6XmdWeTupkzcBZs/bCKV889NyXL2sNFqzxfLrzvEjxTEAAEMvErJK9JXRIuo86bz+WmzJUIoIimiENys0O5I7v5j35ZI4gMts+mdLtfORvdT0/ZGZhLDAAEMvEr0OuPp7Lh66h/e/Vry5nY2en+siaVU1psfklTzpXJ/eGf6c76IYYAABn5nwdnvbXZHk2npc23fTxfJDxsS92cxLL7dV7ypmbnicW8wNCyvS21JDAMEMPCLha+/1+uM7ieFcnUTvUmi99d3iJ9bpuX0Yan75YthedUwLVoAAQz8W/R6Pb2OO53NS5XapseK6P29lmlve9iP4ezR8WA0Fl9V8bGGUhgggIG/R+9yrdvu02K5qtYvYrJG9L5CDPtfwM2idPFzdTJ7EDG89g8s8ZIDAcxXAXje7tVN8+LqOpHKRiRVSmWJ3lfeG06qsaRaPW+Ir7btuuLjDjEMAhjY7e1ewxSF72B0p+ULe5Ky6XAmNd+qUzohJ7Ts1U1PfOIxWJEGAQzsJn/N2RUZcFI7i/rneoned4hh8REn4rVJn4ynM8efakIMgwAGdqrP2RRFWLvb824JTKqyv2FJQL5bDO/LqZisnTaaa/8qCzIYBDCwE+lrOe7scZkvlffiSdacP3JFWlLU7OHwbuI8sSsMAhgI9ykjwxTpe929jWupfVH4Er0fHcMHajqaVE+bLcOyDYtdYRDAQCgLX9t5XK1LlVokocQpfANzVEmUwnsJJV0ojacPjuOVwrxcQQAD4em3Ek/228FISvs7vkRv8ErhmOLtCjfbHctx14ZJKQwCGAjDsrNpu+fNVtS7xTZN+gZ5V3jPG9lR8/7ObJsMBgEMbHH6mv6y82GpvJeQxfOdnAt+DEeSqpo9HE9mNsvRIICBbV12dt3h/UTyxzBR+G5TZ5a/HN3u9mz3ie5oEMDA9hS+z0M2ni6vuyJ6WXbe0s6sSEKunNVNy2JLGAQwsEWbvk61fhHxl52ZsLG9pfBeQsmXyqu1blpsCYMABoKdvoYpCiajUK6IZzeFbwgyOJpU1dzh7GFhMTALBDAQ5Jarh8UylS9y1ihUJ5TkVFzNDMdjy3HJYBDAQODS13ac8WSW0LL7skb6hiyD42o6klSve7eO8//IYBDAQKDS1xUV0oGSOqDlKtSzo1udruNyPAkEMBCM9HXcp9vBKCbT8Bxym9boRqu9OZ7Eix8EMPCh6eu4N71+VFJpeN6RDN5LKKeNJmM6QAADH5y+Vze9SEJhytVuHU+KJytnDYsMBgEMfEz6Prntbi/CjMkdzWC5ci4ymLVoEMDAe+/7ute926hE7bvDGSwptfqFvx/MmwIEMPBe6du9HZC+ZLDIYG8/2H3ifQECGHjz9LUct/dluOm6IoR2PYP9nqyzi0vHfeJ8MAhg4C3P+9rOl/F4P0n64tuR0fLF1bXDnCwQwMAbpa9pO5PZQ1xJeed9yR58fz640+/b1MEggIFXT1/DtObLlZzJxZQU0zbwYwbvJ9XheGxzZwMIYOD10ne9Nsy1YaTyxf0kc57xz1cIx9V0XEndzx64uxAEMPA6lmvdsK3D43KEO47w7/cmKalkJj9frnTTIoNBAAN/3HjlPlXOG5GETPrif2bwflLLHh0bls2ADhDAwJ8e+W17wyZJX/xqBkcSSvmsTkMWCGDgj9qeR/dTDh3hNw4meRcXcjAJBDDwG+nrb+OtpXTugLZn/GZT9MSkKRoEMPBfG69My8oVT/ZpvMJvFcFxNS2ls15DlmGSwSCAgV/e+nXc00ZzL6GQvviDhiw1XyqLIpiGLBDAwC+lr2U7/eEddy3gVW4tbLTazhMNWSCAgX9P35U3c0N8K6WzzJvEq2wGR5Pq8I7NYBDAwP/a+rUct1CusPWL1yqCD9R0MpNfrXXx2Y63GAhg4Kdbv812Z09i6xevmcGiCD6u1GxOJYEABv4pfb2+58lsHpM1tn7xBtM5/OuSHBaiQQADP547sh3v3JHMdQt4fXE1k9Cyi9WKhWgQwMB3i8+2y+Iz3rgITqqlSk280iiCQQADz53PumnN5vMDJcXiM956Ibp7O+DOYBDAwF+Lz/lSmcVnvMNCtJTOLr3TbgZvPRDA2PnFZ8e774ihV3inIlhSy7Uz7koCAYxdt9INUY5IWjahZYgHvMtojtx+Uh3dT0zbIoNBAGOHD/66bvW8IYoSyl+8UxGczsWUVPbo2LCYEQ0CGLt68Nc0rbvJjOt+8QEzoiWlfdNjNAcIYOxm79Xa670qnuxz3S/eXULLSJrXjbXS6cYCAYwdW3y2bOe6148kZNIXH9SNpVTPLxyKYBDA2LWjR2vdULOH3qB88gAfdFFSTNam87luWrwlQQBjZ44euW6LuVf46CJ4P6keV085kgQCGDt09Gi11iV/H44YwEcWwWnvSNLdZGqaHEkCAYxdOHrkuPXLqwjlL4JRBBfKFctxFysCGAQwwl7+zpcr/2oayl8E47ZgSRmM7kwGRIMARujL31qjSfmLABXBSipfOjFtm3coCGCEufxdLFcJyl8EsQgeUwSDAAa7v8DH7AQTwCCAEc7yd6nT/IyA8m5ooB0aBDDCefbXcZuc/UWAi+BShTPBIIARxvJ3rRtKNk/5i8CKydpk+sBgLBDACI/5Ymn7k5/3EpS/CPB06KRaOW8wHRoEMELFtJ1c8fjAu/iIZz2Ce0VSQssuuCIJBDBCUv4uV6Zpje6n+0mVRzyCf09wq9OxHWdOEQwCGGFov3Ldk1o9klQV1p8RbAdKKpUvGqbJOxcEMMLQfjVfMHsS21IE5yKS2h96kykpgkEAY7vXn23Hvbi65vQRtug80tHnqu0wFQsEMLacYdmpfPFASfFwxxYtRM8eF5xHAgGM7T19tDJtazieRJMaz3RsVytWs+23Yi2WvJFBAGMr268cx62eN2i/wjYFsF8BZ49KpkUFDAIYW9t+tVqbSYY/YztHQ99NZrppzZe8l0EAY9umX1m20/syjCRk2q+wXRR/KtZpo8lULBDA2M7jv45z9LkmKgkle8gzHVs3FUvNHq51Y8XbGQQwtm79ebFcxdU068/YUlFJGYz8A8G0YoEAxnatP9/0B9y+gG1dhc4eRpJqtX7hOC4TOUAAY6vWn13nuHrK+jO2+jSwlivojKUEAYxt63/WJfqfEYZe6Knh9UJTBIMAxjasP5u20x+OIgmV9Wds9yq0pNQvr2xWoUEAYzsC2J+/UTnzrz/KEsDY7okc6aOSwUQOEMDYjvXn1XqtG2r2kPVnhEBM1qazOXOhQQAj+OXvWjyqxtPZflLl2Y0QTOTYk5R299bmMBIIYAR/A1g8qlrtjnhs0f+MEGwDi4+Sx9VT2+V6YBDACPoBpLU/AKvKASSEZiSWeCWvDWOl8wYHAYzAH0DiAgaE7zCSdzHDgvc4CGAEdf3ZsGwuAEbIVqG5HhgEMLZhA9hxG612hA1ghGsb+OikajnOI29zEMAILPGQKpQ/7yc1Ahih2gbO5P1tYIP3OAhgBHQDWDykxKOKDWCE7zTwZPrgbQPzTgcBjAASjyfxkBKPKp7XCN9p4Jte3+I0MAhgBHMD2LuCsNf3TgAzAhrhu5rwvOFdTUgAgwBGAANYPJ6q9YsIJ4ARtgrYGwqdK56YtsM7HQQwgkg8nsRDSjyqxAOLpzZC1oeV0LJLv9GBdzoIYASuA0s8niQtSwcWwjqOY3Q/8e4GZhUaBDACtP68er6DISaneFIjrOM4rrmVAQQwgtmB1f0y2EvQgYXQ9mGdNpr0YYEABjOwgPedhyVrhbI3D4v3OwhgBCyA3afjyimXICGs4mpayxV00+T9DgIYwWJYVvqodKCwB4zQNkLH1cx8saIRGgQwgtYCrdMCjbA3Qms0QoMARrDopjmZMYQSYW+ETiidPgMpQQAjSBvApmUPRuOopPCYRpgboSXl4uqai4FBACNYZ5CuN1Og6cBCqE8iVZgIDQIYnEEC3vskUlIrnlS9Cpg3PghgBCSARU1QOatzDQNCTE57VzJkjkqGZfGuBwGMoLAct1Cu7MsaAYxwn0RSMvm1YXASCQQwgnQI+JBDwAh9AOf8o8BLAhgEMAJhudbXuiFn8xwCRujFZG0ye9BNVqFBACMgUzh0PcEUDjCLAyCA8c4B/LBYxtWMxAMaIW+EzkcSan84MpnFAQIYwRiDZTEGC7tzK/ANw7BAACMgZ5AM0xrdT/eTBDB2IoBbna5NAIMARhAC2LTt/vAuIqlKhmc0wj+Nsn55ZTMMCwQwghDAlu10v3zZSzAGCzsxjbJWv2AaJQhgBCWAGQSNHRoHfcY4aBDACEYA27bT7vYIYOxCAEeTarlWJ4BBACMoAXzV6RLA2JEAPq6eOi4BDAIYwQjgZrvDVUjYjQuR1FKlZrtPBDAIYAQggB3n4uqaAMaOBPDRZxHAHEMCAYxABDCXAWNnAljWiuWqxZXAIIARkACuX14RwNiRAD48/iwCmPc+CGAEI4CpgLEzAVzwK2De+yCAwR4w8J57wNrR5yp7wCCAQRc0QBc0CGDscAC3OAcMzgEDBDA+YBLWDZOwsCsBfFI7YxIWCGAEIoD9WdC3BDB2JIArZ4yiBAGMwARwp9/nNiTsyGUM1XMuYwABjGAEsGk7/eEoklCVbJ5nNMJ+H7DKfcAggBGUADZMa3Q/2U9qPKCxAwGsNNsd2+YYEghgBIBuWpPpQ0wmgBH+AN6TlOte3yKAQQAjCNa68fC4jCspHtAIfwWckG8HI5MABgGMIFjpxnK1TmjZhJbhGY1wiya14XhiWDYBDAIYgQjgtWEomTwBjNCLyanxdKabFrchgQBGMLaBDTOVLx4oaR7QCLcDJfXwuBCfOHnXgwBGIFi2fXhcjskaR4ERYgktI6Vz4gPnSieAQQAjGCeRHMc9qZ1FkyoBjFCXv+l0oWhYNu96EMAISgB7VwJfXkUkAhihvwy4Yjku73oQwAhMANtOu8t9DAj/IOgyg6BBACNQAWzadn94502jzDCNEmEeg9VotZlDCQIYgQlgfxjWeDqLycziQNjHYHVvGYMFAhjBOgq8WK4SapqjwAjzFA5JGYzGTOEAAYyAHQU2/aPAKkeBEe5DwEsOAYMARpBWoZcr23GOPlf3OYmE8B4CVrOHIn2XvOVBACNoJ5HOm60IAYyQbgDHZO3wuGzZHAIGAYyABbBlOze9PieRENoW6KRaPW9wBgkEMAIXwIZpjSbT/aTKwxphbYG+uunatECDAEYwG6HjNEKDFmiAAMY7MywrXSgdKJwGRgg7sOJqZr5YcQ0DCGAEcRXacdxyrc6VDAjlASTx4ZJrGEAAI6iN0LZzdcNEaIR0CnTtjA4sEMAIbh/WHX1YCG0HVo8OLBDACG4f1nKlS/6GGU9thIn4WHl3PxUfMQlgEMAIKNO286WTmJLiWiSEqQNLfKxcblr9eZuDAEZg52GdNpoRiXsJEZb150xefKDMl8omM7BAACPIAWzaTn84EgEsE8AI0TXA9csrrgEGAYzAj+NYrRKpLNvACNMIjuF4YjKCAwQwAs6y3XypHJNTSpYiGGHYABbfrtY6G8AggLEF28CNVjvinQYmgLH168/7SbVYrtqO88gbHAQwgn4a2LKH40k0qfH4RjhOADfbHRHArD+DAMYWbAOv1pwGRohOAE+mumnNl7y7QQAj2B6XK9t2SpXaPkOhsf0joLVcQTdN3tcggLEl28C2c9Pv7yUUDiNhuw8gJdVa/cIbAb1c8dYGAYztWIWee3cDZ1iFRgjuADZtDiCBAMYWHUZy3EK5wio0tvsAUia/NgwOIIEAxpatQm+uJmQVGtt7BeFJ7cxxWX8GAYytopvW7HFxoKR4lGMbiQ+OkYTc+zI0uYIQBDC2jn8zUnmfm5GwxTcgMQALBDC2cxW6zSo0trb/uXxWdxz3kfVnEMDY0l7ohJqR6IXGtvY/s/4MAhhbOpHDfdpM5JDphQbzNwACGO+2Ci0KiNvBKJKQWYXG9qw/5yOSct68ZP0ZBDC22FI31oahZPJM5MBWzX/WJtMHb/4z72IQwNjeVWhRRtQazYikUgRjK04f7SupfOnEtG3evyCAsfUHgiezh5jM7YTYluO/Sqc/sGm/AgGMEPDHUla9ViyKYAT++K/C+EkQwAhbKxar0Ah++SspZxeXNtcfgQBGiBaiTS1fYDIlgkxK5Q6U9Gy+0E2L9ywIYITlQLDjNtsdpmIh0O1XSbVUqdmOw+kjEMAI1VSsx+U6oWU5j4TABnBUUr5spl8RwCCAEbLzSKfeeSSKYAQxfQ+eTx85vFtBACN028C68bBYxtWUlMryxEfwTh+pt4ORCGDWn0EAI5xFcPW8EeE8EgKVvv7w5/RRybTpvQIBjPAO5ZjO5zFZk1I89xGs4Rvd/oDyFwQwQt0O7T4dV08ZyoFA3X2Uyhd0016ueZOCAEaoi+DNZEp2ghGc8vem16f8BQGMXSiC3fJZPUoRjGCUv+lCybBE+avz9gQBjNAXwebD41I8+CiCEYDZkzQ/gwAGZ4KBD7h5sGxx8yAIYOyOzVUziRSDsfCB8lFJHY4nlL8ggLFjO8GO22i19xIUwfiwyc9Hn6tMfgYBjJ2zXOu6aam5wwMlTR7g3S8+ysaU9HQ+5+IjEMDYxSLYvyd4GEnQDo33P3oknzdbjuNS/oIAxk5m8GptOW7xc5W5HHhPcTWtZPJrw9j0IgAEMHZ0Lsd0Pj9gLgfet/zt3g5seq9AAIMjSWcXLfFMpAjGu/ReaYfHZcvh6BEIYNCNtdbXpuF1Y6l0Y+Hte69k7X72QO8VCGDguRtrOB5HJYWFaLxp+bsXVy6urum9AgEMfHMs2HWr5xfMxsLbpW9MSWWPjg3LYuwzCGDgLyvdWBuGkj2MsxCNN1t8Hk8fDNOi/AUBDPx9Ibo/vIuwEI23WHxOKI1Wm8VnEMDATxeiK+eNCPMp8bqLz0k1e8SdgyCAgX/tiNZNM5UvxpQUGYzXWnw+8KdOsvgMAhj4tyLYsKzJ9CHGaA683tiN696tzeIzCGDgf4/mcN1Wp8tFSXiF9JXUk+qZ7T6RviCAgV/I4LW+mREdZUY0/iB9D5SUmj1cG16DPW8rEMDAL1kb5mqtK/4zlAzG7239ig9wd5OpadmUvyCAgf9yKsmyxdOTzWD89tZvu3tru2z9ggAGfudU0tN1r889DfiNU7/V8wZbvyCAgT9qyKrVm3uMqMR/uO9IzRVPTNvh1C8IYOCPTgaLJ+nhcXmfhiz8WuOVlM49+ldNU/6CAAb+qAheG6aIYTl7GJNpyMK/iavewGcar0AAA684ncOePS4SqfSBmiaD8dO2Z0npDYbM3AABDLxmBlu2M7r3mqJFlUPY4B/bnq86XeeJxisQwMAbNEWL+ibKdUn4se1ZUs4vWg6HjkAAA2/WFP0kqhxR6yRZiMY3te9J7cxyXdqeQQADb1oHu41W25sUTR1M+vrpW/xc5dARCGDg7flr0efNlnc4mAze9bsWlEK5Ylj22jB5a4AABt6DyODTBgM6dv2mo8PjMukLAhh45wEdXgbX6hd7cQZV7mL6RiU1VzrRTZP0BQEMvH8Ge7cWVs8be/EkGbxrK8+54nP6PvJeAAEMfEgG24572mztJTibtEPpe3hceU7fJe8CEMDAx2Ww4z41Wu1IQiaDd+CaI7lUqRm246cvR35BAAMfXge7bqvTjfgzOmSyKqzpG1fKZ3XL8U4csfIMAhgIyvlg58n1Lg+W1DjzosM451nUvrVG03KYtgECGAhgBjvuYDSOq5mYwr1J4Sl8xSeqqKQ02x3bfSJ9QQADAc1gy3am87maPeT+4NDc73sgp28HI4c7jkAAAwHPYNOyRZ2UL51EEhwR3u70FZ+ikpncePrADYMggIHtyOC1YRqWXa7V9+JJWqO3dsizkjk69j5R2TbpCwIY2JoM9lujn1qdrqiiDhTasrYpesVnpkhCrpw3xKconeNGIICBLT0iPLqfKpl8lC3hLUnfmJKKKenrbn/TckX6ggAGtnZL2LaXul4oV/fi/ilhYjjYU660XGEye7DY9AUBDIRjS9iyvVuE/eVoTigF8qyRlokk5JPq2Vr3/rZIXxDAQIiWox337n4qCiy/O5rOrGB1OyfUzE3fW3ZeGwbpCwIYCN9ytKObVvX8IiopDMwKSL/VXlwpHFceFkuWnUEAA2HO4NXasF23PxwlM7lIQmVX+GML3wNZa3W6InrpdgYBDOxEDNu2s1jrlbN6VGJX+MN2fA+PK9P53Ga8MwhgYLdKYd1wXHc4nqQKxb24TCn8jmd8VSmdven1vcLXtCh8QQADO7orbFj2xdW1qIMjSXUTEiTl253xjSbVylljuVrbrrP0/gp4HYIABnY1gzcN0rPHx1LlVMRDLMmK9JvcqRBJyLmj4+H9ve26a51WZxDAAPwY1k3Ltp3h/STn3+LAxvBrRW9Cy+wlZDV32OkPTNsxLdacAQIY+HFF2nRESHS/DLRcYS+uxLUMMfwn0RuRFEnLNq874vONZTvL9Zr0BQhg4Ccr0qu1f1zYvOp01eyhiOEDTgz/VvQmUtnz5uXjcm07THUGCGDglzeGbceb2tG+6amiGpaUzaI0SfyLVW/98mqxXFmOu2K7FyCAgd84qmT7w7Ouu7epfDGSkPeVlEgahRj+PnfFt16blYjedK7Rai9Xa4foBQhg4BWqYX9RuvdleHhc3k+qkaSa8LeHZc71pnPiCxKVlHShdHXTW3grB0QvQAADrxnD3t6w5bjj6axy3kho2ai/Lu0VxNndKoiV7OFzyZsQXwGtVKn1R2PDssXHFKIXIICB1zdfLMW33oElx12sVq1OJ3NU8grihF8Qi4rQT6YQ5+5ml3dT8qq5wtnFpTdL0n0ybcv7+hC9AAEMvGU1/LI97HpnlsaT2WmjqeYORSbt+0vTX2vE8OWuKHklLVuu1QejsW6KP/3zLMn5gugFCGDg3Qtix3HXptUf3p3UzpKZvEhiURO/rE4fbmMYK9n85j/b62r2cldOpLJHn6udfn+p67briuyl5AUIYOBDY3hTEPunh0VFuDYMUR2e1i+0fHFTMu4nta9lcZDDWMn8Fboxf39XfJIQSSzq3d6XofiTWuIP+LLLu/nwAYAABgJREG+Wpk0RU45rWPZ4Oru4ui6UKyLVopIW+XaN2k+7j83jb/8bnkNXUqOSmlAz+dLJ2cXlcDwRnyfEpwpzk7svRT8AAhgIaBJ/067lNU6LfxzdT/wwriYzuZisifoyklS/Fsdf62N/w/WttnKf+cd2nxM3qe49fyzIitCtX1z2h3cL/5IoL3ctm3oXIICBrVyd3kSXiDHD2oSxs1obk9lDtz84b7ZEcSxn8wdKOiopIgj9SPY2j0U6fhPM+b+y87/Y/PSEn7Xi19wcX97z96fFJwApnROJW61fXHdv7yZTfwCn/bXY/fZjBAACGAhDWSziTVTGmxJTFMdr3Zg9LAajsQjCs2bruFLLFU/kTD6upkUwb844eam54YeoEPXtv/zD1++PSIKf5QlZlNciaONqJpnKpY9KR59rtUbzqtPtD0fiE4BXn/tL5eIbw7QIXYAABnYgjL/LY31tmJspFiKS/TO1ztowFsvVdD4fTab94d1Nr99sd+qXV6fNVq1+UTlvlGv14+ppqVIT35ZrZ+J7xPefNppnl1cXV9ciy28Ho9H9RASt+F1Eze3V366ziVv/qonvEpfQBQhgYKfr469ZuFzrXqEsgtmrle1N+7EXz45I0Reul9bi26/fs/kBtv+DTb+u3QTtS9auiFuAAAbwn4P5N/AFBAhgAABAAAMAQAADAEAAA/jgnd1/+YnLTX+W36L1bK0vff/62/3r78jfCEAAA6EM16//SuTl2vAOAXu9zZbt3S783N7sfG1vtt0ny5uG4f1bw7J8tm6aPkv8dGFlGH4G+0nsf89a/Mpez7P/wwz7+Sf6p43Fb2R754++a5O2fOJ3ET/M/2XNr83S//5HAEAAAwEK2m/y9ZuDQy+xanlzoUXIWcuV/vC4mEwfRvfTwWh8Oxjd9PpXN72Lq+vzi8tq/eKkdlaq1A6PK/nSSa54kjk6Th+V0oVSKl/UcgU1d6huBklmcpI33yorvk2mvJHOcjYv/q34MVq+mCoUxU/JHh1nisfiF8kfl4ufqyfV08p547TRbLTarU73unvb/TLsD+9G48l4OpvOn08L697HAts73fQS1ZvPAd8fZ/o2m3klAAQw8I5Bq/sl7NezuSK0ROkpImw2X9x9HZ1xdS0CT2RqoVwRcSiyU0TmgZKKydrmQvtIQt7bTK3yPM+3Ev9qX9ZiSurgL+kDNR33ZDYjKv9RXFAz3vwsb4TW88+Neb9daj+p/TUty/8dPQnvN/WnZXm/RUJNiyBPFY7ypbL4EFA9b4iobt/0eoPhcOwP9PAT2h/o8fS3gR4/BjMvG4AABn43bv2bbr0Zzi9jI/1LcJ+DVgRSf3TX7t7WL69ExIoqU1Sffr5+Pzxyk6myJrIw/s1457/fjvCjjHclg/wHVy+Inyt+Bf++o5+Pkv7m1odNim8ye/+bqP52pKX41URRXvJHWooyWlTw4tOG+Fp5wWz+FcyGZa9FKq+YtAUQwMDP4vb76cebuH0ZCSnKO1OEi8iYbn/gBW31JWhTWRFIUWmTsl7NKorITXn60+sTgnoH8L9dmvS3Sx20Hy91ENmsPgdz8VjUzd6s6ZveYDR+eFyIVP46a1r8w2abmUgGCGCQuH9dirDZphVxK6re0f3kutc/bbaKn6upfDGRyvgVrbK5yvfboJW/y6p8cnsiNvlnhfXfsvnH25aiknKgpMXXRHxeqZw1Wt71D3ez+SaSna9VMnkMAhjYxcQVNdlqrY+ns5t+/7TRLJQrorQV4bqf1L65FjC9ydodDNr/HMyZ3A8Vc0Z8Xnmulf1ITmbyueJJuXYmInk4noiPO94VFC55DAIYCNk+7nK18q7c86/h/TZxe/1avZkvlUVIeAmR8OPW2+P8e9wSq3+8mv28FC9nXiJZSUVfqmTxcSddODrx8rgzHI//JY95SYMABoIeut/t47repX6T6cO1l7gXInGldG5fJK5f4IrofY7bTJ64fb9I/uar/XXh+rs8rp412yKPJ8vV2m8zF5+cHMIYBDAQ3ND1M9fbyhVl7uh+2mp3SpWamj2Myc9LyqL2+j5xWUwOUM/Xj3mc0LL50sl5s3U7HIm/ZcOy/GUMvzNutX5cEsYggIGP2NN93ITuc4Vki+8fjMaNVrtQrohH+eYhLr79LnEzJO6W5bH4zOQdj054jdbZo+Pq+UW3P5g9LnTzuTIWLwEqYxDAwJsXu4/+wVz9+ZiQs1zpg9HdafMyVzxJpLJRadOorH27j0uebf96dV7O5BPpnCiOI347+oGSTuWL5Vr9ptcXYbw5ou1t8OvG4yaMeb+AAAb+OHRXf60w+89Z3TQnDw+tTrdYrkrpnD9M6pu1ZUI3xGHs//3K/jLG85Enr7M6lTk6Pm9eDkZj8YHMm/3pD+fy16hXlMUggIHfyN2XYtd1LccW/7f75UvlrKHlCn9fXmY3d1dXqr+GsfgQJj6KiQ9kxc9V8eFMfEQTH9S+dm+RxCCAgV9aZF6t1qbttdsYln03mTVa7VzpJK5mIgk54h3MTVHp4sfzx5s9468fzrR8QXxcux0Ml7puu0/2N33UvNFAAAPf5+7LIvPaMIbjyWmjKZ6hmxFUmxVm2W+kIm/wKw1cLxvGsiiLjyu1m35/vlxZm/GiL31bvPVAAIPcdUSNslrr/eGoct5QsvnNzu5LsZtnhRm/vUa9KYvFx7i4mimUq+2b3sPj0nwe9G2RxCCAsWP7u9/k7uNq3f0yOKmeiifm5j6++MvOLhGC109iv28rVzpptjvT2dx/EYqamNVpEMAIe8krvjX9cQprw7gdjI6rpwktK6qTTUeVTO7iXfq2YkpqT1JispYrHrc63YfFUrwo6dgCAYxw5q7Xz+z3VY3uJ9XzCyWT39xkx+YuPuZ48UsH9Z5fExfK1ZvewDvI5Pq90+J1u1xtLoQGCGBs6xav7Xq1xWT2UL+8SuWLUUmJkrsISgd1flMTb1anJS17UjvrD+/WhuH14bNJDAIYW7fL6y01e7tr7sNi1ep0c8XjmKz5M4xS7O8isEm82SeOSqqaPazVm3eTqfcy/ro0TUEMAhjBL3kNyx6MxifVs7ia2UvIsZd+Zh70CHoSZw9l/0hxJOFdCJ0pHre7veVq7Y31oCAGAYwgl7yiSmi1O6mCt9Tsb/Fm5Zf9NmC7bjL2lqa92yC8GVuV88ZzQexSEIMARgB8W/IOx+OT2nPJe0DJi3AtTW8K4lzx5Lp7uymI2SEGAYyPKHmXKxG9m8Zm8Q+tTjddKD2XvKmsTL2LsBfEVa8gnln+uOnNO4LHAghgvHn0eqvN3h0JT5PZvFq/SGjpqPTSXUX0YkcK4qRXEB8el28HI8OyvzZq8YgAAYw3WW1ertfiQSM+8g/Hk9LnmtfY/HKgiEczdu0k8XNBnJBT+eLVTW9l6N51mX4MP/LEAAGMV93ofdJNs9sf5Ionm9XmTUHAsxg7XhAf+OvS4v/WL68eFkv/1mqLdWkQwHiF6HUcd7nSW52ulitEXhqsiF7g2yT21qUlOa5mKmf18dTfHqZLCwQwfj96n9z5YnXevJS07GZin/+Rnwcu8M8xLKWym+3hQrkyHI//6tJaUA2DAMYvV73ikXHaaIpP9BFJYaMX+PUY3sy2jErK4fEmhu1NDNOlBQIYP41e/bnqXW6iN0r0Aq8Qw+XBeGzaxDAIYPw8eh8Wy1r9Iq6kohLtzcBrxnC+VB6MiGEQwPhhr/fh0Yter5+Tk0XAqzdL/xXDJ4PR3SaGvQxe8hQigLGj53q9208XyxXRC7xvDJeH44ntOLppUQoTwNi96LWdtWFcXF0nUlm/zYoRksA7HR32Y1grVWqT2dx23DVTtAhg7EL0Lvxri0zbvu7dqtnDvYRM1Qt81N5wTNaq5xeL5cp23dVaJ4YJYIQ2fU3Tshy3P7xLH5UiCeVAJXqBjz43LKkJNd1otVeGYTvOkhgmgBGy6F2L97brjqezQrkSkZR9f6QGT0AgEFO0Utm9hJLM5NvdnmG99Gfx7CKAEYpOq6f5clWu1fe9GT3aZheKBx8QqBiOe8MslVT+qD+880ev059FAGOr15xtx7CsVqeb8CfkSVzWCwQ7hg+8U/jKcfV0c68DK9IEMLZ0zflpOJ6kC6U9BloBW7Qx7PdnxdVU8+paN01WpAlgbNnp3vly9blWj77coMBzDdi6jeGotyJdHIzGrEgTwNiKNWfbsOwrf805ypozsP0r0nuSclI9nbMiTQAjyBMlxftzdH+fPmLNGQhNBudeVqQzzXbHsCyDUpgARtCardamVas39yWVNWcghCvSWnYvrmSPSuPpg0MpTAAjIIWveDcOx2M1V4hICmvOQIhjOKakYrLWaLUNyxbVMBlMAONDC1/dqNUvopJG4QvsyPCsPUlJF0p3kxmlMAGMDyp8XXcwEoXv4XPhy+MJ2KVSeD+p1i+vvMlZlk0GE8B4v8J3ZRjV84Z/yihN4QvsaCmcUFKF4t1kSoM0AYz3OOPrPLlfxmMl+1z48iQCdvyckiiFzy4uRSnMWWECGG+VvuLdZVpO/eIy6rU6U/gC+GtXOHd0PHtciFKYDCaA8crpa7vOw+Njrniyx44vgB9i2DsrrKVuen3bfVrrBjFMAOM1pjrr3lTnTn8QVzObu4x43AD4MYPjWjaSkMu1s7VhmDadWQQw/ni0pAjgcq0u3ldxhlsB+F8xHEkoaq7w9ZASD1ICGP+Z12/luOPpTMsVxDuK6AXwXzqztOZVx3LctWFSChPA+G/LzpbjtDrd/SSjJQH8VmdWXCmUP3vtmyxHE8D4xfQ1TEs3zZPq2V6C0ZIAfj+Go0lVyeTH05nt0h1NAON/pa9lOw+LZbpQikosOwP44+Vo1RsffdO7td0nb1gHT1oCGP+Yvs6T2x/dxdWMeMOQvgBeazk6kpBr9QtvejxbwgQw/r7paxiW415eXYvCN64yZAPAa/LnVsr50mdRAYsYJoMJYHy36XtcPd1juiSAtxzWkczkvNnR7hMZTACTvt7NCg+Py1S+yKYvgDcf1qGm95Nau3tru5wSJoB3fcCkO7qfJlLZfTZ9AbzjlvB589Jy3CVDKwngHW25ctzel2FM1tj0BfDOMbwXV06qZ4Zl05ZFAO/clCvbfWq1O1FJkVQGTAL4mKGV+dKJ3wLKPYYE8G4Uvsu11/B8Wm9GEjItVwA+dlKHlis8LJa0RhPA4U9f3TANyy5VanuMdwYQgAyOyZqUzo4nM+4SJoBDfdzIsldrPVc85nIFAAGalqWkRQzfDkYOEysJ4LCm73yxVLOH+0mV9AUQrONJqWxUUq67PYc6mAAO32Hf2eMimclx3AhAYKdlRSSl1ek6HBEmgMOUvtP5XErnYjIXCwIIdgYn5IurazKYAA7FqA3bmUwfEqlsTCV9AWxBBu8l5Ppl2/FvT+IxTgBvbfo6zt1kGlczB4zaALBNGaycN1s2GUwAb236uqP7yYGSYtAVgG3cD67VL7xxlWQwAbxd6StetYPRmDGTALa3NXovLlfOG2QwAbxlK89fRuMo6QsgBBl8Vrcc1qIJ4K2ofW1v3/dASXvpy3sYwNZncLJWb9ru04LzwQRwwE8cTWYPcTXj1768ewGEIoMTSv3yynGfmNFBAAd31tXscZHQsgcKJ44AhCyD5Wa7w5wsAjiY6WvNl6ukN9mc9AUQQpGE3L5hViUBHLT0Na3lSlezhzEmTQII79mkqKR0+gPubCCAg5K+a8NcG0aqUOSWBQChz2DxoLsdjCzqYAL4wy3XumnZ+dJJlPQFsAO8e5NkbXQ/NW2bDCaAPzJ9bffppHYWkbjfF8CuNGQdqGlJyz4sloZpkcEE8McsPjuO22i190hfADuWwfuylsoX14axNsxHEoEAfv9Rz53+IJKQpVSWNySAXcvgSFItlKu27TAkiwB+54Eb9uh+Kj4Dkr4AdnlAR/W8YTOggwB+z0NHD4/LRCrLJYMAyGBvQMcTTdEE8Jun73ptmCvD0PJFjvwCwOZwcI+DSQTwO7Q9W7ZTKH+OcOgIAF4OJh0oqfvZg2FxMIkAfsu25/rl1V5cJn0B4OtCdExJabnC2rDWNGQRwG90z2B/dBeVFBqvAODvTdGSclw9tb0plWQwAfyq6aub3l0LiVQ2TuMVAPykIavV6XJbAwH82vMmbSdXPNlP0ngFAD9tyNpPqqPJVDwwyWAC+JW2fl33tNFk4hUA/HsRfKCklEx+tdZ1wySDCeBXmHjV+zKMJET6svULAP8jg6P+hCzLcZmQRQD/4davOXt8jKupOI1XAPCLm8GS0mi1uTaYAH6VrV9O/QLAf9wMvp+aFpvBBPDvbv1eXF2z9QsAv7EZrOUKummyEE0A/87A58n0IcZ1CwDwuyeDa40mp5II4P+8+GxYdrpQiikpyl8A+L2F6KikDMdjTiURwP9l8fnJHznJ4jMA/HYRnM55k4uyh2vDWOkG4UIA/9Jdv3eT6X5SZfEZAP70VJKkVLw7g1mIJoB/YfFZN00tXzxg8RkA/jyD/YXo/nDEQjQB/L/vOzpttCIsPgPAK4mr6aQ/HouFaAL4J+krXh2mNZ7OWHwGgNfviK5f0BFNAP9s8Xlt2U6+VN6XWXwGgFfuiI4lNVHhiDrnkcQhgH+87vem148kZNIXAF69CN6XNVHhiCetqHYIHQL4LyvdWK31ZDrv7VXwbgGAt1iITsjXvb5NNxYB/Lfeq1q9Se8VALxlN1ZGfEs3FgH8996rWJKpkwDwHt1YNt1YBLDXe7Vam8+9VxrlLwC8dTfWflIVNY9hWo9LAnjX5145nVt6rwDgXbuxTNumAmbulanlCgdKijcGALxXN5ZyO9j12Vifdrz8tR3n6qbHpQsA8H4BnM6Jmid7dGxYO30kaacDeKUba8NQsvlNYx4A4D2PJHX7g10ugj/tdvnrNtsdyl8AeH+iCE7li4ZlLtc6Abxz5e9ypUvpXEKj/AWADyiCRf3T7t7u7FyOTztb/jquW7+8YvIGAHxYEaym1eyhrhsrXSeAd6j8nS9XiVSG8hcAPrYIbnU6uzmX49OOlr+Oe3rB4EkA+GBeFeRdFWzs4HDKT7u6+7tOaFnKXwAIQhF8ddPbwZ3gTzQ/AwA+vB1aN80lFXDoR1+tTUvNHR4olL8AEJQzwb3B0LSd+S4VwZ92rfwVf8E3/UEkQfkLAEEJ4H0llS+VLdtZEMAhJgI4Uzw+UFJyhtc9AARDJh9NqqP7iWlau1ME71AAz5dLkb6D0TjK7i8ABK0ITqrHlVPbfXokgMO4/ry2Haf4uSr+mglgAAgUKZ09kNPT+Vw3LQI4bMRf6mT6EJU1XugAEMRWLEmt1ZvOzgzl+LQ77Vfe8I1GU/wFK5S/ABA8m9kMolzakaEcuxLAy5ebBxm+AQABPo+kdPsDy3bmiyUBHIr2q4XXfnU7GInyl91fAAhyK1ahXLUchwo4TNOvnFKlRvsVAATcgZKaPS52oRVrJwLYu/tosYyrGUnL8uIGgGC3YikXV9e244Z+FfrTDqw/r2zbaXW6DH8GgK2ogFOFkmHZVMDhmH5lZY/86Ve8uAEg8KJJzZuKZVmigiKAt3f6lXf8924y3U+qvKYBIPiUTD6SVCvnjdAfCA59AC//Ov6bPeSVDQDbcSA4k18ZRrgPBId/Cdqw7FSheKCkeE0DwNasQkvKYHRnhvpAcJgDeP4yfjImk74AsD2r0NnDSFKt1S8cxw3x5UihDuDF0nacZvt6T1IYPwkA29ULreWLummyBL29/c92vlTeV1IEMABsl/2kej+Z6d4NwQTw1l1/pBsP/vwNXscAsH290JLSaLVDPJHjU5jXn23nutdn/gYAbGMAx5RUrnhi2g5L0Fs4/9l9nv/MASQA2NKd4BDPhQ5tAK90Y7nSpZcLJgEA20XO5PckpX3Ts0N6GOlTWNefDcsejsdRSeFFDABbehhpP6keV09tN5yHkT6F+ADSxdV1RFJYfwaAbV2CVjNarhDWw0jhDODH1dpynOJJlQ1gANhqMVmbzuah3Ab+FNYN4JVhKJk8G8AAsNW90HuSctPrW2HcBv4UxvVnbwLl/WTGDUgAsO3bwF9vRiKAt+YE8NVNb48NYADY/pNI6cOSYbEEvR1XEK5s1z2unrIBDAAhEFczD4vlOnRXE4ZzD1g3TS1XOFDSvHABYNtPA0ck9XYwCt/VhCEMYN0wp/NFjAuAASAc28CScnZxGb6h0J/CtwFs2vbtcBRJqNyABAAhCOD9pFr8XLUc53HJEnTgO7Ca7Q4jOAAgJH1YajqUdwOHMIAdxy3X6lE6sAAgFBJaJq5m5svVKlx9WCHcAzZtJ1c8OVBSLEEDQDjsJ9XR/dQwrTBtA4ctgDczsJIZLkECgPBsA+9JynWvH7JrkT6FsAV6NucAEgCEqhE6qZ42WiGbh/UpdC3QzqYFWmb9GQDC0witFct+IzR7wLRAAwDetxE6bPcSfgphC/TZeYQWaAAIWyN0ehGuRuhwBfDmGuBydV/WCGAACJOYrE1mD2EqgsPWhGVYVvbo2DuDxOsVAEIkmtSG44lh2aHpwwpbAIsEVrOHcc4gAUDITiIl5N6XoRWik0ihCuCVbixX64SW5RAwAITvKHCr07UJ4KCWv+ZsvuAQMACE8ijweTNUdyJ9ClMLtGFao/vpflLlxQoAoQrgTF4EcLlWdwjgIE/hEAGsZg8VAEA4ZPJqrnCgpPxZHC5d0EEMYMufwvF/IjGRwXsJBQAQDhFJ+b+xhJzOcQwpuE1Y4+nsunvb/TLo9gEA4dG57fe+fGEQR4AvYzBNy7JN27EAAOFiWPaSUZQBX4sGAIQSs6ABAAABDAAAAQwAAAhgAAAIYAAAQAADAEAAAwBAAAMAAAIYAAACGAAAEMAAABDAAACAAAYAgAAGAAAEMAAABDAAAAQwAAAggAEAIIABAAABDAAAAQwAAAhgAAAIYAAAQAADAEAAAwBAAAMAAAIYAAACGAAAEMAAABDAAACAAAYAgAAGAAAEMAAABDAAAAQwAAAggAEAIIABAAABDAAAAQwAAAhgAAAIYAAAQAADAEAAAwBAAAMAAAIYAAACGAAAEMAAABDAAACAAAYAgAAGAAAEMAAABDAAAAQwAAAggAEAIIABAAABDAAAAQwAAH7D/wd0WllIUZLg4gAAAABJRU5ErkJggg==";var C_=function(t){return t.present="present",t.unavailable="unavailable",t.away="away",t}({});function A_(){return{chat:"Chat",contacts:"Contacts",contactRequestIn:"Incoming contact requests",contactRequestOut:"Outgoing contact requests",contactsUnaffiliated:"Unknown",noContacts:"No contacts yet.",noMessages:"No messages yet.",placeholder:"Enter your message!",subscriptionRequestMessage:"I want to add you as a contact.",acceptSubscriptionRequest:"Accept",denySubscriptionRequest:"Deny",timeFormat:"shortTime",dateFormat:"EEEE, MM/dd/yyyy",locale:void 0,dropMessage:"Drop your file to send it",block:"Block",blockAndReport:"Block & report",dismiss:"Dismiss",presence:{[C_.away]:"Away",[C_.present]:"Online",[C_.unavailable]:"Offline"}}}var x_=function(t){return t.to="to",t.from="from",t.both="both",t.none="none",t}({});class E_{constructor(t,e,n,s){this.name=e,this.avatar=S_,this.metadata={},this.presence$=new Xf(C_.unavailable),this.subscription$=new Xf(x_.none),this.pendingOut$=new Xf(!1),this.pendingIn$=new Xf(!1),this.resources$=new Xf({}),s&&(this.avatar=s);const r=Object(Jf.jid)(t);this.jidFull=r,this.jidBare=r.bare(),this.messageStore=new Xw(n)}get messages$(){return this.messageStore.messages$}get messages(){return this.messageStore.messages}get dateMessagesGroups(){return this.messageStore.dateMessageGroups}get oldestMessage(){return this.messageStore.messages[0]}get mostRecentMessage(){return this.messageStore.messages[this.messageStore.messages.length-1]}get mostRecentMessageReceived(){return Yw(this.messageStore.messages,t=>t.direction===$w.in)}get mostRecentMessageSent(){return Yw(this.messageStore.messages,t=>t.direction===$w.out)}addMessage(t){this.messageStore.addMessage(t)}equalsBareJid(t){const e=t instanceof E_?t.jidBare:t.bare();return this.jidBare.equals(e)}isSubscribed(){const t=this.subscription$.getValue();return t===x_.both||t===x_.to}isUnaffiliated(){return!this.isSubscribed()&&!this.pendingIn$.getValue()&&!this.pendingOut$.getValue()}updateResourcePresence(t,e){const n=this.resources$.getValue();n[t]=e,this.presence$.next(this.reducePresences(n)),this.resources$.next(n)}getMessageById(t){return this.messageStore.messageIdToMessage[t]}reducePresences(t){let e=C_.unavailable;for(const n in t)if(t.hasOwnProperty(n)){const s=t[n];if(s===C_.present)return s;s===C_.away&&(e=C_.away)}return e}}var O_=function(t){return t[t.Disabled=0]="Disabled",t[t.Error=1]="Error",t[t.Warn=2]="Warn",t[t.Info=3]="Info",t[t.Debug=4]="Debug",t}({});let T_=(()=>{class t{constructor(){this.logLevel=O_.Info,this.writer=console,this.messagePrefix=()=>"ChatService:"}error(...t){this.logLevel>=O_.Error&&this.writer.error(this.messagePrefix(),...t)}warn(...t){this.logLevel>=O_.Warn&&this.writer.warn(this.messagePrefix(),...t)}info(...t){this.logLevel>=O_.Info&&this.writer.info(this.messagePrefix(),...t)}debug(...t){this.logLevel>=O_.Debug&&this.writer.log(this.messagePrefix(),...t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),k_=(()=>{class t{constructor(t){this.logService=t}createContact(t,e,n){return e||(e=t),new E_(t,e,this.logService,n)}}return t.\u0275fac=function(e){return new(e||t)(Wt(T_))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class I_ extends Kw{constructor(t,e){super(),this.chatService=t,this.logService=e}handleStanza(t){return this.isRosterPushStanza(t)?this.handleRosterPushStanza(t):!!this.isPresenceStanza(t)&&this.handlePresenceStanza(t)}isRosterPushStanza(t){return"iq"===t.name&&"set"===t.attrs.type&&t.getChild("query","jabber:iq:roster")}handleRosterPushStanza(t){const e=t.getChild("query").getChild("item"),n=this.chatService.getOrCreateContactById(e.attrs.jid,e.attrs.name||e.attrs.jid);n.pendingOut$.next("subscribe"===e.attrs.ask);const s=e.attrs.subscription||"none";this.chatService.chatConnectionService.sendIqAckResult(t.attrs.id);let r=!1;if("remove"===s?(n.pendingOut$.next(!1),n.subscription$.next(x_.none),r=!0):"none"===s?(n.subscription$.next(x_.none),r=!0):"to"===s?(n.subscription$.next(x_.to),r=!0):"from"===s?(n.subscription$.next(x_.from),r=!0):"both"===s&&(n.subscription$.next(x_.both),r=!0),r){const t=this.chatService.contacts$.getValue();this.chatService.contacts$.next(t)}return r}isPresenceStanza(t){return"presence"===t.name&&!t.getChild("x","http://jabber.org/protocol/muc#user")}handlePresenceStanza(t){const e=this.chatService.getOrCreateContactById(t.attrs.from);if(this.chatService.chatConnectionService.userJid.bare().equals(Object(Jf.jid)(t.attrs.to).bare())){if(!t.attrs.type){const n=t.getChildText("show"),s={chat:C_.present,null:C_.present,away:C_.away,dnd:C_.away,xa:C_.away}[n];return s?e.updateResourcePresence(t.attrs.from,s):this.logService.error("illegal presence:",t.attrs.from,n),!0}if("unavailable"===t.attrs.type)return e.updateResourcePresence(t.attrs.from,C_.unavailable),!0;if("subscribe"===t.attrs.type){if(e.isSubscribed()||e.pendingOut$.getValue())return e.pendingIn$.next(!1),this.sendAcceptPresenceSubscriptionRequest(t.attrs.from),e.subscription$.next(this.transitionSubscriptionRequestReceivedAccepted(e.subscription$.getValue())),this.chatService.contacts$.next(this.chatService.contacts$.getValue()),!0;if(e)return e.pendingIn$.next(!0),this.chatService.contacts$.next(this.chatService.contacts$.getValue()),!0}else if("subscribed"===t.attrs.type)return e.pendingOut$.next(!1),e.subscription$.next(this.transitionSubscriptionRequestSentAccepted(e.subscription$.getValue())),this.chatService.contacts$.next(this.chatService.contacts$.getValue()),!0}return!1}transitionSubscriptionRequestReceivedAccepted(t){switch(t){case x_.none:return x_.from;case x_.to:return x_.both;default:return t}}transitionSubscriptionRequestSentAccepted(t){switch(t){case x_.none:return x_.to;case x_.from:return x_.both;default:return t}}sendAcceptPresenceSubscriptionRequest(t){this.chatService.getOrCreateContactById(t).pendingIn$.next(!1),this.chatService.chatConnectionService.send(Object(Jf.xml)("presence",{to:t,type:"subscribed",id:this.chatService.chatConnectionService.getNextIqId()}))}onBeforeOnline(){return this.refreshRosterContacts()}getRosterContacts(){return new Promise(t=>this.chatService.chatConnectionService.sendIq(Object(Jf.xml)("iq",{type:"get"},Object(Jf.xml)("query",{xmlns:"jabber:iq:roster"}))).then(e=>t(this.convertToContacts(e)),e=>{this.logService.error("error converting roster contact push",e.toString()),t([])}))}convertToContacts(t){return t.getChild("query").getChildElements().map(t=>{const e=this.chatService.getOrCreateContactById(t.attrs.jid,t.attrs.name||t.attrs.jid);return e.subscription$.next(this.parseSubscription(t.attrs.subscription)),e.pendingOut$.next("subscribe"===t.attrs.ask),e})}parseSubscription(t){switch(t){case"to":return x_.to;case"from":return x_.from;case"both":return x_.both;case"none":default:return x_.none}}addRosterContact(t){this.sendAcceptPresenceSubscriptionRequest(t),this.sendAddToRoster(t),this.sendSubscribeToPresence(t)}sendAddToRoster(t){return this.chatService.chatConnectionService.sendIq(Object(Jf.xml)("iq",{type:"set"},Object(Jf.xml)("query",{xmlns:"jabber:iq:roster"},Object(Jf.xml)("item",{jid:t}))))}sendSubscribeToPresence(t){this.chatService.chatConnectionService.send(Object(Jf.xml)("presence",{id:this.chatService.chatConnectionService.getNextIqId(),to:t,type:"subscribe"}))}removeRosterContact(t){const e=this.chatService.getContactById(t);e&&(e.subscription$.next(x_.none),e.pendingOut$.next(!1),e.pendingIn$.next(!1),this.sendRemoveFromRoster(t),this.sendWithdrawPresenceSubscription(t))}sendRemoveFromRoster(t){this.chatService.chatConnectionService.sendIq(Object(Jf.xml)("iq",{type:"set"},Object(Jf.xml)("query",{xmlns:"jabber:iq:roster"},Object(Jf.xml)("item",{jid:t,subscription:"remove"}))))}sendWithdrawPresenceSubscription(t){this.chatService.chatConnectionService.send(Object(Jf.xml)("presence",{id:this.chatService.chatConnectionService.getNextIqId(),to:t,type:"unsubscribed"}))}refreshRosterContacts(){return this.getRosterContacts()}}let P_=(()=>{class t{client(t){return Object(Jf.client)(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),M_=(()=>{class t{constructor(t,e,n){this.logService=t,this.ngZone=e,this.xmppClientFactoryService=n,this.state$=new Xf("disconnected"),this.stanzaUnknown$=new C,this.iqId=(new Date).getTime(),this.iqStanzaResponseCallbacks={}}onOnline(t){this.logService.info("online =","online as",t.toString()),this.userJid=t,this.state$.next("online")}sendPresence(){this.send(Object(Jf.xml)("presence"))}send(t){this.logService.debug(">>>",t);try{return this.client.send(t)}catch(e){return Promise.reject(e)}}sendIq(t){return new Promise((e,n)=>{t.attrs=Object.assign({id:this.getNextIqId(),from:this.userJid.toString()},t.attrs);const{id:s}=t.attrs;if(!t.attrs.type){const e="iq stanza without type: "+t.toString();throw this.logService.error(e),new Error(e)}this.iqStanzaResponseCallbacks[s]=t=>{"result"===t.attrs.type?e(t):n(t)},this.send(t).then(()=>{},t=>{this.logService.error("error sending iq",t),delete this.iqStanzaResponseCallbacks[s],n(t)})})}sendIqAckResult(t){this.send(Object(Jf.xml)("iq",{from:this.userJid.toString(),id:t,type:"result"}))}onStanzaReceived(t){let e=!1;if(this.isIqStanzaResponse(t)){const n=this.iqStanzaResponseCallbacks[t.attrs.id];n&&(this.logService.debug("<<<",t.toString(),"handled by callback",n),delete this.iqStanzaResponseCallbacks[t.attrs.id],n(t),e=!0)}e||this.stanzaUnknown$.next(t)}isIqStanzaResponse(t){const e=t.attrs.type;return"iq"===t.name&&("result"===e||"error"===e)}logIn(t){return Yf(this,void 0,void 0,(function*(){yield this.ngZone.runOutsideAngular(()=>Yf(this,void 0,void 0,(function*(){t.username.indexOf("@")>=0&&this.logService.warn("username should not contain domain, only local part, this can lead to errors!"),this.client=this.xmppClientFactoryService.client(t),this.client.on("error",t=>{this.ngZone.run(()=>{this.logService.error("chat service error =>",t.toString(),t)})}),this.client.on("status",(t,e)=>{this.ngZone.run(()=>{this.logService.info("status update =",t,e?JSON.stringify(e):""),"offline"===t&&this.state$.next("disconnected")})}),this.client.on("online",t=>this.ngZone.run(()=>this.onOnline(t))),this.client.on("stanza",t=>{this.ngZone.run(()=>{this.onStanzaReceived(t)})}),this.client.on("disconnect",t=>{this.ngZone.run(()=>{this.state$.next("reconnecting")})}),yield this.client.start()})))}))}logOut(){return Yf(this,void 0,void 0,(function*(){if(this.logService.debug("logging out"),this.client){this.client.reconnect.stop();try{yield this.send(Object(Jf.xml)("presence",{type:"unavailable"}))}catch(t){this.logService.error("error sending presence unavailable")}finally{this.client.stop()}}}))}getNextIqId(){return""+this.iqId++}reconnectSilently(){this.logService.warn("hard reconnect..."),this.state$.next("disconnected")}}return t.\u0275fac=function(e){return new(e||t)(Wt(T_),Wt(Xc),Wt(P_))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),D_=(()=>{class t{constructor(t,e,n){this.chatConnectionService=t,this.logService=e,this.contactFactory=n,this.message$=new C,this.messageSent$=new C,this.contacts$=new Xf([]),this.contactCreated$=new C,this.blockedContactIds$=new Xf([]),this.blockedContacts$=Kf([this.contacts$,this.blockedContactIds$]).pipe(j(([t,e])=>t.filter(t=>e.indexOf(t.jidBare.toString())>=0))),this.notBlockedContacts$=Kf([this.contacts$,this.blockedContactIds$]).pipe(j(([t,e])=>t.filter(t=>-1===e.indexOf(t.jidBare.toString())))),this.contactsSubscribed$=this.notBlockedContacts$.pipe(j(t=>t.filter(t=>t.isSubscribed()))),this.contactRequestsReceived$=this.notBlockedContacts$.pipe(j(t=>t.filter(t=>t.pendingIn$.getValue()))),this.contactRequestsSent$=this.notBlockedContacts$.pipe(j(t=>t.filter(t=>t.pendingOut$.getValue()))),this.contactsUnaffiliated$=this.notBlockedContacts$.pipe(j(t=>t.filter(t=>t.isUnaffiliated()&&t.messages.length>0))),this.state$=new Xf("disconnected"),this.plugins=[],this.enableDebugging=!1,this.userAvatar$=new Xf(S_),this.translations=A_(),this.chatActions=[{id:"sendMessage",cssClass:"chat-window-send",html:"&raquo;",onClick:t=>{t.chatWindow.sendMessage()}}],this.state$.subscribe(t=>this.logService.info("state changed to:",t)),t.state$.pipe(rm(t=>t!==this.state$.getValue())).subscribe(t=>{this.handleInternalStateChange(t)}),this.chatConnectionService.stanzaUnknown$.subscribe(t=>this.onUnknownStanza(t)),G(this.messageSent$,this.message$).subscribe(()=>{this.contacts$.next(this.contacts$.getValue())})}handleInternalStateChange(t){"online"===t?(this.state$.next("connecting"),Promise.all(this.plugins.map(t=>t.onBeforeOnline())).then(()=>this.announceAvailability(),t=>{this.logService.error("error while connecting",t),this.announceAvailability()})):("online"===this.state$.getValue()&&this.onOffline(),this.state$.next("disconnected"))}onOffline(){this.contacts$.next([]),this.plugins.forEach(t=>{try{t.onOffline()}catch(e){this.logService.error("error while handling offline in ",t)}})}announceAvailability(){this.logService.info("announcing availability"),this.chatConnectionService.sendPresence(),this.state$.next("online")}addPlugins(t){t.forEach(t=>{this.plugins.push(t)})}reloadContacts(){this.getPlugin(I_).refreshRosterContacts()}getContactById(t){const e=Object(Jf.jid)(t).bare();return this.contacts$.getValue().find(t=>t.jidBare.equals(e))}getOrCreateContactById(t,e){let n=this.getContactById(t);return n||(n=this.contactFactory.createContact(Object(Jf.jid)(t).bare().toString(),e),this.contacts$.next([n,...this.contacts$.getValue()]),this.contactCreated$.next(n)),n}addContact(t){this.getPlugin(I_).addRosterContact(t)}removeContact(t){this.getPlugin(I_).removeRosterContact(t)}logIn(t){return Yf(this,void 0,void 0,(function*(){this.lastLogInRequest=t,"disconnected"===this.state$.getValue()&&(yield this.chatConnectionService.logIn(t))}))}logOut(){return this.chatConnectionService.logOut()}sendMessage(t,e){this.getPlugin(e_).sendMessage(t,e),this.messageSent$.next(this.getOrCreateContactById(t))}loadCompleteHistory(){return this.getPlugin(f_).loadAllMessages()}getPlugin(t){for(const e of this.plugins)if(e.constructor===t)return e;throw new Error("plugin not found: "+t)}onUnknownStanza(t){let e=!1;for(const s of this.plugins)try{s.handleStanza(t)&&(this.logService.debug(s.constructor.name,"handled",t.toString()),e=!0)}catch(n){this.logService.error("error handling stanza in ",s.constructor.name,n)}e||this.logService.warn("unknown stanza <=",t.toString())}reconnectSilently(){this.chatConnectionService.reconnectSilently()}reconnect(){return this.logIn(this.lastLogInRequest)}}return t.\u0275fac=function(e){return new(e||t)(Wt(M_),Wt(T_),Wt(k_))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const R_=new Ft("ChatContactClickHandler");let j_=(()=>{class t{constructor(t,e,n){this.chatService=t,this.httpClient=e,this.contactClickHandler=n,this.showImagePlaceholder=!0,this.Direction=$w,this.messageStatePlugin=this.chatService.getPlugin(__)}ngOnInit(){this.tryFindImageLink()}tryFindImageLink(){if(this.chatService instanceof D_){const t=w_(this.message.body);if(0===t.length)return void(this.showImagePlaceholder=!1);this.tryFindEmbedImageUrls(t).then()}}tryFindEmbedImageUrls(t){return Yf(this,void 0,void 0,(function*(){for(const n of t)try{const t=yield this.httpClient.head(n,{observe:"response"}).toPromise(),e=t.headers.get("Content-Type"),s=e&&e.startsWith("image"),r=t.headers.get("Content-Length");if(s&&parseInt(r,10)<256e3){this.imageLink=n;break}}catch(e){}this.imageLink||(this.showImagePlaceholder=!1)}))}getMessageState(){if(this.message.state)return this.message.state;if(this.messageStatePlugin&&this.contact){const t=this.message.datetime,e=this.messageStatePlugin.getContactMessageState(this.contact.jidBare.toString());return this.getStateForDate(t,e)}}getStateForDate(t,e){return t<=e.lastRecipientSeen?Hw.RECIPIENT_SEEN:t<=e.lastRecipientReceived?Hw.RECIPIENT_RECEIVED:t<=e.lastSent?Hw.SENT:void 0}onContactClick(){this.contactClickHandler&&this.contactClickHandler.onClickContact(this.contact)}getAvatar(){if(this.showAvatars)return this.message.direction===$w.in?this.avatar:this.chatService.userAvatar$.getValue()}}return t.\u0275fac=function(e){return new(e||t)(bo(u_),bo(dg),bo(R_,8))},t.\u0275cmp=de({type:t,selectors:[["ngx-chat-message"]],inputs:{showAvatars:"showAvatars",avatar:"avatar",message:"message",nick:"nick",contact:"contact"},decls:3,vars:12,consts:[[3,"imageLink","showImagePlaceholder","avatar","avatarInteractive","direction","messageState","formattedDate","nick","avatarClickHandler"],[3,"ngxChatLinks"]],template:function(t,e){1&t&&(So(0,"ngx-chat-message-simple",0),Io("avatarClickHandler",(function(){return e.onContactClick()})),lc(1,"date"),Ao(2,"span",1),Co()),2&t&&(wo("imageLink",e.imageLink)("showImagePlaceholder",e.showImagePlaceholder)("avatar",e.getAvatar())("avatarInteractive",e.message.direction===e.Direction.in)("direction",e.message.direction)("messageState",e.getMessageState())("formattedDate",function(t,e,n,s){const r=tn(),i=He(r,t);return pc(r,dc(r,t)?function(t,e,n,s,r,i,o){const a=e+n;return fo(t,a,r,i)?ho(t,a+2,o?s.call(o,r,i):s(r,i)):ac(t,a+2)}(r,un(),e,i.transform,n,s,i):i.transform(n,s))}(1,9,e.message.datetime,e.chatService.translations.timeFormat))("nick",e.nick),pr(2),wo("ngxChatLinks",e.message.body))},directives:function(){return[F_,Q_]},pipes:function(){return[Vu]},styles:[".chat-message--out[_nghost-%COMP%]{align-self:flex-end}.chat-message--in[_nghost-%COMP%]{align-self:flex-start}"]}),t})();var N_=function(t){return t[t.PENDING_REQUEST=0]="PENDING_REQUEST",t[t.SHOW_BLOCK_ACTIONS=1]="SHOW_BLOCK_ACTIONS",t[t.NO_PENDING_REQUEST=2]="NO_PENDING_REQUEST",t}({});let L_=(()=>{class t{constructor(t,e,n,s,r){this.chatListService=t,this.chatService=e,this.chatMessageListRegistry=n,this.reportUserService=s,this.changeDetectorRef=r,this.Direction=$w,this.SubscriptionAction=N_,this.subscriptionAction=N_.NO_PENDING_REQUEST,this.onTop$=new C,this.ngDestroy=new C,this.isAtBottom=!0,this.bottomLeftAt=0,this.oldestVisibleMessageBeforeLoading=null,this.blockPlugin=this.chatService.getPlugin(d_)}ngOnInit(){return Yf(this,void 0,void 0,(function*(){this.onTop$.pipe(rm(t=>t.isIntersecting),Em(1e3)).subscribe(()=>this.loadOlderMessagesBeforeViewport()),this.contact.pendingIn$.pipe(rm(t=>!0===t),Im(this.ngDestroy)).subscribe(()=>{this.subscriptionAction=N_.PENDING_REQUEST,this.scheduleScrollToLastMessage()}),this.chatMessageListRegistry.incrementOpenWindowCount(this.contact)}))}ngAfterViewInit(){return Yf(this,void 0,void 0,(function*(){this.chatMessageViewChildrenList.changes.subscribe(()=>{this.oldestVisibleMessageBeforeLoading&&this.scrollToMessage(this.oldestVisibleMessageBeforeLoading),this.oldestVisibleMessageBeforeLoading=null}),this.contact.messages$.pipe(Im(this.ngDestroy),Em(10),rm(()=>this.isNearBottom())).subscribe(t=>this.scheduleScrollToLastMessage()),this.contact.messages.length<10&&(yield this.loadMessages()),this.scheduleScrollToLastMessage()}))}ngOnChanges(t){const e=t.contact;e&&e.previousValue&&e.currentValue&&(this.chatMessageListRegistry.decrementOpenWindowCount(e.previousValue),this.chatMessageListRegistry.incrementOpenWindowCount(e.currentValue)),e&&e.currentValue&&this.scheduleScrollToLastMessage()}ngOnDestroy(){this.ngDestroy.next(),this.chatMessageListRegistry.decrementOpenWindowCount(this.contact)}acceptSubscriptionRequest(t){t.preventDefault(),this.subscriptionAction===N_.PENDING_REQUEST&&(this.chatService.addContact(this.contact.jidBare.toString()),this.subscriptionAction=N_.NO_PENDING_REQUEST,this.scheduleScrollToLastMessage())}denySubscriptionRequest(t){t.preventDefault(),this.subscriptionAction===N_.PENDING_REQUEST&&(this.chatService.removeContact(this.contact.jidBare.toString()),this.subscriptionAction=N_.SHOW_BLOCK_ACTIONS,this.scheduleScrollToLastMessage())}scheduleScrollToLastMessage(){setTimeout(()=>this.scrollToLastMessage(),0)}scrollToLastMessage(){this.chatMessageAreaElement&&(this.chatMessageAreaElement.nativeElement.scrollTop=this.chatMessageAreaElement.nativeElement.scrollHeight,this.isAtBottom=!0)}scrollToMessage(t){this.chatMessageAreaElement&&document.getElementById("message-"+t.id).scrollIntoView(!1)}blockContact(t){t.preventDefault(),this.blockPlugin.blockJid(this.contact.jidBare.toString()),this.chatListService.closeChat(this.contact),this.subscriptionAction=N_.NO_PENDING_REQUEST}blockContactAndReport(t){t.preventDefault(),this.reportUserService.reportUser(this.contact),this.blockContact(t)}dismissOptions(t){t.preventDefault(),this.subscriptionAction=N_.NO_PENDING_REQUEST}subscriptionActionShown(){return this.subscriptionAction===N_.PENDING_REQUEST||!0===this.blockPlugin.supportsBlock$.getValue()&&this.subscriptionAction===N_.SHOW_BLOCK_ACTIONS}loadOlderMessagesBeforeViewport(){return Yf(this,void 0,void 0,(function*(){if(!this.isLoadingHistory()&&!this.isNearBottom())try{this.oldestVisibleMessageBeforeLoading=this.contact.oldestMessage,yield this.loadMessages()}catch(t){this.oldestVisibleMessageBeforeLoading=null}}))}loadMessages(){return Yf(this,void 0,void 0,(function*(){try{this.changeDetectorRef.detach(),yield this.chatService.getPlugin(f_).loadMostRecentUnloadedMessages(this.contact)}finally{this.changeDetectorRef.reattach()}}))}onBottom(t){this.isAtBottom=t.isIntersecting,t.isIntersecting?this.isAtBottom=!0:(this.isAtBottom=!1,this.bottomLeftAt=Date.now())}isNearBottom(){return this.isAtBottom||Date.now()-this.bottomLeftAt<1e3}isLoadingHistory(){return!!this.oldestVisibleMessageBeforeLoading}}return t.\u0275fac=function(e){return new(e||t)(bo(g_),bo(u_),bo(y_),bo(v_,8),bo(qi))},t.\u0275cmp=de({type:t,selectors:[["ngx-chat-message-list"]],viewQuery:function(t,e){var n;1&t&&(Ec(Bb,!0),Ec(j_,!0)),2&t&&(xc(n=Oc())&&(e.chatMessageAreaElement=n.first),xc(n=Oc())&&(e.chatMessageViewChildrenList=n))},inputs:{contact:"contact",showAvatars:"showAvatars"},features:[Pe],decls:7,vars:3,consts:[[1,"chat-messages"],["messageArea",""],[1,"chat-messages-start",3,"ngxChatIntersectionObserver"],[4,"ngFor","ngForOf"],["class","chat-messages-empty",4,"ngIf"],[3,"direction","avatar","footerHidden",4,"ngIf"],[1,"chat-messages-end",3,"ngxChatIntersectionObserver"],[1,"chat-messages-date-group"],[3,"id","chat-message--in","chat-message--out","avatar","contact","message","nick","showAvatars",4,"ngFor","ngForOf"],[3,"id","avatar","contact","message","nick","showAvatars"],[1,"chat-messages-empty"],[3,"direction","avatar","footerHidden"],[1,"chat-presence-subscription-actions"],["class","action-disabled",4,"ngIf"],["href","#",3,"click",4,"ngIf"],["class","deny-actions",4,"ngIf"],[1,"action-disabled"],["href","#",3,"click"],[1,"deny-actions"],[4,"ngIf"]],template:function(t,e){1&t&&(So(0,"div",0,1),So(2,"div",2),Io("ngxChatIntersectionObserver",(function(t){return e.onTop$.next(t)})),Co(),yo(3,Hb,5,7,"ng-container",3),yo(4,$b,2,1,"div",4),yo(5,Zb,12,11,"ngx-chat-message-simple",5),So(6,"div",6),Io("ngxChatIntersectionObserver",(function(t){return e.onBottom(t)})),Co(),Co()),2&t&&(pr(3),wo("ngForOf",e.contact.dateMessagesGroups),pr(1),wo("ngIf",0===e.contact.messages.length),pr(1),wo("ngIf",e.subscriptionActionShown()))},directives:function(){return[nS,Au,Eu,j_,F_]},pipes:function(){return[Vu,Fu]},styles:[".chat-message--out[_nghost-%COMP%]{align-self:flex-end}.chat-message--in[_nghost-%COMP%]{align-self:flex-start}.chat-messages[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-height:20em;min-height:10em;overflow-y:scroll}.chat-messages-date-group[_ngcontent-%COMP%]{font-size:.7em;font-style:italic;margin:.5em 0;text-align:center}ngx-chat-message[_ngcontent-%COMP%], ngx-chat-message-simple[_ngcontent-%COMP%]{-webkit-animation-duration:1.5s;-webkit-animation-timing-function:cubic-bezier(.16,1,.3,1);align-self:flex-start;animation-duration:1.5s;animation-timing-function:cubic-bezier(.16,1,.3,1);max-width:76%}ngx-chat-message-simple.chat-message--in[_ngcontent-%COMP%], ngx-chat-message.chat-message--in[_ngcontent-%COMP%]{-webkit-animation-name:ngx-chat-message-in;animation-name:ngx-chat-message-in}ngx-chat-message-simple.chat-message--out[_ngcontent-%COMP%], ngx-chat-message.chat-message--out[_ngcontent-%COMP%]{-webkit-animation-name:ngx-chat-message-out;animation-name:ngx-chat-message-out}.chat-messages-empty[_ngcontent-%COMP%]{color:#999;font-size:1.5em;margin-bottom:1em;margin-top:1em;text-align:center}.chat-presence-subscription-actions[_ngcontent-%COMP%], .deny-actions[_ngcontent-%COMP%]{list-style:none;margin:1em 0 0;padding:0}.chat-presence-subscription-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .chat-presence-subscription-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited, .deny-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .deny-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#198cff}.deny-actions[_ngcontent-%COMP%]{margin-top:1em}.action-disabled[_ngcontent-%COMP%]{color:#999}.chat-messages-start[_ngcontent-%COMP%]{height:5px;margin-top:5px;min-height:5px}.chat-messages-end[_ngcontent-%COMP%]{height:5px;margin-bottom:5px;min-height:5px}"]}),t})(),F_=(()=>{class t{constructor(){this.avatarClickHandler=new fc,this.footerHidden=!1,this.MessageState=Hw}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=de({type:t,selectors:[["ngx-chat-message-simple"]],inputs:{footerHidden:"footerHidden",avatar:"avatar",avatarInteractive:"avatarInteractive",direction:"direction",formattedDate:"formattedDate",imageLink:"imageLink",showImagePlaceholder:"showImagePlaceholder",messageState:"messageState",nick:"nick"},outputs:{avatarClickHandler:"avatarClickHandler"},ngContentSelectors:qb,decls:7,vars:7,consts:[[1,"chat-message"],[1,"chat-message-text-wrapper"],["class","chat-message-avatar",4,"ngIf"],[1,"chat-message-text"],["class","chat-message-image-wrapper",3,"chat-message-image-wrapper--placeholder",4,"ngIf"],["class","chat-message-footer",4,"ngIf"],[1,"chat-message-avatar"],[3,"imageUrl","click"],[1,"chat-message-image-wrapper"],[1,"chat-message-image",3,"src","load"],[1,"chat-message-footer"],[1,"chat-message-name",3,"title"],[3,"ngSwitch",4,"ngIf"],[1,"chat-message-datetime"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"state--seen"]],template:function(t,e){1&t&&(jo(),So(0,"div",0),So(1,"div",1),yo(2,Kb,2,3,"div",2),So(3,"div",3),No(4),Co(),Co(),yo(5,tw,2,3,"div",4),yo(6,iw,6,4,"div",5),Co()),2&t&&(Bo("chat-message--in","in"===e.direction)("chat-message--out","out"===e.direction),pr(2),wo("ngIf",e.avatar),pr(3),wo("ngIf",e.imageLink||e.showImagePlaceholder),pr(1),wo("ngIf",!e.footerHidden))},directives:function(){return[Eu,W_,Iu,Pu]},styles:[".chat-message-avatar[_ngcontent-%COMP%]{flex-shrink:0;height:2em;padding:.5em;width:2em}.chat-message--in[_ngcontent-%COMP%]   .chat-message-avatar[_ngcontent-%COMP%]{padding-right:0}.chat-message--out[_ngcontent-%COMP%]   .chat-message-avatar[_ngcontent-%COMP%]{padding-left:0}.has-click-handler[_ngcontent-%COMP%]:hover{cursor:pointer}.chat-message-text[_ngcontent-%COMP%]{min-width:0;padding:.5em;word-break:break-word}.chat-message[_ngcontent-%COMP%]{border-radius:.5em;margin:.25em}.chat-message--out[_ngcontent-%COMP%]{background-color:#e6ffd1}.chat-message--in[_ngcontent-%COMP%]{background-color:#dbedff}.chat-message-text-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row}.chat-message--out[_ngcontent-%COMP%]   .chat-message-text-wrapper[_ngcontent-%COMP%]{flex-direction:row-reverse}.chat-message-image-wrapper[_ngcontent-%COMP%]{height:auto;margin:0 .5em;max-height:150px;max-width:100%;overflow:hidden}.chat-message-image-wrapper.chat-message-image-wrapper--placeholder[_ngcontent-%COMP%]{height:150px}.chat-message-image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.chat-message-footer[_ngcontent-%COMP%]{clear:both;color:#999;font-size:.75em;padding:0 .5em .5em;text-align:right}.chat-message-datetime[_ngcontent-%COMP%], .chat-message-name[_ngcontent-%COMP%]{display:inline-block;vertical-align:bottom}.chat-message-name[_ngcontent-%COMP%]{margin-right:.5em;max-width:9em;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.state--seen[_ngcontent-%COMP%]{color:#00c5d2}"],changeDetection:0}),t})(),V_=(()=>{class t{constructor(t,e){this.chatService=t,this.contactFactory=e,this.Direction=$w}ngOnInit(){this.messageSubscription=this.room.messages$.subscribe(()=>{this.scheduleScrollToLastMessage()})}ngOnChanges(t){const e=t.room;e&&e.currentValue&&this.scheduleScrollToLastMessage()}ngOnDestroy(){this.messageSubscription.unsubscribe()}getOrCreateContactWithFullJid(t){let e=this.chatService.contacts$.getValue().find(e=>e.jidFull.equals(t));return e||(e=this.contactFactory.createContact(t.toString(),t.resource),this.chatService.contacts$.next([e].concat(this.chatService.contacts$.getValue()))),e}scheduleScrollToLastMessage(){setTimeout(()=>this.scrollToLastMessage(),0)}scrollToLastMessage(){this.chatMessageAreaElement&&(this.chatMessageAreaElement.nativeElement.scrollTop=this.chatMessageAreaElement.nativeElement.scrollHeight)}}return t.\u0275fac=function(e){return new(e||t)(bo(u_),bo(k_))},t.\u0275cmp=de({type:t,selectors:[["ngx-chat-room-messages"]],viewQuery:function(t,e){var n;1&t&&Ec(Bb,!0),2&t&&xc(n=Oc())&&(e.chatMessageAreaElement=n.first)},inputs:{room:"room"},features:[Pe],decls:4,vars:2,consts:[[1,"chat-messages"],["messageArea",""],[4,"ngFor","ngForOf"],["class","chat-messages-empty",4,"ngIf"],[1,"chat-messages-date-group"],[3,"message","avatar","showAvatars","id","chat-message--in","chat-message--out","nick",4,"ngFor","ngForOf"],[3,"message","avatar","showAvatars","id","nick"],[1,"chat-messages-empty"]],template:function(t,e){1&t&&(So(0,"div",0,1),yo(2,aw,5,7,"ng-container",2),yo(3,cw,2,1,"div",3),Co()),2&t&&(pr(2),wo("ngForOf",e.room.dateMessagesGroups),pr(1),wo("ngIf",0===e.room.messages.length))},directives:[Au,Eu,j_],pipes:[Vu],styles:[".chat-messages[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow-y:scroll}.chat-messages-date-group[_ngcontent-%COMP%]{font-size:.7em;font-style:italic;margin:.5em 0;text-align:center}ngx-chat-message[_ngcontent-%COMP%], ngx-chat-message-simple[_ngcontent-%COMP%]{-webkit-animation-duration:1.5s;-webkit-animation-timing-function:cubic-bezier(.16,1,.3,1);align-self:flex-start;animation-duration:1.5s;animation-timing-function:cubic-bezier(.16,1,.3,1);max-width:76%}ngx-chat-message-simple.chat-message--in[_ngcontent-%COMP%], ngx-chat-message.chat-message--in[_ngcontent-%COMP%]{-webkit-animation-name:ngx-chat-message-in;animation-name:ngx-chat-message-in}ngx-chat-message-simple.chat-message--out[_ngcontent-%COMP%], ngx-chat-message.chat-message--out[_ngcontent-%COMP%]{-webkit-animation-name:ngx-chat-message-out;animation-name:ngx-chat-message-out}"]}),t})();class q_ extends Kw{constructor(t,e,n,s){super(),this.httpClient=t,this.serviceDiscoveryPlugin=e,this.xmppChatAdapter=n,this.logService=s}onBeforeOnline(){return this.uploadService=this.serviceDiscoveryPlugin.findService("store","file"),this.uploadService.then(()=>{this.fileUploadSupported=!0},()=>{this.fileUploadSupported=!1,this.logService.info("http file upload not supported")}),Promise.resolve()}onOffline(){this.uploadService=null,this.fileUploadSupported=!1}upload(t){return Yf(this,void 0,void 0,(function*(){yield this.uploadService;const{name:e,size:n,type:s}=t,r=yield this.requestSlot(e,n.toString(),s);return this.uploadToSlot(r,t)}))}requestSlot(t,e,n){return Yf(this,void 0,void 0,(function*(){const s=(yield this.uploadService).jid;return(yield this.xmppChatAdapter.chatConnectionService.sendIq(Object(Jf.xml)("iq",{to:s,type:"get"},Object(Jf.xml)("request",{xmlns:"urn:xmpp:http:upload:0",filename:t,size:e,"content-type":n})))).getChild("slot").getChild("put").attrs.url}))}uploadToSlot(t,e){return Yf(this,void 0,void 0,(function*(){return yield this.httpClient.put(t,e,{responseType:"blob"}).toPromise(),t}))}}let U_=(()=>{class t{constructor(t,e,n){this.chatService=t,this.chatListService=e,this.contactClickHandler=n,this.Presence=C_,this.ngDestroy=new C,this.httpFileUploadPlugin=this.chatService.getPlugin(q_)}ngOnInit(){this.chatWindowState.contact.messages$.pipe(rm(t=>t.direction===$w.in),Im(this.ngDestroy)).subscribe(()=>{this.chatWindowState.isCollapsed=!1})}ngOnDestroy(){this.ngDestroy.next(),this.ngDestroy.complete()}onClickHeader(){this.chatWindowState.isCollapsed=!this.chatWindowState.isCollapsed}onClickClose(){this.chatListService.closeChat(this.chatWindowState.contact)}sendMessage(){this.messageInput.onSendMessage()}afterSendMessage(){this.messageList.scheduleScrollToLastMessage()}uploadFile(t){return Yf(this,void 0,void 0,(function*(){const e=yield this.httpFileUploadPlugin.upload(t);this.chatService.sendMessage(this.chatWindowState.contact.jidBare.toString(),e)}))}onFocus(){this.messageInput.focus()}onActionClick(t){t.onClick({contact:this.chatWindowState.contact.jidBare.toString(),chatWindow:this})}onContactClick(t){this.contactClickHandler&&!this.chatWindowState.isCollapsed&&(t.stopPropagation(),this.contactClickHandler.onClickContact(this.chatWindowState.contact))}}return t.\u0275fac=function(e){return new(e||t)(bo(u_),bo(g_),bo(R_,8))},t.\u0275cmp=de({type:t,selectors:[["ngx-chat-window"]],viewQuery:function(t,e){var n;1&t&&(Ec(h_,!0),Ec(L_,!0)),2&t&&(xc(n=Oc())&&(e.messageInput=n.first),xc(n=Oc())&&(e.messageList=n.first))},inputs:{chatWindowState:"chatWindowState"},decls:9,vars:8,consts:[[3,"headerClick","closeClick"],[1,"window-header-content"],["class","chat-contact-avatar-wrapper",3,"click",4,"ngIf"],[1,"header-middle"],[1,"chat-contact-name-wrapper",3,"title"],[3,"ngClass","click"],["class","chat-contact-status-wrapper",4,"ngIf"],["class","window-content",3,"enabled","dropMessage","fileUpload",4,"ngIf"],[1,"chat-contact-avatar-wrapper",3,"click"],[3,"imageUrl"],[1,"chat-contact-status-wrapper"],[1,"chat-contact-status"],[1,"window-content",3,"enabled","dropMessage","fileUpload"],[3,"click"],[3,"contact","showAvatars"],[1,"chat-input-container"],[3,"contact","messageSent"],["class","chat-action",3,"ngClass","innerHTML","click",4,"ngFor","ngForOf"],[1,"chat-action",3,"ngClass","innerHTML","click"]],template:function(t,e){1&t&&(So(0,"ngx-chat-window-frame",0),Io("headerClick",(function(){return e.onClickHeader()}))("closeClick",(function(){return e.onClickClose()})),xo(1,1),yo(2,lw,2,1,"div",2),So(3,"div",3),So(4,"div",4),So(5,"span",5),Io("click",(function(t){return e.onContactClick(t)})),Qo(6),Co(),Co(),yo(7,uw,4,3,"div",6),Co(),Eo(),yo(8,dw,6,6,"ngx-chat-filedrop",7),Co()),2&t&&(pr(2),wo("ngIf",e.chatWindowState.contact.avatar),pr(2),wo("title",e.chatWindowState.contact.name),pr(1),wo("ngClass",oc(6,pw,!e.chatWindowState.isCollapsed&&!!e.contactClickHandler)),pr(1),Yo(" ",e.chatWindowState.contact.name," "),pr(1),wo("ngIf",!e.chatWindowState.isCollapsed),pr(1),wo("ngIf",!e.chatWindowState.isCollapsed))},directives:function(){return[J_,Eu,Su,W_,zw,L_,h_,Au]},pipes:function(){return[Fu]},styles:["@-webkit-keyframes ngx-chat-message-in{0%{opacity:0;transform:translateX(50px)}to{opacity:1;transform:none}}@keyframes ngx-chat-message-in{0%{opacity:0;transform:translateX(50px)}to{opacity:1;transform:none}}@-webkit-keyframes ngx-chat-message-out{0%{opacity:0;transform:translateX(-50px)}to{opacity:1;transform:none}}@keyframes ngx-chat-message-out{0%{opacity:0;transform:translateX(-50px)}to{opacity:1;transform:none}}*[_ngcontent-%COMP%]{box-sizing:border-box;font-family:Helvetica,Arial,serif;margin:0;padding:0}.chat-contact-avatar-wrapper[_ngcontent-%COMP%]{height:2em;min-height:2em;min-width:2em;width:2em}.header-middle[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;flex-shrink:1;font-size:.8em;height:100%;justify-content:space-around;line-height:1.2;overflow:hidden;padding:0 .5em;white-space:nowrap}.chat-contact-name-wrapper[_ngcontent-%COMP%], .chat-contact-status-wrapper[_ngcontent-%COMP%]{display:block;overflow:hidden;text-overflow:ellipsis}.has-click-handler[_ngcontent-%COMP%]:hover{text-decoration:underline}.chat-contact-status[_ngcontent-%COMP%]{color:#999}.window-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:5em;overflow-x:hidden;overflow-y:auto;padding:0;text-align:left}.chat-input-container[_ngcontent-%COMP%]{background:#fff;border-top:1px solid #e1e1e1;cursor:text;display:flex;padding:.5em}.chat-action[_ngcontent-%COMP%]{-ms-grid-row-align:center;align-self:center;cursor:pointer;text-align:center}.chat-window-send[_ngcontent-%COMP%]{background-color:#fff;border-color:#fff;color:#000;width:1.5em}.chat-window-send[_ngcontent-%COMP%]:active{border:none}ngx-chat-message-input[_ngcontent-%COMP%]{flex-grow:1}"]}),t})(),B_=(()=>{class t{constructor(t){this.chatService=t,this.showChatComponent=!1}set translations(t){const e=A_();t&&(this.chatService.translations=Object.assign(Object.assign(Object.assign({},e),t),{presence:Object.assign(Object.assign({},e.presence),t.presence)}))}ngOnInit(){this.chatService.state$.subscribe(t=>this.onChatStateChange(t)),this.onRosterStateChanged(this.rosterState),this.userAvatar$&&this.userAvatar$.subscribe(t=>this.chatService.userAvatar$.next(t))}ngOnChanges(t){t.rosterState&&this.onRosterStateChanged(t.rosterState.currentValue)}onChatStateChange(t){this.showChatComponent="online"===t,this.updateBodyClass()}onRosterStateChanged(t){this.rosterState=t,this.updateBodyClass()}updateBodyClass(){this.showChatComponent&&"hidden"!==this.rosterState?document.body.classList.add("has-roster"):document.body.classList.remove("has-roster")}}return t.\u0275fac=function(e){return new(e||t)(bo(u_))},t.\u0275cmp=de({type:t,selectors:[["ngx-chat"]],inputs:{translations:"translations",rosterState:"rosterState",contacts:"contacts",contactRequestsReceived$:"contactRequestsReceived$",contactRequestsSent$:"contactRequestsSent$",contactsUnaffiliated$:"contactsUnaffiliated$",userAvatar$:"userAvatar$"},features:[Pe],decls:2,vars:2,consts:[[3,"rosterState",4,"ngIf"],[3,"rosterState","contacts","contactRequestsReceived$","contactRequestsSent$","contactsUnaffiliated$","rosterStateChanged",4,"ngIf"],[3,"rosterState"],[3,"rosterState","contacts","contactRequestsReceived$","contactRequestsSent$","contactsUnaffiliated$","rosterStateChanged"]],template:function(t,e){1&t&&(yo(0,fw,1,1,"ngx-chat-window-list",0),yo(1,mw,1,5,"ngx-chat-roster-list",1)),2&t&&(wo("ngIf",e.showChatComponent),pr(1),wo("ngIf",e.showChatComponent))},directives:function(){return[Eu,X_,eS]},styles:[""]}),t})();function z_(t){return(t.split("://")[1]||t).split(":")[0].split("/")[0]}const H_=new Ft("pazznetworkNgxChatLinkOpener");let $_=(()=>{class t{constructor(t,e,n){this.router=t,this.platformLocation=e,this.linkOpener=n}ngOnInit(){}onClick(t){if(this.linkOpener)t.preventDefault(),this.linkOpener.openLink(this.link);else if(this.isInApp()){t.preventDefault();const e=document.createElement("a");e.href=this.link,this.router.navigateByUrl(e.pathname)}}isInApp(){return this.link.startsWith(this.appUrl())}appUrl(){return window.location.protocol+"//"+window.location.host+this.platformLocation.getBaseHrefFromDOM()}}return t.\u0275fac=function(e){return new(e||t)(bo(vb),bo(kl),bo(H_,8))},t.\u0275cmp=de({type:t,selectors:[["ngx-chat-message-link"]],decls:2,vars:2,consts:[["target","_blank","rel","noopener",3,"href","click"]],template:function(t,e){1&t&&(So(0,"a",0),Io("click",(function(t){return e.onClick(t)})),Qo(1),Co()),2&t&&(Lo("href",e.link,Gs),pr(1),Wo(e.text))},styles:["a[_ngcontent-%COMP%]{color:#198cff;cursor:pointer}a[_ngcontent-%COMP%]:visited{color:#9a46e8}"]}),t})(),G_=(()=>{class t{constructor(){}ngOnInit(){this.text&&(this.lines=this.text.split("\n"))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=de({type:t,selectors:[["ngx-chat-message-text"]],inputs:{text:"text"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"]],template:function(t,e){1&t&&yo(0,yw,3,2,"span",0),2&t&&wo("ngForOf",e.lines)},directives:[Au,Eu],encapsulation:2}),t})(),Q_=(()=>{class t{constructor(t,e){this.resolver=t,this.viewContainerRef=e}transform(){const t=this.ngxChatLinks;if(t){const e=w_(t),n=this.resolver.resolveComponentFactory(G_),s=this.resolver.resolveComponentFactory($_);let r=0;for(const i of e){const e=t.indexOf(i,r);this.viewContainerRef.createComponent(n).instance.text=t.substring(r,e);const o=this.viewContainerRef.createComponent(s);o.instance.link=i,o.instance.text=this.shorten(i),r=e+i.length}this.viewContainerRef.createComponent(n).instance.text=t.substring(r)}}shorten(t){const e=document.createElement("a");e.href=t;let n=e.pathname;return n.length>17&&(n=n.substring(0,5)+"..."+n.substring(n.length-10)),e.protocol+"//"+e.host+n}ngOnChanges(){this.transform()}}return t.\u0275fac=function(e){return new(e||t)(bo(fa),bo(Ua))},t.\u0275dir=ve({type:t,selectors:[["","ngxChatLinks",""]],inputs:{ngxChatLinks:"ngxChatLinks"},features:[Pe]}),t})(),W_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=de({type:t,selectors:[["ngx-chat-avatar"]],inputs:{imageUrl:"imageUrl"},decls:1,vars:3,consts:[[1,"chat-avatar",3,"ngStyle"]],template:function(t,e){1&t&&Ao(0,"div",0),2&t&&wo("ngStyle",oc(1,vw,"url("+e.imageUrl+")"))},directives:[Mu],styles:[".chat-avatar[_ngcontent-%COMP%]{background-position:50%;background-repeat:no-repeat;background-size:cover;border-radius:50%;height:100%;width:100%}"]}),t})(),Y_=(()=>{class t{constructor(){}ngAfterViewInit(){this.track.attach(this.video.nativeElement)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=de({type:t,selectors:[["ngx-chat-video-window"]],viewQuery:function(t,e){var n;1&t&&Ec(bw,!0),2&t&&xc(n=Oc())&&(e.video=n.first)},inputs:{track:"track"},decls:3,vars:0,consts:[["autoplay","1"],["video",""]],template:function(t,e){1&t&&(So(0,"ngx-chat-window-frame"),Ao(1,"video",0,1),Co())},directives:function(){return[J_]},styles:["video[_ngcontent-%COMP%]{width:100%}"]}),t})(),J_=(()=>{class t{constructor(){this.closeClick=new fc,this.headerClick=new fc}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=de({type:t,selectors:[["ngx-chat-window-frame"]],outputs:{closeClick:"closeClick",headerClick:"headerClick"},ngContentSelectors:Sw,decls:5,vars:1,consts:[[1,"window"],[1,"window-header",3,"click"],["class","window-close",3,"click",4,"ngIf"],[1,"window-close",3,"click"]],template:function(t,e){1&t&&(jo(_w),So(0,"div",0),So(1,"div",1),Io("click",(function(){return e.headerClick.emit()})),No(2),yo(3,ww,2,0,"div",2),Co(),No(4,1),Co()),2&t&&(pr(3),wo("ngIf",e.closeClick.observers.length>0))},directives:[Eu],styles:["@-webkit-keyframes ngx-chat-message-in{0%{opacity:0;transform:translateX(50px)}to{opacity:1;transform:none}}@keyframes ngx-chat-message-in{0%{opacity:0;transform:translateX(50px)}to{opacity:1;transform:none}}@-webkit-keyframes ngx-chat-message-out{0%{opacity:0;transform:translateX(-50px)}to{opacity:1;transform:none}}@keyframes ngx-chat-message-out{0%{opacity:0;transform:translateX(-50px)}to{opacity:1;transform:none}}*[_ngcontent-%COMP%]{box-sizing:border-box;font-family:Helvetica,Arial,serif;margin:0;padding:0}.window[_ngcontent-%COMP%]{background:#f5f5f5;border:1px solid #e1e1e1;border-bottom:none;bottom:0;margin-left:1em;pointer-events:auto;position:relative;width:17em}.window-header[_ngcontent-%COMP%]{align-items:center;border-bottom:1px solid #e1e1e1;cursor:pointer;display:flex;height:2.5em;justify-content:space-between;padding:.25em}.window-header[_ngcontent-%COMP%]:hover{background-color:#efefef}.window-close[_ngcontent-%COMP%]{color:#777;padding:.5em;text-align:right}.window-close[_ngcontent-%COMP%]:hover{color:#000}"]}),t})(),X_=(()=>{class t{constructor(t){this.chatListService=t}}return t.\u0275fac=function(e){return new(e||t)(bo(g_))},t.\u0275cmp=de({type:t,selectors:[["ngx-chat-window-list"]],inputs:{rosterState:"rosterState"},decls:5,vars:7,consts:[[1,"chat-list"],[3,"track",4,"ngFor","ngForOf"],[3,"chatWindowState",4,"ngFor","ngForOf"],[3,"track"],[3,"chatWindowState"]],template:function(t,e){1&t&&(So(0,"div",0),yo(1,Cw,1,1,"ngx-chat-video-window",1),lc(2,"async"),yo(3,Aw,1,1,"ngx-chat-window",2),lc(4,"async"),Co()),2&t&&(wo("@rosterVisibility",e.rosterState),pr(1),wo("ngForOf",uc(2,3,e.chatListService.openTracks$)),pr(2),wo("ngForOf",uc(4,5,e.chatListService.openChats$)))},directives:[Au,Y_,U_],pipes:[Fu],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box;font-family:Helvetica,Arial,serif;margin:0;padding:0}.chat-list[_ngcontent-%COMP%]{align-items:flex-end;bottom:0;display:flex;flex-flow:row nowrap;pointer-events:none;position:fixed;right:16em;z-index:5}"],data:{animation:[kd("rosterVisibility",[Dd("hidden",Md({right:"1em"})),Dd("shown",Md({right:"15em"})),Rd("hidden => shown",Id("400ms ease")),Rd("shown => hidden",Id("400ms ease"))])]}}),t})();class Z_ extends Zw{constructor(){super(...arguments),this.lastReadNodes=[]}addLastReadNode(t,e){this.lastReadNodes.push(Object(Jf.xml)("last-read",{jid:t,date:e}))}toStanza(){return Object(Jf.xml)("entries",{},this.lastReadNodes)}}class K_ extends Kw{constructor(t,e,n,s){super(),this.chatService=t,this.chatMessageListRegistry=e,this.publishSubscribePlugin=n,this.entityTimePlugin=s,this.jidToUnreadCount$=new Xf({}),this.jidToLastReadDate={},this.contactIdToMessageSubscription=new Map,this.chatMessageListRegistry.chatOpened$.pipe(function(t,e=xm){const n=Dm(t)?+t-e.now():Math.abs(t);return t=>t.lift(new Lm(n,e))}(0)).subscribe(t=>this.checkForUnreadCountChange(t)),this.chatService.contactCreated$.subscribe(t=>{const e=t.jidBare.toString();this.contactIdToMessageSubscription.has(e)||this.contactIdToMessageSubscription.set(e,t.messages$.pipe(Em(20)).subscribe(()=>this.checkForUnreadCountChange(t)))}),this.publishSubscribePlugin.publish$.subscribe(t=>this.handlePubSubEvent(t)),this.unreadMessageCountSum$=Kf([this.jidToUnreadCount$,this.chatService.notBlockedContacts$]).pipe(Em(20),j(([t,e])=>{var n;let s=0;for(const r of e)s+=null!==(n=t[r.jidBare.toString()])&&void 0!==n?n:0;return s}),qm(),tt())}checkForUnreadCountChange(t){return Yf(this,void 0,void 0,(function*(){this.chatMessageListRegistry.isChatOpen(t)&&(this.jidToLastReadDate[t.jidBare.toString()]=new Date(yield this.entityTimePlugin.getNow()),this.persistLastSeenDates()),this.updateContactUnreadMessageState(t)}))}onBeforeOnline(){return Yf(this,void 0,void 0,(function*(){this.jidToLastReadDate=yield this.fetchLastSeenDates();for(const t of Object.keys(this.jidToLastReadDate)){const e=this.chatService.getOrCreateContactById(t);this.updateContactUnreadMessageState(e)}}))}onOffline(){for(const t of this.contactIdToMessageSubscription.values())t.unsubscribe();this.contactIdToMessageSubscription.clear(),this.jidToUnreadCount$.next({})}fetchLastSeenDates(){return Yf(this,void 0,void 0,(function*(){const t=yield this.publishSubscribePlugin.retrieveNodeItems("ngxchat:unreadmessagedate");return this.parseLastSeenDates(t)}))}parseLastSeenDates(t){const e={};if(1===t.length){const[n]=t;for(const t of n.getChild("entries").getChildren("last-read")){const{jid:n,date:s}=t.attrs,r=new Date(+s);isNaN(r.getTime())||(e[n]=r)}}return e}updateContactUnreadMessageState(t){const e=t.jidBare.toString(),n=this.jidToLastReadDate[e]||new Date(0),s=this.calculateUnreadMessageCount(t,n),r=this.jidToUnreadCount$.getValue();r[e]!==s&&(r[e]=s,this.jidToUnreadCount$.next(r))}calculateUnreadMessageCount(t,e){const n=Ww(e,t.messages,t=>t.datetime);return t.messages.slice(n).filter(t=>t.direction===$w.in).length}persistLastSeenDates(){const t=new Z_;for(const e in this.jidToLastReadDate)if(this.jidToLastReadDate.hasOwnProperty(e)){const n=this.jidToLastReadDate[e].getTime().toString();t.addLastReadNode(e,n)}this.publishSubscribePlugin.storePrivatePayloadPersistent("ngxchat:unreadmessagedate","current",t.toStanza())}handlePubSubEvent(t){const e=t.getChild("items"),n=e&&e.attrs.node,s=e&&e.getChildren("item");if("ngxchat:unreadmessagedate"===n&&s){const t=this.parseLastSeenDates(s);this.mergeJidToDates(t)}}mergeJidToDates(t){for(const e in t)(!this.jidToLastReadDate[e]||this.jidToLastReadDate[e]<t[e])&&(this.jidToLastReadDate[e]=t[e],this.updateContactUnreadMessageState(this.chatService.getOrCreateContactById(e)))}}let tS=(()=>{class t{constructor(t){this.chatService=t,this.presence=C_,this.unreadCount=0,this.ngDestroy=new C}ngOnInit(){this.chatService.getPlugin(K_).jidToUnreadCount$.pipe(j(t=>t[this.contact.jidBare.toString()]||0),qm(),Em(20),Im(this.ngDestroy)).subscribe(t=>this.unreadCount=t)}ngOnDestroy(){this.ngDestroy.next(),this.ngDestroy.complete()}}return t.\u0275fac=function(e){return new(e||t)(bo(u_))},t.\u0275cmp=de({type:t,selectors:[["ngx-chat-roster-contact"]],inputs:{contact:"contact"},decls:9,vars:7,consts:[[1,"roster-contact",3,"title"],[1,"roster-contact-avatar"],[3,"imageUrl"],[1,"roster-contact-name"],[1,"roster-contact-status"],["class","unread-message-badge",4,"ngIf"],["class","roster-presence",3,"ngClass",4,"ngIf"],[1,"unread-message-badge"],[1,"roster-presence",3,"ngClass"]],template:function(t,e){1&t&&(So(0,"div",0),So(1,"div",1),Ao(2,"ngx-chat-avatar",2),Co(),So(3,"div",3),Qo(4),Co(),So(5,"div",4),yo(6,xw,2,1,"div",5),yo(7,Ew,3,3,"div",6),lc(8,"async"),Co(),Co()),2&t&&(wo("title",e.contact.name),pr(2),wo("imageUrl",e.contact.avatar),pr(2),Yo(" ",e.contact.name," "),pr(2),wo("ngIf",e.unreadCount),pr(1),wo("ngIf",uc(8,5,e.contact.presence$)!==e.presence.unavailable))},directives:[W_,Eu,Su],pipes:[Fu],styles:["@-webkit-keyframes ngx-chat-message-in{0%{opacity:0;transform:translateX(50px)}to{opacity:1;transform:none}}@keyframes ngx-chat-message-in{0%{opacity:0;transform:translateX(50px)}to{opacity:1;transform:none}}@-webkit-keyframes ngx-chat-message-out{0%{opacity:0;transform:translateX(-50px)}to{opacity:1;transform:none}}@keyframes ngx-chat-message-out{0%{opacity:0;transform:translateX(-50px)}to{opacity:1;transform:none}}*[_ngcontent-%COMP%]{box-sizing:border-box;font-family:Helvetica,Arial,serif;margin:0;padding:0}.roster-contact[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.roster-contact-avatar[_ngcontent-%COMP%]{height:2em;min-height:2em;min-width:2em;width:2em}.roster-contact-name[_ngcontent-%COMP%]{flex-grow:1;overflow:hidden;padding-left:.5em;padding-top:.5em;text-overflow:ellipsis;white-space:nowrap}.roster-contact-status[_ngcontent-%COMP%]{white-space:nowrap}.roster-presence[_ngcontent-%COMP%]{display:inline-block;margin-left:.3em;padding-top:.5em}.roster-presence.roster-presence--present[_ngcontent-%COMP%]{color:#69ca48}.roster-presence.roster-presence--away[_ngcontent-%COMP%]{color:#ffbe00}.roster-presence.roster-presence--unavailable[_ngcontent-%COMP%]{color:transparent}.unread-message-badge[_ngcontent-%COMP%]{-ms-grid-row-align:center;align-self:center;background-color:#ff5940;border-radius:50%;color:#fff;display:inline-block;height:1.5em;margin-top:.25em;padding-top:.2em;text-align:center;width:1.5em}"]}),t})(),eS=(()=>{class t{constructor(t,e){this.chatService=t,this.chatListService=e,this.rosterStateChanged=new fc}ngOnInit(){this.contacts||(this.contacts=this.chatService.contactsSubscribed$),this.contactRequestsReceived$||(this.contactRequestsReceived$=this.chatService.contactRequestsReceived$),this.contactRequestsSent$||(this.contactRequestsSent$=this.chatService.contactRequestsSent$),this.contactsUnaffiliated$||(this.contactsUnaffiliated$=this.chatService.contactsUnaffiliated$),this.hasNoContacts$=Kf([this.contacts,this.contactRequestsReceived$,this.contactRequestsSent$,this.contactsUnaffiliated$]).pipe(j(([t,e,n,s])=>t.length+e.length+n.length+s.length===0))}onClickContact(t){this.chatListService.openChat(t)}toggleVisibility(){this.rosterStateChanged.emit("shown"===this.rosterState?"hidden":"shown")}}return t.\u0275fac=function(e){return new(e||t)(bo(u_),bo(g_))},t.\u0275cmp=de({type:t,selectors:[["ngx-chat-roster-list"]],inputs:{contacts:"contacts",contactRequestsReceived$:"contactRequestsReceived$",contactRequestsSent$:"contactRequestsSent$",contactsUnaffiliated$:"contactsUnaffiliated$",rosterState:"rosterState"},outputs:{rosterStateChanged:"rosterStateChanged"},decls:18,vars:24,consts:[[1,"roster-drawer",3,"click"],["class","roster-drawer__button",4,"ngIf"],[1,"roster-list"],[1,"roster-header"],[4,"ngIf"],["class","roster-list__empty",4,"ngIf"],[1,"roster-drawer__button"],[1,"roster-group-header"],[1,"contact-list-wrapper"],[3,"contact","click",4,"ngFor","ngForOf"],[3,"contact","click"],[4,"ngFor","ngForOf"],[3,"contact","click",4,"ngIf"],[1,"roster-list__empty"],[1,"contact-pending-request-received-wrapper"],["class","contact-pending-request-received",4,"ngFor","ngForOf"],[1,"contact-pending-request-sent-wrapper"],["class","contact-pending-request-sent",4,"ngFor","ngForOf"],["style","margin-bottom: 1em",4,"ngFor","ngForOf"],[1,"roster-debug-state"],[1,"contact-pending-request-received"],[1,"contact-pending-request-sent"],[2,"margin-bottom","1em"]],template:function(t,e){1&t&&(So(0,"div",0),Io("click",(function(){return e.toggleVisibility()})),yo(1,Ow,2,0,"div",1),yo(2,Tw,2,0,"div",1),Co(),So(3,"div",2),lc(4,"async"),So(5,"div",3),Qo(6),Co(),yo(7,Iw,6,4,"ng-container",4),lc(8,"async"),yo(9,Mw,6,4,"ng-container",4),lc(10,"async"),yo(11,Rw,6,4,"ng-container",4),lc(12,"async"),yo(13,Lw,6,4,"ng-container",4),lc(14,"async"),yo(15,Fw,2,1,"div",5),lc(16,"async"),yo(17,Bw,21,15,"ng-container",4),Co()),2&t&&(wo("@drawerVisibility",e.rosterState),pr(1),wo("ngIf","shown"===e.rosterState),pr(1),wo("ngIf","hidden"===e.rosterState),pr(1),wo("@rosterVisibility",e.rosterState),mo("data-ngx-chat-state",uc(4,12,e.chatService.state$)),pr(3),Yo(" ",e.chatService.translations.chat," "),pr(1),wo("ngIf",uc(8,14,e.contacts).length>0),pr(2),wo("ngIf",uc(10,16,e.contactRequestsReceived$).length>0),pr(2),wo("ngIf",uc(12,18,e.contactRequestsSent$).length>0),pr(2),wo("ngIf",uc(14,20,e.contactsUnaffiliated$).length>0),pr(2),wo("ngIf",uc(16,22,e.hasNoContacts$)),pr(2),wo("ngIf",e.chatService.enableDebugging))},directives:[Eu,Au,tS],pipes:[Fu],styles:["@-webkit-keyframes ngx-chat-message-in{0%{opacity:0;transform:translateX(50px)}to{opacity:1;transform:none}}@keyframes ngx-chat-message-in{0%{opacity:0;transform:translateX(50px)}to{opacity:1;transform:none}}@-webkit-keyframes ngx-chat-message-out{0%{opacity:0;transform:translateX(-50px)}to{opacity:1;transform:none}}@keyframes ngx-chat-message-out{0%{opacity:0;transform:translateX(-50px)}to{opacity:1;transform:none}}*[_ngcontent-%COMP%]{box-sizing:border-box;font-family:Helvetica,Arial,serif;margin:0;padding:0}.roster-list[_ngcontent-%COMP%]{background-color:#f5f5f5;border-left:1px solid #e1e1e1;bottom:0;display:flex;flex-direction:column;margin-left:10px;overflow-y:auto;padding:.5em .5em 0;position:fixed;right:0;text-align:left;top:0;width:14em;z-index:80}.roster-list[_ngcontent-%COMP%]   .roster-header[_ngcontent-%COMP%]{margin-bottom:1em;text-align:center}.roster-list[_ngcontent-%COMP%]   .roster-group-header[_ngcontent-%COMP%]{border-bottom:1px solid #e1e1e1;padding-bottom:.5em}.roster-list[_ngcontent-%COMP%]   .roster-footer[_ngcontent-%COMP%]{border-top:1px solid #e1e1e1;padding-top:.5em;width:14em}.roster-list[_ngcontent-%COMP%]   .contact-list-wrapper[_ngcontent-%COMP%]{margin-bottom:1em}.roster-list[_ngcontent-%COMP%]   ngx-chat-roster-contact[_ngcontent-%COMP%]{display:block;padding:.5em}.roster-list[_ngcontent-%COMP%]   ngx-chat-roster-contact[_ngcontent-%COMP%]:hover{background-color:#e8e8e8;cursor:pointer}.roster-list__empty[_ngcontent-%COMP%]{color:#999;font-size:1.5em;margin-top:.5em;text-align:center}.roster-drawer[_ngcontent-%COMP%]{bottom:0;cursor:pointer;position:fixed;right:14em;top:0;width:1em;z-index:80}.roster-drawer[_ngcontent-%COMP%]:hover{background-color:rgba(30,30,30,.2)}.roster-drawer__button[_ngcontent-%COMP%]{background-color:transparent;color:transparent;margin-left:.4rem;position:fixed;top:50%}.roster-drawer[_ngcontent-%COMP%]:hover   .roster-drawer__button[_ngcontent-%COMP%]{color:#fff}"],data:{animation:[kd("rosterVisibility",[Dd("hidden",Md({right:"-14em"})),Dd("shown",Md({right:"0em"})),Rd("hidden => shown",Id("400ms ease")),Rd("shown => hidden",Id("400ms ease"))]),kd("drawerVisibility",[Dd("hidden",Md({right:"0em"})),Dd("shown",Md({right:"14em"})),Rd("hidden => shown",Id("400ms ease")),Rd("shown => hidden",Id("400ms ease"))])]}}),t})(),nS=(()=>{class t{constructor(t){this.el=t,this.ngxChatIntersectionObserver=new fc,this.intersectionObserver=new IntersectionObserver(t=>{this.ngxChatIntersectionObserver.emit(t[0])},{rootMargin:"150px 0px 150px 0px"}),this.intersectionObserver.observe(t.nativeElement)}ngOnDestroy(){this.intersectionObserver.disconnect()}}return t.\u0275fac=function(e){return new(e||t)(bo(ma))},t.\u0275dir=ve({type:t,selectors:[["","ngxChatIntersectionObserver",""]],outputs:{ngxChatIntersectionObserver:"ngxChatIntersectionObserver"}}),t})();class sS extends Kw{constructor(t){super(),this.publishSubscribePlugin=t}onOffline(){this.pendingAddConference=null}retrieveMultiUserChatRooms(){return Yf(this,void 0,void 0,(function*(){const t=yield this.publishSubscribePlugin.retrieveNodeItems("storage:bookmarks"),e=t&&t[0]&&t[0].getChild("storage","storage:bookmarks"),n=t&&e.getChildren("conference");return n?n.map(t=>this.convertElementToSavedConference(t)):[]}))}convertElementToSavedConference(t){return{name:t.attrs.name,jid:t.attrs.jid,autojoin:"true"===t.attrs.autojoin}}saveConferences(t){const e=function(t,e=((t,e)=>t===e)){const n=[];for(const s of t){let t=!1;for(const r of n)if(e(s,r)){t=!0;break}t||n.push(s)}return n}(t,(t,e)=>t.jid===e.jid);return this.publishSubscribePlugin.storePrivatePayloadPersistent("storage:bookmarks",null,Object(Jf.xml)("storage",{xmlns:"storage:bookmarks"},e.map(t=>this.convertSavedConferenceToElement(t))))}addConference(t){return Yf(this,void 0,void 0,(function*(){for(;this.pendingAddConference;)try{yield this.pendingAddConference}catch(NS){}return this.pendingAddConference=new Promise((e,n)=>Yf(this,void 0,void 0,(function*(){const s=[...yield this.retrieveMultiUserChatRooms(),t];let r;try{r=yield this.saveConferences(s)}finally{this.pendingAddConference=null}r?e(r):n()})))}))}convertSavedConferenceToElement(t){const{name:e,autojoin:n,jid:s}=t;return Object(Jf.xml)("conference",{name:e,jid:s,autojoin:n.toString()})}}class rS extends Kw{constructor(t,e,n){super(),this.xmppChatAdapter=t,this.serviceDiscoveryPlugin=e,this.logService=n,this.serverSupportsTime$=new Xf("unknown"),this.serverTime$=new Xf(null)}onBeforeOnline(){return Yf(this,void 0,void 0,(function*(){if(yield this.serviceDiscoveryPlugin.supportsFeature(this.xmppChatAdapter.chatConnectionService.userJid.domain,"urn:xmpp:time")){const t=yield this.requestTime(this.xmppChatAdapter.chatConnectionService.userJid.domain);this.serverTime$.next(t),this.serverSupportsTime$.next(!0)}else this.serverSupportsTime$.next(!1)}))}onOffline(){this.serverSupportsTime$.next("unknown"),this.serverTime$.next(null)}getNow(){return Yf(this,void 0,void 0,(function*(){const t=this.serverTime$.pipe(j(t=>this.calculateNow(t)),wm());return yield this.serverSupportsTime$.pipe(function(t,e=xm){return function(t,e,n=xm){return s=>{let r=Dm(t),i=r?+t-n.now():Math.abs(t);return s.lift(new Hm(i,r,e,n))}}(5e3,Rm(new zm),e)}(),wm(t=>"unknown"!==t),q(e=>e?t:nm(Date.now())),Gm(()=>nm(Date.now()))).toPromise()}))}calculateNow(t){return t.utcTimestamp+(performance.now()-t.localReference)}requestTime(t){var e;return Yf(this,void 0,void 0,(function*(){const n=yield this.xmppChatAdapter.chatConnectionService.sendIq(Object(Jf.xml)("iq",{type:"get",to:t},Object(Jf.xml)("time",{xmlns:"urn:xmpp:time"}))),s=null===(e=n.getChild("time","urn:xmpp:time"))||void 0===e?void 0:e.getChildText("utc");if(!s){const t="invalid time response";throw this.logService.error(t,n.toString()),new Error(t)}return{utcTimestamp:Date.parse(s),localReference:performance.now()}}))}}class iS extends Kw{constructor(t){super(),this.xmppChatAdapter=t}onBeforeOnline(){return this.xmppChatAdapter.chatConnectionService.sendIq(Object(Jf.xml)("iq",{type:"set"},Object(Jf.xml)("enable",{xmlns:"urn:xmpp:carbons:2"})))}handleStanza(t){const e=t.getChildByAttr("xmlns","urn:xmpp:carbons:2"),n=e&&e.getChild("forwarded","urn:xmpp:forward:0"),s=n&&n.getChild("message","jabber:client"),r=t.attrs.from,i=this.xmppChatAdapter.chatConnectionService.userJid;return!!(t.is("message")&&e&&n&&s&&i&&i.bare().toString()===r)&&this.handleCarbonMessageStanza(s,e)}handleCarbonMessageStanza(t,e){const n=e.is("received")?$w.in:$w.out,s={body:t.getChildText("body"),direction:n,datetime:new Date,delayed:!1},r=new t_;if(this.xmppChatAdapter.plugins.forEach(e=>e.afterReceiveMessage(s,t,r)),!r.discard){const{from:e,to:r}=t.attrs,i=this.xmppChatAdapter.getOrCreateContactById(n===$w.in?e:r);i.addMessage(s),n===$w.in&&this.xmppChatAdapter.message$.next(i)}return!0}}class oS extends Kw{constructor(t,e){super(),this.xmppChatAdapter=t,this.serviceDiscoveryPlugin=e,this.supportsMucSub=new Xf("unknown")}onBeforeOnline(){return this.determineSupportForMucSub()}determineSupportForMucSub(){return Yf(this,void 0,void 0,(function*(){let t;try{t=(yield this.serviceDiscoveryPlugin.findService("conference","text")).features.indexOf("urn:xmpp:mucsub:0")>-1}catch(e){t=!1}this.supportsMucSub.next(t)}))}onOffline(){this.supportsMucSub.next("unknown")}subscribeRoom(t){const e=this.xmppChatAdapter.chatConnectionService.userJid.local;this.xmppChatAdapter.chatConnectionService.sendIq(Object(Jf.xml)("iq",{type:"set",to:t},Object(Jf.xml)("subscribe",{xmlns:"urn:xmpp:mucsub:0",nick:e})))}}class aS extends Error{constructor(t){super(t),this.name="TimeoutError"}}function cS(t,e){const n=function(t){let e;const n=new Promise(n=>{e=setTimeout(n,t)});return n.timeout=e,n}(e);return Promise.race([t.finally((function(){clearTimeout(n.timeout)})),n.then(()=>{throw new aS})])}class lS extends Kw{constructor(t,e,n){super(),this.xmppChatAdapter=t,this.logService=e,this.ngZone=n,this.pingInterval=6e4,this.xmppChatAdapter.state$.pipe(rm(t=>"online"===t)).subscribe(()=>{this.schedulePings()}),this.xmppChatAdapter.state$.pipe(rm(t=>"disconnected"===t)).subscribe(()=>{this.unschedulePings()})}schedulePings(){this.unschedulePings(),this.ngZone.runOutsideAngular(()=>{this.timeoutHandle=window.setInterval(()=>this.ping(),this.pingInterval)})}ping(){return Yf(this,void 0,void 0,(function*(){this.logService.debug("ping...");try{yield cS(this.sendPing(),1e4),this.logService.debug("... pong")}catch(t){"online"===this.xmppChatAdapter.state$.getValue()&&"online"===this.xmppChatAdapter.chatConnectionService.state$.getValue()&&this.logService.error("... pong errored,  connection should be online, waiting for browser websocket timeout")}}))}sendPing(){try{return this.xmppChatAdapter.chatConnectionService.sendIq(Object(Jf.xml)("iq",{type:"get"},Object(Jf.xml)("ping",{xmlns:"urn:xmpp:ping"})))}catch(t){return Promise.reject(t)}}unschedulePings(){window.clearInterval(this.timeoutHandle)}}class uS extends Zw{constructor(t){super(),this.publishOptions={persistItems:!1},t&&(this.publishOptions=Object.assign(Object.assign({},this.publishOptions),t))}toStanza(){const{node:t,id:e,persistItems:n}=this.publishOptions,s=this.publishOptions.data||Object(Jf.xml)("data");return Object(Jf.xml)("iq",{type:"set"},Object(Jf.xml)("pubsub",{xmlns:"http://jabber.org/protocol/pubsub"},Object(Jf.xml)("publish",{node:t},Object(Jf.xml)("item",{id:e},s)),Object(Jf.xml)("publish-options",{},Object(Jf.xml)("x",{xmlns:"jabber:x:data",type:"submit"},Object(Jf.xml)("field",{var:"FORM_TYPE",type:"hidden"},Object(Jf.xml)("value",{},"http://jabber.org/protocol/pubsub#publish-options")),Object(Jf.xml)("field",{var:"pubsub#persist_items"},Object(Jf.xml)("value",{},n?1:0)),Object(Jf.xml)("field",{var:"pubsub#access_model"},Object(Jf.xml)("value",{},"whitelist"))))))}}class hS extends Zw{constructor(t){super(),this.node=t}toStanza(){return Object(Jf.xml)("iq",{type:"get"},Object(Jf.xml)("pubsub",{xmlns:"http://jabber.org/protocol/pubsub"},Object(Jf.xml)("items",{node:this.node})))}}class dS extends Kw{constructor(t,e){super(),this.xmppChatAdapter=t,this.serviceDiscoveryPlugin=e,this.publish$=new C,this.supportsPrivatePublish=new Xf("unknown")}onBeforeOnline(){return this.determineSupportForPrivatePublish()}onOffline(){this.supportsPrivatePublish.next("unknown")}storePrivatePayloadPersistent(t,e,n){return new Promise((s,r)=>{this.supportsPrivatePublish.pipe(rm(t=>"unknown"!==t)).subscribe(i=>{i?s(this.xmppChatAdapter.chatConnectionService.sendIq(new uS({node:t,id:e,data:n,persistItems:!0}).toStanza())):r("does not support private publish subscribe")})})}privateNotify(t,e,n){return new Promise((s,r)=>{this.supportsPrivatePublish.pipe(rm(t=>"unknown"!==t)).subscribe(i=>{i?s(this.xmppChatAdapter.chatConnectionService.sendIq(new uS({node:t,id:n,data:e,persistItems:!1}).toStanza())):r("does not support private publish subscribe")})})}handleStanza(t){const e=t.getChild("event","http://jabber.org/protocol/pubsub#event");return!(!t.is("message")||!e||(this.publish$.next(e),0))}retrieveNodeItems(t){return Yf(this,void 0,void 0,(function*(){try{return(yield this.xmppChatAdapter.chatConnectionService.sendIq(new hS(t).toStanza())).getChild("pubsub").getChild("items").getChildren("item")}catch(e){return[]}}))}determineSupportForPrivatePublish(){return Yf(this,void 0,void 0,(function*(){let t;try{t=(yield this.serviceDiscoveryPlugin.findService("pubsub","pep")).features.indexOf("http://jabber.org/protocol/pubsub#publish-options")>-1}catch(e){t=!1}this.supportsPrivatePublish.next(t)}))}}class pS extends Kw{constructor(t,e){super(),this.xmppChatAdapter=t,this.serviceDiscoveryPlugin=e}register(t,e){return Yf(this,void 0,void 0,(function*(){if(!e){const t=yield this.getPushServiceComponent();e=t.jid}return yield this.xmppChatAdapter.chatConnectionService.sendIq(Object(Jf.xml)("iq",{type:"set"},Object(Jf.xml)("enable",{xmlns:"urn:xmpp:push:0",jid:e,node:t})))}))}getPushServiceComponent(){return Yf(this,void 0,void 0,(function*(){return yield this.serviceDiscoveryPlugin.findService("pubsub","push")}))}unregister(t,e){return Yf(this,void 0,void 0,(function*(){if(!e){const t=yield this.getPushServiceComponent();e=t.jid}return yield this.xmppChatAdapter.chatConnectionService.sendIq(Object(Jf.xml)("iq",{type:"set"},Object(Jf.xml)("disable",{xmlns:"urn:xmpp:push:0",jid:e,node:t})))}))}}class fS extends Kw{constructor(t,e){super(),this.logService=t,this.ngZone=e,this.registered$=new C,this.cleanUp=new C,this.loggedIn$=new C,this.registrationTimeout=5e3}register(t,e,n,s){return Yf(this,void 0,void 0,(function*(){yield this.ngZone.runOutsideAngular(()=>Yf(this,void 0,void 0,(function*(){try{yield cS((()=>Yf(this,void 0,void 0,(function*(){s=s||z_(n),this.logService.debug("registration plugin","connecting..."),yield this.connect(t,e,n,s),this.logService.debug("registration plugin","connection established, starting registration"),yield this.client.iqCaller.request(Object(Jf.xml)("iq",{type:"get",to:s},Object(Jf.xml)("query",{xmlns:"jabber:iq:register"}))),this.logService.debug("registration plugin","server acknowledged registration request, sending credentials"),yield this.client.iqCaller.request(Object(Jf.xml)("iq",{type:"set"},Object(Jf.xml)("query",{xmlns:"jabber:iq:register"},Object(Jf.xml)("username",{},t),Object(Jf.xml)("password",{},e)))),this.registered$.next(),yield this.loggedIn$.pipe(Im(this.cleanUp),wm()).toPromise(),this.logService.debug("registration plugin","registration successful")})))(),this.registrationTimeout)}catch(r){throw this.logService.warn("error registering",r),r}finally{this.cleanUp.next(),this.logService.debug("registration plugin","cleaning up"),yield this.client.stop()}})))}))}connect(t,e,n,s){return new Promise(r=>(this.client=Object(Jf.client)({domain:s||z_(n),service:n,credentials:n=>Yf(this,void 0,void 0,(function*(){r(),yield this.registered$.pipe(Im(this.cleanUp),wm()).toPromise(),yield n({username:t,password:e})}))}),this.client.reconnect.stop(),this.client.timeout=this.registrationTimeout,this.client.on("online",()=>{this.logService.debug("registration plugin","online event"),this.loggedIn$.next()}),this.client.on("error",t=>{this.logService.error("registration plugin",t)}),this.client.on("offline",()=>{this.logService.debug("registration plugin","offline event")}),this.client.start()))}}let mS=(()=>{class t{constructor(t){this.chatService=t,this.enabled=!1,t.message$.subscribe(t=>{this.receivedDirectMessage(t)}),t.getPlugin(l_).message$.subscribe(t=>{this.receivedGroupMessage(t)})}enable(){this.supportsNotification()&&(this.requestNotificationPermission(),this.enabled=!0)}disable(){this.enabled=!1}requestNotificationPermission(){Notification.requestPermission()}receivedDirectMessage(t){if(this.shouldDisplayNotification()){const e=new Notification(t.name,{body:t.mostRecentMessage.body,icon:t.avatar});e.addEventListener("click",()=>{window.focus(),e.close()})}}receivedGroupMessage(t){return Yf(this,void 0,void 0,(function*(){if(this.shouldDisplayNotification()){const e=t.mostRecentMessage.body,n=t.mostRecentMessage.from,s=yield this.customizeGroupMessage(n,e,t),r=new Notification(t.name,s);r.addEventListener("click",()=>{window.focus(),r.close()})}}))}customizeGroupMessage(t,e,n){return Yf(this,void 0,void 0,(function*(){return{body:`${t}: ${e}`}}))}shouldDisplayNotification(){const t=Notification;return this.enabled&&"hidden"===document.visibilityState&&this.supportsNotification()&&"granted"===t.permission}supportsNotification(){return"Notification"in window}}return t.\u0275fac=function(e){return new(e||t)(Wt(u_))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),gS=(()=>{class t{static forRoot(){return{ngModule:t,providers:[mS,g_,y_,k_,T_,M_,P_,{provide:u_,deps:[M_,y_,k_,dg,T_,Xc],useFactory:t.xmppChatAdapter}]}}static xmppChatAdapter(t,e,n,s,r,i){const o=new D_(t,r,n),a=new s_(o),c=new dS(o,a),l=new rS(o,a,r),u=new K_(o,e,c,l);return o.addPlugins([new sS(c),new f_(o,a,r),new e_(o,r),new p_,new l_(o,r,a),c,new I_(o,r),a,new pS(o,a),new lS(o,r,i),new fS(r,i),new iS(o),u,new q_(s,a,o,r),new __(c,o,e,r,l),new oS(o,a),new d_(o,a),l]),o}}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},imports:[[Uu,Kh,Tg,Lg]]}),t})();var yS=n("aVuF");let vS=(()=>{class t{constructor(t){this.chatService=t}ngOnInit(){}sendIq(){return Yf(this,void 0,void 0,(function*(){const t=Object(yS.parse)(this.iqRequest);if(t){const e=yield this.chatService.chatConnectionService.sendIq(t);this.iqResponse=Object(yS.stringify)(e,4,1)}}))}}return t.\u0275fac=function(e){return new(e||t)(bo(u_))},t.\u0275cmp=de({type:t,selectors:[["app-iq"]],decls:9,vars:2,consts:[["rows","10",1,"form-control",3,"ngModel","ngModelChange"],[3,"click"]],template:function(t,e){1&t&&(So(0,"div"),So(1,"h2"),Qo(2,"Send custom IQ packets:"),Co(),So(3,"textarea",0),Io("ngModelChange",(function(t){return e.iqRequest=t})),Co(),So(4,"button",1),Io("click",(function(){return e.sendIq()})),Qo(5,"Send IQ"),Co(),So(6,"pre"),So(7,"code"),Qo(8),Co(),Co(),Co()),2&t&&(pr(3),wo("ngModel",e.iqRequest),pr(5),Wo(e.iqResponse))},directives:[Ju,nh,Xh],styles:[""]}),t})(),bS=(()=>{class t{constructor(t){this.chatService=t}ngOnInit(){}sendStanza(){const t=Object(yS.parse)(this.stanza);if(t)return this.chatService.chatConnectionService.send(t)}}return t.\u0275fac=function(e){return new(e||t)(bo(u_))},t.\u0275cmp=de({type:t,selectors:[["app-send-stanza"]],decls:8,vars:1,consts:[["rows","10",1,"form-control",3,"ngModel","ngModelChange"],[3,"click"]],template:function(t,e){1&t&&(So(0,"div"),So(1,"h2"),Qo(2,"Send custom stanza:"),Co(),So(3,"textarea",0),Io("ngModelChange",(function(t){return e.stanza=t})),Co(),So(4,"button",1),Io("click",(function(){return e.sendStanza()})),Qo(5,"Send stanza"),Co(),So(6,"div"),Qo(7,"Note: responses will not be displayed!"),Co(),Co()),2&t&&(pr(3),wo("ngModel",e.stanza))},directives:[Ju,nh,Xh],styles:[""]}),t})();function wS(t,e){if(1&t){const t=Oo();So(0,"div"),So(1,"button",5),Io("click",(function(){nn(t);const n=e.$implicit;return Do(2).selectedRoom=n})),Qo(2),Co(),Co()}if(2&t){const t=e.$implicit;pr(2),Yo(" ",t.roomJid.bare().toString()," ")}}function _S(t,e){if(1&t&&(xo(0),Ao(1,"ngx-chat-room-messages",6),Ao(2,"ngx-chat-message-input",6),Eo()),2&t){const t=Do(2);pr(1),wo("room",t.selectedRoom),pr(1),wo("room",t.selectedRoom)}}function SS(t,e){1&t&&(So(0,"span"),Qo(1,"(no room joined yet)"),Co())}function CS(t,e){if(1&t){const t=Oo();So(0,"div"),Qo(1),So(2,"button",5),Io("click",(function(){nn(t);const n=e.$implicit;return Do(2).joinRoom(n.jid)})),Qo(3,"join"),Co(),Co()}if(2&t){const t=e.$implicit;pr(1),Jo(" ",t.name,": ",t.jid," ")}}function AS(t,e){if(1&t){const t=Oo();So(0,"div"),yo(1,wS,3,1,"div",2),lc(2,"async"),yo(3,_S,3,2,"ng-container",3),yo(4,SS,2,0,"span",3),lc(5,"async"),Ao(6,"hr"),So(7,"input",4),Io("ngModelChange",(function(e){return nn(t),Do().roomJid=e})),Co(),So(8,"button",5),Io("click",(function(){nn(t);const e=Do();return e.joinRoom(e.roomJid)})),Qo(9,"Join room"),Co(),So(10,"button",5),Io("click",(function(){return nn(t),Do().queryAllRooms()})),Qo(11,"List all rooms"),Co(),yo(12,CS,4,2,"div",2),Co()}if(2&t){const t=Do();pr(1),wo("ngForOf",uc(2,5,t.multiUserChatPlugin.rooms$)),pr(2),wo("ngIf",t.selectedRoom),pr(1),wo("ngIf",0===uc(5,7,t.multiUserChatPlugin.rooms$).length),pr(3),wo("ngModel",t.roomJid),pr(5),wo("ngForOf",t.allRooms)}}function xS(t,e){1&t&&(So(0,"span"),Qo(1,"You need to be online."),Co())}function ES(t,e){1&t&&(yo(0,xS,2,0,"span",3),lc(1,"async")),2&t&&wo("ngIf","online"!==uc(1,1,Do().chatService.state$))}let OS=(()=>{class t{constructor(t){this.chatService=t,this.allRooms=[],this.multiUserChatPlugin=t.getPlugin(l_)}ngOnInit(){}joinRoom(t){return Yf(this,void 0,void 0,(function*(){const e=Object(Jf.jid)(t);this.selectedRoom=yield this.multiUserChatPlugin.joinRoom(e)}))}queryAllRooms(){return Yf(this,void 0,void 0,(function*(){this.allRooms=yield this.multiUserChatPlugin.queryAllRooms()}))}}return t.\u0275fac=function(e){return new(e||t)(bo(u_))},t.\u0275cmp=de({type:t,selectors:[["app-multi-user-chat"]],decls:7,vars:4,consts:[[4,"ngIf","ngIfElse"],["offline",""],[4,"ngFor","ngForOf"],[4,"ngIf"],["type","text","placeholder","room",1,"form-control",3,"ngModel","ngModelChange"],[3,"click"],[3,"room"]],template:function(t,e){if(1&t&&(So(0,"div"),So(1,"h2"),Qo(2,"Chat rooms:"),Co(),yo(3,AS,13,9,"div",0),lc(4,"async"),yo(5,ES,2,3,"ng-template",null,1,kc),Co()),2&t){const t=vo(6);pr(3),wo("ngIf","online"===uc(4,2,e.chatService.state$))("ngIfElse",t)}},directives:[Eu,Au,Ju,nh,Xh,V_,h_],pipes:[Fu],styles:["ngx-chat-message-input[_ngcontent-%COMP%]{display:block;border:1px solid #dadada;width:100%;padding:.5em}"]}),t})();function TS(t,e){if(1&t&&(So(0,"div"),So(1,"p"),Qo(2),Co(),Co()),2&t){const t=Do();pr(2),Wo(t.registrationMessage)}}function kS(t,e){if(1&t&&(xo(0),Ao(1,"ngx-chat-message-list",17),lc(2,"async"),Ao(3,"ngx-chat-message-input",18),lc(4,"async"),Eo()),2&t){const t=Do();pr(1),wo("contact",uc(2,3,t.chatService.contactsSubscribed$)[0])("showAvatars",!0),pr(2),wo("contact",uc(4,5,t.chatService.contactsSubscribed$)[0])}}function IS(t,e){1&t&&Qo(0,"You need to be logged in and have contacts to see this component")}let PS=(()=>{class t{constructor(t,e,n,s,r){this.chatService=t,this.contactFactory=e,this.logService=n,this.chatListStateService=s;const i=JSON.parse(localStorage.getItem("data"))||{};this.logService.logLevel=O_.Debug,this.domain=i.domain,this.service=i.service,this.password=i.password,this.username=i.username,this.chatService.state$.subscribe(t=>this.stateChanged(t)),this.multiUserChatPlugin=this.chatService.getPlugin(l_),this.unreadMessageCountPlugin=this.chatService.getPlugin(K_),r.enable(),window.chatService=t}onLogin(){const t={domain:this.domain,service:this.service,password:this.password,username:this.username};localStorage.setItem("data",JSON.stringify(t)),this.chatService.logIn(t)}onLogout(){this.chatService.logOut()}onRegister(){return Yf(this,void 0,void 0,(function*(){this.registrationMessage="registering ...";try{yield this.chatService.getPlugin(fS).register(this.username,this.password,this.service,this.domain),this.registrationMessage="registration successful"}catch(t){throw this.registrationMessage="registration failed: "+t.toString(),t}}))}onAddContact(){this.chatService.addContact(this.otherJid)}onRemoveContact(){this.chatService.removeContact(this.otherJid)}onOpenChat(){this.chatListStateService.openChat(this.chatService.getOrCreateContactById(this.otherJid))}stateChanged(t){return Yf(this,void 0,void 0,(function*(){console.log("state changed!",t)}))}onReconnect(){this.chatService.reconnect()}}return t.\u0275fac=function(e){return new(e||t)(bo(u_),bo(k_),bo(T_),bo(g_),bo(mS))},t.\u0275cmp=de({type:t,selectors:[["app-index"]],decls:79,vars:23,consts:[[1,"container"],[1,"form-group"],["name","domain","type","text","placeholder","jabber.example.com",1,"form-control",3,"ngModel","ngModelChange"],["name","service","type","text","placeholder","wss://jabber.example.com:5280/websocket",1,"form-control",3,"ngModel","ngModelChange"],["name","username","type","text","placeholder","test@jabber.example.com",1,"form-control",3,"ngModel","ngModelChange"],["name","password","type","password","placeholder","Password",1,"form-control",3,"ngModel","ngModelChange"],["name","login",3,"click"],["name","logout",3,"click"],["name","register",3,"click"],["name","reconnect",3,"click"],[4,"ngIf"],["type","text","placeholder","JID",1,"form-control",3,"ngModel","ngModelChange"],[3,"click"],[4,"ngIf","ngIfElse"],["messagesComponentInformation",""],["routerLink","/ui"],["rosterState","shown"],[3,"contact","showAvatars"],[3,"contact"]],template:function(t,e){if(1&t&&(So(0,"div",0),So(1,"div",1),So(2,"div"),Qo(3," XMPP domain "),So(4,"small"),Qo(5,"(e.g. jabber.example.com)"),Co(),Co(),So(6,"div"),So(7,"input",2),Io("ngModelChange",(function(t){return e.domain=t})),Co(),Co(),Co(),So(8,"div",1),So(9,"div"),Qo(10," Host Websocket endpoint "),So(11,"small"),Qo(12,"(e.g. wss://jabber.example.com:5280/websocket)"),Co(),Co(),So(13,"div"),So(14,"input",3),Io("ngModelChange",(function(t){return e.service=t})),Co(),Co(),Co(),So(15,"div",1),So(16,"div"),Qo(17," Username "),So(18,"small"),Qo(19,"(e.g. test if test@jabber.example.com is your full JID)"),Co(),Co(),So(20,"div"),So(21,"input",4),Io("ngModelChange",(function(t){return e.username=t})),Co(),Co(),Co(),So(22,"div",1),So(23,"div"),Qo(24," Password "),Co(),So(25,"div"),So(26,"input",5),Io("ngModelChange",(function(t){return e.password=t})),Co(),Co(),Co(),So(27,"div"),So(28,"button",6),Io("click",(function(){return e.onLogin()})),Qo(29,"Log in"),Co(),So(30,"button",7),Io("click",(function(){return e.onLogout()})),Qo(31,"Log out"),Co(),So(32,"button",8),Io("click",(function(){return e.onRegister()})),Qo(33,"Register"),Co(),So(34,"button",9),Io("click",(function(){return e.onReconnect()})),Qo(35,"Reconnect"),Co(),Co(),So(36,"div"),Qo(37),lc(38,"async"),Co(),yo(39,TS,3,1,"div",10),Ao(40,"hr"),So(41,"div",1),So(42,"div"),Qo(43," Contact Management "),Co(),So(44,"div"),So(45,"input",11),Io("ngModelChange",(function(t){return e.otherJid=t})),Co(),Co(),Co(),So(46,"button",12),Io("click",(function(){return e.onAddContact()})),Qo(47,"Add contact"),Co(),So(48,"button",12),Io("click",(function(){return e.onRemoveContact()})),Qo(49,"Remove contact"),Co(),So(50,"button",12),Io("click",(function(){return e.onOpenChat()})),Qo(51,"Open chat"),Co(),Ao(52,"hr"),So(53,"button",12),Io("click",(function(){return e.chatService.enableDebugging=!e.chatService.enableDebugging})),Qo(54,"Enable debugging"),Co(),So(55,"div"),So(56,"h2"),Qo(57,"Custom component for a chat session"),Co(),yo(58,kS,5,7,"ng-container",13),lc(59,"async"),lc(60,"async"),yo(61,IS,1,0,"ng-template",null,14,kc),Co(),Ao(63,"hr"),Ao(64,"app-iq"),Ao(65,"app-send-stanza"),Ao(66,"app-multi-user-chat"),So(67,"div"),So(68,"h2"),Qo(69,"Unread messages count:"),Co(),Qo(70),lc(71,"async"),So(72,"pre"),Qo(73),lc(74,"json"),lc(75,"async"),Co(),Co(),So(76,"a",15),Qo(77,"Show mock chats"),Co(),Co(),Ao(78,"ngx-chat",16)),2&t){const t=vo(62);pr(7),wo("ngModel",e.domain),pr(7),wo("ngModel",e.service),pr(7),wo("ngModel",e.username),pr(5),wo("ngModel",e.password),pr(11),Yo("State: ",uc(38,11,e.chatService.state$),""),pr(2),wo("ngIf",e.registrationMessage),pr(6),wo("ngModel",e.otherJid),pr(13),wo("ngIf","online"===uc(59,13,e.chatService.state$)&&uc(60,15,e.chatService.contactsSubscribed$).length>0)("ngIfElse",t),pr(12),Yo(" Sum unread messages: ",uc(71,17,e.unreadMessageCountPlugin.unreadMessageCountSum$)," "),pr(3),Wo(uc(74,19,uc(75,21,e.unreadMessageCountPlugin.jidToUnreadCount$)))}},directives:[Ju,nh,Xh,Eu,vS,bS,OS,bb,B_,L_,h_],pipes:[Fu,qu],styles:[""]}),t})(),MS=(()=>{class t{constructor(){this.Direction=$w,this.MessageState=Hw,this.dummyAvatar=S_,this.myJid=Object(Jf.jid)("me@example.com"),this.otherContactJid=Object(Jf.jid)("other@example.com")}ngOnInit(){this.contact=new E_(this.otherContactJid.toString(),"chat partner name"),this.room=new r_(this.myJid,null),this.add({body:"This is an incoming example message",datetime:new Date("2019-12-22T14:00:00"),direction:$w.in}),this.add({body:"This is an incoming example message on another day",datetime:new Date("2019-12-24T14:00:00"),direction:$w.in}),this.add({body:"This is an incoming example message with a really long link https://forum.golem.de/kommentare/wissenschaft/satelliten-oneweb-macht-der-astronomie-mehr-sorgen-als-starlink/oneweb-ist-doch-bald-pleite/137396,5739317,5739317,read.html#msg-5739317 which has content after the link",datetime:new Date("2019-12-24T14:00:00"),direction:$w.in}),this.add({body:"This is an incoming example message with a really long link https://forum.golem.de/satelliten-oneweb-macht-der-astronomie-mehr-sorgen-als-starlink/ which has content after the link",datetime:new Date("2019-12-24T14:00:00"),direction:$w.in}),this.add({body:"This is an outgoing example message with a really long link https://forum.golem.de/kommentare/wissenschaft/satelliten-oneweb-macht-der-astronomie-mehr-sorgen-als-starlink/oneweb-ist-doch-bald-pleite/137396,5739317,5739317,read.html#msg-5739317 which has content after the link",datetime:new Date("2019-12-24T14:00:00"),direction:$w.out}),this.add({body:"This is an outgoing example message with a really long link https://forum.golem.de/satelliten-oneweb-macht-der-astronomie-mehr-sorgen-als-starlink/ which has content after the link",datetime:new Date("2019-12-24T14:00:00"),direction:$w.out}),this.add({body:"This is an outgoing example message",datetime:new Date("2019-12-24T14:05:01"),direction:$w.out}),this.add({body:"123",datetime:new Date("2019-12-24T14:05:01"),direction:$w.out}),this.add({body:"This is an outgoing message with a link to an image https://dummyimage.com/600x400/000/fff and some text after the link",datetime:new Date("2019-12-24T14:05:01"),direction:$w.out}),this.add({body:"This is an incoming message with a link to an image https://dummyimage.com/600x400/000/fff and some text after the link",datetime:new Date("2019-12-24T14:05:01"),direction:$w.in}),this.add({body:"Really tall image https://dummyimage.com/600x4000/000/fff",datetime:new Date("2019-12-24T14:05:01"),direction:$w.in}),this.add({body:"Really wide image https://dummyimage.com/6000x400/000/fff",datetime:new Date("2019-12-24T14:05:01"),direction:$w.in}),this.add({body:"Rinderkennzeichnungs- und Rindfleischetikettierungs\xfcberwachungsaufgaben\xfcbertragungsgesetz",datetime:new Date("2019-12-24T14:05:01"),direction:$w.in})}add(t){this.contact.addMessage(Object.assign(Object.assign({},t),{delayed:!1,id:null})),this.room.addMessage(Object.assign(Object.assign({},t),{delayed:!1,from:t.direction===$w.in?this.otherContactJid:this.myJid}))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=de({type:t,selectors:[["app-ui"]],decls:34,vars:21,consts:[[1,"container"],["routerLink","/"],[1,"example"],[1,"chat-message-list-wrapper"],[3,"contact","showAvatars"],[1,"chat-message-list-wrapper","simple-message-list"],["formattedDate","2020-06-04 18:35","nick","chat partner",1,"chat-message--out",3,"avatar","direction","messageState"],["formattedDate","2020-06-04 18:36","nick","chat partner",1,"chat-message--out",3,"avatar","direction","messageState"],["formattedDate","2020-06-04 18:37","imageLink","https://dummyimage.com/600x400/000/fff","nick","chat partner",1,"chat-message--out",3,"direction"],[3,"room"]],template:function(t,e){1&t&&(So(0,"div",0),So(1,"a",1),Qo(2,"Back to ngx-chat sample component"),Co(),So(3,"div",2),So(4,"p"),Qo(5,"Default theme (avatars)"),Co(),So(6,"div",3),Ao(7,"ngx-chat-message-list",4),Co(),Co(),So(8,"div",2),So(9,"p"),Qo(10,"Default theme (no avatars)"),Co(),So(11,"div",3),Ao(12,"ngx-chat-message-list",4),Co(),Co(),So(13,"div",2),So(14,"p"),Qo(15,"Simple chat message component used directly"),Co(),So(16,"div",5),So(17,"ngx-chat-message-simple",6),Qo(18," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. "),Co(),So(19,"ngx-chat-message-simple",6),Qo(20," sending "),Co(),So(21,"ngx-chat-message-simple",6),Qo(22," sent "),Co(),So(23,"ngx-chat-message-simple",6),Qo(24," recipient received "),Co(),So(25,"ngx-chat-message-simple",7),Qo(26," recipient seen "),Co(),So(27,"ngx-chat-message-simple",8),Qo(28," content goes here "),Co(),Co(),Co(),So(29,"div",2),So(30,"p"),Qo(31,"Mock for multi user chat room"),Co(),So(32,"div",3),Ao(33,"ngx-chat-room-messages",9),Co(),Co(),Co()),2&t&&(pr(7),wo("contact",e.contact)("showAvatars",!0),pr(5),wo("contact",e.contact)("showAvatars",!1),pr(5),wo("avatar",e.dummyAvatar)("direction",e.Direction.out)("messageState",e.MessageState.SENDING),pr(2),wo("avatar",e.dummyAvatar)("direction",e.Direction.out)("messageState",e.MessageState.SENDING),pr(2),wo("avatar",e.dummyAvatar)("direction",e.Direction.out)("messageState",e.MessageState.SENT),pr(2),wo("avatar",e.dummyAvatar)("direction",e.Direction.out)("messageState",e.MessageState.RECIPIENT_RECEIVED),pr(2),wo("avatar",e.dummyAvatar)("direction",e.Direction.out)("messageState",e.MessageState.RECIPIENT_SEEN),pr(2),wo("direction",e.Direction.out),pr(6),wo("room",e.room))},directives:[bb,L_,F_,V_],styles:[".chat-message-list-wrapper[_ngcontent-%COMP%]{border:1px solid #e3e3e3}.example[_ngcontent-%COMP%]{margin-bottom:2em}.simple-message-list[_ngcontent-%COMP%]{display:flex;flex-direction:column}.simple-message-list[_ngcontent-%COMP%]   ngx-chat-message-simple[_ngcontent-%COMP%]{max-width:76%}.simple-message-list[_ngcontent-%COMP%]   ngx-chat-message-simple.chat-message--in[_ngcontent-%COMP%]{align-self:flex-start}.simple-message-list[_ngcontent-%COMP%]   ngx-chat-message-simple.chat-message--out[_ngcontent-%COMP%]{align-self:flex-end}"]}),t})(),DS=(()=>{class t{}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},imports:[[Pb.forRoot([{path:"",component:PS},{path:"ui",component:MS},{path:"**",redirectTo:"/"}])],Pb]}),t})(),RS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=de({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&Ao(0,"router-outlet")},directives:[_b],styles:[""]}),t})(),jS=(()=>{class t{}return t.\u0275mod=ge({type:t,bootstrap:[RS]}),t.\u0275inj=ht({factory:function(e){return new(e||t)},providers:[],imports:[[Od,Wf,gS.forRoot(),Kh,DS]]}),t})();(function(){if(ws)throw new Error("Cannot enable prod mode after platform setup.");bs=!1})(),xd().bootstrapModule(jS).catch(t=>console.log(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);